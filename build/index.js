(()=>{"use strict";var e={338:(e,t,a)=>{var r=a(795);t.H=r.createRoot,r.hydrateRoot},795:e=>{e.exports=window.ReactDOM}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var l=t[r]={exports:{}};return e[r](l,l.exports,a),l.exports}const r=window.React;var n,l=a(338),s=a(795);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(n||(n={}));const i="popstate";function c(e,t){if(!1===e||null==e)throw new Error(t)}function m(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,a,r){return void 0===a&&(a=null),o({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?g(t):t,{state:a,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:a="",hash:r=""}=e;return a&&"?"!==a&&(t+="?"===a.charAt(0)?a:"?"+a),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substr(a),e=e.substr(0,a));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var b;function h(e,t,a){return void 0===a&&(a="/"),function(e,t,a,r){let n=D(("string"==typeof t?g(t):t).pathname||"/",a);if(null==n)return null;let l=y(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let a=e.length===t.length&&e.slice(0,-1).every((e,a)=>e===t[a]);return a?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(l);let s=null;for(let e=0;null==s&&e<l.length;++e){let t=P(n);s=C(l[e],t,r)}return s}(e,t,a,!1)}function y(e,t,a,r){void 0===t&&(t=[]),void 0===a&&(a=[]),void 0===r&&(r="");let n=(e,n,l)=>{let s={relativePath:void 0===l?e.path||"":l,caseSensitive:!0===e.caseSensitive,childrenIndex:n,route:e};s.relativePath.startsWith("/")&&(c(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let o=I([r,s.relativePath]),i=a.concat(s);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),y(e.children,t,i,o)),(null!=e.path||e.index)&&t.push({path:o,score:_(o,e.index),routesMeta:i})};return e.forEach((e,t)=>{var a;if(""!==e.path&&null!=(a=e.path)&&a.includes("?"))for(let a of f(e.path))n(e,t,a);else n(e,t)}),t}function f(e){let t=e.split("/");if(0===t.length)return[];let[a,...r]=t,n=a.endsWith("?"),l=a.replace(/\?$/,"");if(0===r.length)return n?[l,""]:[l];let s=f(r.join("/")),o=[];return o.push(...s.map(e=>""===e?l:[l,e].join("/"))),n&&o.push(...s),o.map(t=>e.startsWith("/")&&""===t?"/":t)}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(b||(b={})),new Set(["lazy","caseSensitive","path","id","index","children"]);const x=/^:[\w-]+$/,v=3,E=2,k=1,N=10,w=-2,S=e=>"*"===e;function _(e,t){let a=e.split("/"),r=a.length;return a.some(S)&&(r+=w),t&&(r+=E),a.filter(e=>!S(e)).reduce((e,t)=>e+(x.test(t)?v:""===t?k:N),r)}function C(e,t,a){void 0===a&&(a=!1);let{routesMeta:r}=e,n={},l="/",s=[];for(let e=0;e<r.length;++e){let o=r[e],i=e===r.length-1,c="/"===l?t:t.slice(l.length)||"/",m=j({path:o.relativePath,caseSensitive:o.caseSensitive,end:i},c),d=o.route;if(!m&&i&&a&&!r[r.length-1].route.index&&(m=j({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},c)),!m)return null;Object.assign(n,m.params),s.push({params:n,pathname:I([l,m.pathname]),pathnameBase:O(I([l,m.pathnameBase])),route:d}),"/"!==m.pathnameBase&&(l=I([l,m.pathnameBase]))}return s}function j(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[a,r]=function(e,t,a){void 0===t&&(t=!1),void 0===a&&(a=!0),m("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,a)=>(r.push({paramName:t,isOptional:null!=a}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),n+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":""!==e&&"/"!==e&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),n=t.match(a);if(!n)return null;let l=n[0],s=l.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:r.reduce((e,t,a)=>{let{paramName:r,isOptional:n}=t;if("*"===r){let e=o[a]||"";s=l.slice(0,l.length-e.length).replace(/(.)\/+$/,"$1")}const i=o[a];return e[r]=n&&!i?void 0:(i||"").replace(/%2F/g,"/"),e},{}),pathname:l,pathnameBase:s,pattern:e}}function P(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return m(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,r=e.charAt(a);return r&&"/"!==r?null:e.slice(a)||"/"}const M=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function A(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?a.length>1&&a.pop():"."!==e&&a.push(e)}),a.length>1?a.join("/"):"/"}function T(e,t,a,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+a+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function z(e,t){let a=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t?a.map((e,t)=>t===a.length-1?e.pathname:e.pathnameBase):a.map(e=>e.pathnameBase)}function B(e,t,a,r){let n;void 0===r&&(r=!1),"string"==typeof e?n=g(e):(n=o({},e),c(!n.pathname||!n.pathname.includes("?"),T("?","pathname","search",n)),c(!n.pathname||!n.pathname.includes("#"),T("#","pathname","hash",n)),c(!n.search||!n.search.includes("#"),T("#","search","hash",n)));let l,s=""===e||""===n.pathname,i=s?"/":n.pathname;if(null==i)l=a;else{let e=t.length-1;if(!r&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}l=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let a,{pathname:r,search:n="",hash:l=""}="string"==typeof e?g(e):e;if(r)if(s=r,M.test(s))a=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),m(!1,"Pathnames cannot have embedded double slashes - normalizing "+e+" -> "+r)}a=r.startsWith("/")?A(r.substring(1),"/"):A(r,t)}else a=t;var s;return{pathname:a,search:R(n),hash:U(l)}}(n,l),u=i&&"/"!==i&&i.endsWith("/"),p=(s||"."===i)&&a.endsWith("/");return d.pathname.endsWith("/")||!u&&!p||(d.pathname+="/"),d}const I=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),R=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;const L=["post","put","patch","delete"],K=(new Set(L),["get",...L]);function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},$.apply(this,arguments)}new Set(K),new Set([301,302,303,307,308]),new Set([307,308]),Symbol("deferred");const H=r.createContext(null),q=r.createContext(null),F=r.createContext(null),J=r.createContext(null),W=r.createContext({outlet:null,matches:[],isDataRoute:!1}),V=r.createContext(null);function G(){return null!=r.useContext(J)}function Z(){return G()||c(!1),r.useContext(J).location}function X(e){r.useContext(F).static||r.useLayoutEffect(e)}function Y(){let{isDataRoute:e}=r.useContext(W);return e?function(){let{router:e}=function(){let e=r.useContext(H);return e||c(!1),e}(le.UseNavigateStable),t=oe(se.UseNavigateStable),a=r.useRef(!1);return X(()=>{a.current=!0}),r.useCallback(function(r,n){void 0===n&&(n={}),a.current&&("number"==typeof r?e.navigate(r):e.navigate(r,$({fromRouteId:t},n)))},[e,t])}():function(){G()||c(!1);let e=r.useContext(H),{basename:t,future:a,navigator:n}=r.useContext(F),{matches:l}=r.useContext(W),{pathname:s}=Z(),o=JSON.stringify(z(l,a.v7_relativeSplatPath)),i=r.useRef(!1);return X(()=>{i.current=!0}),r.useCallback(function(a,r){if(void 0===r&&(r={}),!i.current)return;if("number"==typeof a)return void n.go(a);let l=B(a,JSON.parse(o),s,"path"===r.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:I([t,l.pathname])),(r.replace?n.replace:n.push)(l,r.state,r)},[t,n,o,s,e])}()}function Q(e,t){let{relative:a}=void 0===t?{}:t,{future:n}=r.useContext(F),{matches:l}=r.useContext(W),{pathname:s}=Z(),o=JSON.stringify(z(l,n.v7_relativeSplatPath));return r.useMemo(()=>B(e,JSON.parse(o),s,"path"===a),[e,o,s,a])}function ee(e,t,a,l){G()||c(!1);let{navigator:s}=r.useContext(F),{matches:o}=r.useContext(W),i=o[o.length-1],m=i?i.params:{},d=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;let u,p=Z();if(t){var b;let e="string"==typeof t?g(t):t;"/"===d||(null==(b=e.pathname)?void 0:b.startsWith(d))||c(!1),u=e}else u=p;let y=u.pathname||"/",f=y;if("/"!==d){let e=d.replace(/^\//,"").split("/");f="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=h(e,{pathname:f}),v=function(e,t,a,n){var l;if(void 0===t&&(t=[]),void 0===a&&(a=null),void 0===n&&(n=null),null==e){var s;if(!a)return null;if(a.errors)e=a.matches;else{if(!(null!=(s=n)&&s.v7_partialHydration&&0===t.length&&!a.initialized&&a.matches.length>0))return null;e=a.matches}}let o=e,i=null==(l=a)?void 0:l.errors;if(null!=i){let e=o.findIndex(e=>e.route.id&&void 0!==(null==i?void 0:i[e.route.id]));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}let m=!1,d=-1;if(a&&n&&n.v7_partialHydration)for(let e=0;e<o.length;e++){let t=o[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(d=e),t.route.id){let{loaderData:e,errors:r}=a,n=t.route.loader&&void 0===e[t.route.id]&&(!r||void 0===r[t.route.id]);if(t.route.lazy||n){m=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight((e,n,l)=>{let s,c=!1,u=null,p=null;var g;a&&(s=i&&n.route.id?i[n.route.id]:void 0,u=n.route.errorElement||ae,m&&(d<0&&0===l?(ie[g="route-fallback"]||(ie[g]=!0),c=!0,p=null):d===l&&(c=!0,p=n.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,l+1)),h=()=>{let t;return t=s?u:c?p:n.route.Component?r.createElement(n.route.Component,null):n.route.element?n.route.element:e,r.createElement(ne,{match:n,routeContext:{outlet:e,matches:b,isDataRoute:null!=a},children:t})};return a&&(n.route.ErrorBoundary||n.route.errorElement||0===l)?r.createElement(re,{location:a.location,revalidation:a.revalidation,component:u,error:s,children:h(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):h()},null)}(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},m,e.params),pathname:I([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:I([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,a,l);return t&&v?r.createElement(J.Provider,{value:{location:$({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:n.Pop}},v):v}function te(){let e=function(){var e;let t=r.useContext(V),a=function(){let e=r.useContext(q);return e||c(!1),e}(se.UseRouteError),n=oe(se.UseRouteError);return void 0!==t?t:null==(e=a.errors)?void 0:e[n]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),a?r.createElement("pre",{style:n},a):null,null)}const ae=r.createElement(te,null);class re extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(W.Provider,{value:this.props.routeContext},r.createElement(V.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ne(e){let{routeContext:t,match:a,children:n}=e,l=r.useContext(H);return l&&l.static&&l.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=a.route.id),r.createElement(W.Provider,{value:t},n)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),se=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(se||{});function oe(e){let t=function(){let e=r.useContext(W);return e||c(!1),e}(),a=t.matches[t.matches.length-1];return a.route.id||c(!1),a.route.id}const ie={};function ce(e){c(!1)}function me(e){let{basename:t="/",children:a=null,location:l,navigationType:s=n.Pop,navigator:o,static:i=!1,future:m}=e;G()&&c(!1);let d=t.replace(/^\/*/,"/"),u=r.useMemo(()=>({basename:d,navigator:o,static:i,future:$({v7_relativeSplatPath:!1},m)}),[d,m,o,i]);"string"==typeof l&&(l=g(l));let{pathname:p="/",search:b="",hash:h="",state:y=null,key:f="default"}=l,x=r.useMemo(()=>{let e=D(p,d);return null==e?null:{location:{pathname:e,search:b,hash:h,state:y,key:f},navigationType:s}},[d,p,b,h,y,f,s]);return null==x?null:r.createElement(F.Provider,{value:u},r.createElement(J.Provider,{children:a,value:x}))}function de(e){let{children:t,location:a}=e;return ee(ue(t),a)}function ue(e,t){void 0===t&&(t=[]);let a=[];return r.Children.forEach(e,(e,n)=>{if(!r.isValidElement(e))return;let l=[...t,n];if(e.type===r.Fragment)return void a.push.apply(a,ue(e.props.children,l));e.type!==ce&&c(!1),e.props.index&&e.props.children&&c(!1);let s={id:e.props.id||l.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ue(e.props.children,l)),a.push(s)}),a}function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},pe.apply(this,arguments)}function ge(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}r.startTransition,new Promise(()=>{}),r.Component,new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const be=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],he=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(_e){}const ye=r.createContext({isTransitioning:!1});new Map;const fe=r.startTransition;function xe(e){let{basename:t,children:a,future:l,window:s}=e,b=r.useRef();var h;null==b.current&&(b.current=(void 0===(h={window:s,v5Compat:!0})&&(h={}),function(e,t,a,r){void 0===r&&(r={});let{window:l=document.defaultView,v5Compat:s=!1}=r,m=l.history,g=n.Pop,b=null,h=y();function y(){return(m.state||{idx:null}).idx}function f(){g=n.Pop;let e=y(),t=null==e?null:e-h;h=e,b&&b({action:g,location:v.location,delta:t})}function x(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,a="string"==typeof e?e:p(e);return a=a.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+a),new URL(a,t)}null==h&&(h=0,m.replaceState(o({},m.state,{idx:h}),""));let v={get action(){return g},get location(){return e(l,m)},listen(e){if(b)throw new Error("A history only accepts one active listener");return l.addEventListener(i,f),b=e,()=>{l.removeEventListener(i,f),b=null}},createHref:e=>t(l,e),createURL:x,encodeLocation(e){let t=x(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){g=n.Push;let r=u(v.location,e,t);a&&a(r,e),h=y()+1;let o=d(r,h),i=v.createHref(r);try{m.pushState(o,"",i)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;l.location.assign(i)}s&&b&&b({action:g,location:v.location,delta:1})},replace:function(e,t){g=n.Replace;let r=u(v.location,e,t);a&&a(r,e),h=y();let l=d(r,h),o=v.createHref(r);m.replaceState(l,"",o),s&&b&&b({action:g,location:v.location,delta:0})},go:e=>m.go(e)};return v}(function(e,t){let{pathname:a="/",search:r="",hash:n=""}=g(e.location.hash.substr(1));return a.startsWith("/")||a.startsWith(".")||(a="/"+a),u("",{pathname:a,search:r,hash:n},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let a=e.document.querySelector("base"),r="";if(a&&a.getAttribute("href")){let t=e.location.href,a=t.indexOf("#");r=-1===a?t:t.slice(0,a)}return r+"#"+("string"==typeof t?t:p(t))},function(e,t){m("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")},h)));let y=b.current,[f,x]=r.useState({action:y.action,location:y.location}),{v7_startTransition:v}=l||{},E=r.useCallback(e=>{v&&fe?fe(()=>x(e)):x(e)},[x,v]);return r.useLayoutEffect(()=>y.listen(E),[y,E]),r.useEffect(()=>{return null==(e=l)||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),void(t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation));var e,t},[l]),r.createElement(me,{basename:t,children:a,location:f.location,navigationType:f.action,navigator:y,future:l})}s.flushSync,r.useId;const ve="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ke=r.forwardRef(function(e,t){let a,{onClick:n,relative:l,reloadDocument:s,replace:o,state:i,target:m,to:d,preventScrollReset:u,viewTransition:g}=e,b=ge(e,be),{basename:h}=r.useContext(F),y=!1;if("string"==typeof d&&Ee.test(d)&&(a=d,ve))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),a=D(t.pathname,h);t.origin===e.origin&&null!=a?d=a+t.search+t.hash:y=!0}catch(e){}let f=function(e,t){let{relative:a}=void 0===t?{}:t;G()||c(!1);let{basename:n,navigator:l}=r.useContext(F),{hash:s,pathname:o,search:i}=Q(e,{relative:a}),m=o;return"/"!==n&&(m="/"===o?n:I([n,o])),l.createHref({pathname:m,search:i,hash:s})}(d,{relative:l}),x=function(e,t){let{target:a,replace:n,state:l,preventScrollReset:s,relative:o,viewTransition:i}=void 0===t?{}:t,c=Y(),m=Z(),d=Q(e,{relative:o});return r.useCallback(t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,a)){t.preventDefault();let a=void 0!==n?n:p(m)===p(d);c(e,{replace:a,state:l,preventScrollReset:s,relative:o,viewTransition:i})}},[m,c,d,n,l,a,e,s,o,i])}(d,{replace:o,state:i,target:m,preventScrollReset:u,relative:l,viewTransition:g});return r.createElement("a",pe({},b,{href:a||f,onClick:y||s?n:function(e){n&&n(e),e.defaultPrevented||x(e)},ref:t,target:m}))}),Ne=r.forwardRef(function(e,t){let{"aria-current":a="page",caseSensitive:n=!1,className:l="",end:s=!1,style:o,to:i,viewTransition:m,children:d}=e,u=ge(e,he),p=Q(i,{relative:u.relative}),g=Z(),b=r.useContext(q),{navigator:h,basename:y}=r.useContext(F),f=null!=b&&function(e,t){void 0===t&&(t={});let a=r.useContext(ye);null==a&&c(!1);let{basename:n}=function(){let e=r.useContext(H);return e||c(!1),e}(we.useViewTransitionState),l=Q(e,{relative:t.relative});if(!a.isTransitioning)return!1;let s=D(a.currentLocation.pathname,n)||a.currentLocation.pathname,o=D(a.nextLocation.pathname,n)||a.nextLocation.pathname;return null!=j(l.pathname,o)||null!=j(l.pathname,s)}(p)&&!0===m,x=h.encodeLocation?h.encodeLocation(p).pathname:p.pathname,v=g.pathname,E=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(v=v.toLowerCase(),E=E?E.toLowerCase():null,x=x.toLowerCase()),E&&y&&(E=D(E,y)||E);const k="/"!==x&&x.endsWith("/")?x.length-1:x.length;let N,w=v===x||!s&&v.startsWith(x)&&"/"===v.charAt(k),S=null!=E&&(E===x||!s&&E.startsWith(x)&&"/"===E.charAt(x.length)),_={isActive:w,isPending:S,isTransitioning:f},C=w?a:void 0;N="function"==typeof l?l(_):[l,w?"active":null,S?"pending":null,f?"transitioning":null].filter(Boolean).join(" ");let P="function"==typeof o?o(_):o;return r.createElement(ke,pe({},u,{"aria-current":C,className:N,ref:t,style:P,to:i,viewTransition:m}),"function"==typeof d?d(_):d)});var we,Se;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(we||(we={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Se||(Se={}));let _e={data:""},Ce=e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||_e},je=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Pe=/\/\*[^]*?\*\/|  +/g,De=/\n+/g,Me=(e,t)=>{let a="",r="",n="";for(let l in e){let s=e[l];"@"==l[0]?"i"==l[1]?a=l+" "+s+";":r+="f"==l[1]?Me(s,l):l+"{"+Me(s,"k"==l[1]?"":t)+"}":"object"==typeof s?r+=Me(s,t?t.replace(/([^,])+/g,e=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):l):null!=s&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=Me.p?Me.p(l,s):l+":"+s+";")}return a+(t&&n?t+"{"+n+"}":n)+r},Ae={},Te=e=>{if("object"==typeof e){let t="";for(let a in e)t+=a+Te(e[a]);return t}return e},ze=(e,t,a,r,n)=>{let l=Te(e),s=Ae[l]||(Ae[l]=(e=>{let t=0,a=11;for(;t<e.length;)a=101*a+e.charCodeAt(t++)>>>0;return"go"+a})(l));if(!Ae[s]){let t=l!==e?e:(e=>{let t,a,r=[{}];for(;t=je.exec(e.replace(Pe,""));)t[4]?r.shift():t[3]?(a=t[3].replace(De," ").trim(),r.unshift(r[0][a]=r[0][a]||{})):r[0][t[1]]=t[2].replace(De," ").trim();return r[0]})(e);Ae[s]=Me(n?{["@keyframes "+s]:t}:t,a?"":"."+s)}let o=a&&Ae.g?Ae.g:null;return a&&(Ae.g=Ae[s]),((e,t,a,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=a?e+t.data:t.data+e)})(Ae[s],t,r,o),s};function Be(e){let t=this||{},a=e.call?e(t.p):e;return ze(a.unshift?a.raw?((e,t,a)=>e.reduce((e,r,n)=>{let l=t[n];if(l&&l.call){let e=l(a),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;l=t?"."+t:e&&"object"==typeof e?e.props?"":Me(e,""):!1===e?"":e}return e+r+(null==l?"":l)},""))(a,[].slice.call(arguments,1),t.p):a.reduce((e,a)=>Object.assign(e,a&&a.call?a(t.p):a),{}):a,Ce(t.target),t.g,t.o,t.k)}Be.bind({g:1});let Ie,Oe,Re,Ue=Be.bind({k:1});function Le(e,t){let a=this||{};return function(){let r=arguments;function n(l,s){let o=Object.assign({},l),i=o.className||n.className;a.p=Object.assign({theme:Oe&&Oe()},o),a.o=/ *go\d+/.test(i),o.className=Be.apply(a,r)+(i?" "+i:""),t&&(o.ref=s);let c=e;return e[0]&&(c=o.as||e,delete o.as),Re&&c[0]&&Re(o),Ie(c,o)}return t?t(n):n}}var Ke=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,$e=(()=>{let e=0;return()=>(++e).toString()})(),He=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),qe="default",Fe=(e,t)=>{let{toastLimit:a}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,a)};case 1:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case 2:let{toast:r}=t;return Fe(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,dismissed:!0,visible:!1}:e)};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let l=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+l}))}}},Je=[],We={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},Ve={},Ge=(e,t=qe)=>{Ve[t]=Fe(Ve[t]||We,e),Je.forEach(([e,a])=>{e===t&&a(Ve[t])})},Ze=e=>Object.keys(Ve).forEach(t=>Ge(e,t)),Xe=(e=qe)=>t=>{Ge(t,e)},Ye={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Qe=e=>(t,a)=>{let r=((e,t="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...a,id:(null==a?void 0:a.id)||$e()}))(t,e,a);return Xe(r.toasterId||(e=>Object.keys(Ve).find(t=>Ve[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},et=(e,t)=>Qe("blank")(e,t);et.error=Qe("error"),et.success=Qe("success"),et.loading=Qe("loading"),et.custom=Qe("custom"),et.dismiss=(e,t)=>{let a={type:3,toastId:e};t?Xe(t)(a):Ze(a)},et.dismissAll=e=>et.dismiss(void 0,e),et.remove=(e,t)=>{let a={type:4,toastId:e};t?Xe(t)(a):Ze(a)},et.removeAll=e=>et.remove(void 0,e),et.promise=(e,t,a)=>{let r=et.loading(t.loading,{...a,...null==a?void 0:a.loading});return"function"==typeof e&&(e=e()),e.then(e=>{let n=t.success?Ke(t.success,e):void 0;return n?et.success(n,{id:r,...a,...null==a?void 0:a.success}):et.dismiss(r),e}).catch(e=>{let n=t.error?Ke(t.error,e):void 0;n?et.error(n,{id:r,...a,...null==a?void 0:a.error}):et.dismiss(r)}),e};var tt=Ue`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,at=Ue`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,rt=Ue`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,nt=Le("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${tt} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${at} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${rt} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,lt=Ue`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,st=Le("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${lt} 1s linear infinite;
`,ot=Ue`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,it=Ue`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ct=Le("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ot} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${it} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,mt=Le("div")`
  position: absolute;
`,dt=Le("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ut=Ue`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,pt=Le("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ut} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,gt=({toast:e})=>{let{icon:t,type:a,iconTheme:n}=e;return void 0!==t?"string"==typeof t?r.createElement(pt,null,t):t:"blank"===a?null:r.createElement(dt,null,r.createElement(st,{...n}),"loading"!==a&&r.createElement(mt,null,"error"===a?r.createElement(nt,{...n}):r.createElement(ct,{...n})))},bt=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,ht=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,yt=Le("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ft=Le("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,xt=r.memo(({toast:e,position:t,style:a,children:n})=>{let l=e.height?((e,t)=>{let a=e.includes("top")?1:-1,[r,n]=He()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[bt(a),ht(a)];return{animation:t?`${Ue(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ue(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(e.position||t||"top-center",e.visible):{opacity:0},s=r.createElement(gt,{toast:e}),o=r.createElement(ft,{...e.ariaProps},Ke(e.message,e));return r.createElement(yt,{className:e.className,style:{...l,...a,...e.style}},"function"==typeof n?n({icon:s,message:o}):r.createElement(r.Fragment,null,s,o))});!function(e){Me.p=void 0,Ie=e,Oe=void 0,Re=void 0}(r.createElement);var vt=({id:e,className:t,style:a,onHeightUpdate:n,children:l})=>{let s=r.useCallback(t=>{if(t){let a=()=>{let a=t.getBoundingClientRect().height;n(e,a)};a(),new MutationObserver(a).observe(t,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return r.createElement("div",{ref:s,className:t,style:a},l)},Et=Be`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,kt=({reverseOrder:e,position:t="top-center",toastOptions:a,gutter:n,children:l,toasterId:s,containerStyle:o,containerClassName:i})=>{let{toasts:c,handlers:m}=((e,t="default")=>{let{toasts:a,pausedAt:n}=((e={},t=qe)=>{let[a,n]=(0,r.useState)(Ve[t]||We),l=(0,r.useRef)(Ve[t]);(0,r.useEffect)(()=>(l.current!==Ve[t]&&n(Ve[t]),Je.push([t,n]),()=>{let e=Je.findIndex(([e])=>e===t);e>-1&&Je.splice(e,1)}),[t]);let s=a.toasts.map(t=>{var a,r,n;return{...e,...e[t.type],...t,removeDelay:t.removeDelay||(null==(a=e[t.type])?void 0:a.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||Ye[t.type],style:{...e.style,...null==(n=e[t.type])?void 0:n.style,...t.style}}});return{...a,toasts:s}})(e,t),l=(0,r.useRef)(new Map).current,s=(0,r.useCallback)((e,t=1e3)=>{if(l.has(e))return;let a=setTimeout(()=>{l.delete(e),o({type:4,toastId:e})},t);l.set(e,a)},[]);(0,r.useEffect)(()=>{if(n)return;let e=Date.now(),r=a.map(a=>{if(a.duration===1/0)return;let r=(a.duration||0)+a.pauseDuration-(e-a.createdAt);if(!(r<0))return setTimeout(()=>et.dismiss(a.id,t),r);a.visible&&et.dismiss(a.id)});return()=>{r.forEach(e=>e&&clearTimeout(e))}},[a,n,t]);let o=(0,r.useCallback)(Xe(t),[t]),i=(0,r.useCallback)(()=>{o({type:5,time:Date.now()})},[o]),c=(0,r.useCallback)((e,t)=>{o({type:1,toast:{id:e,height:t}})},[o]),m=(0,r.useCallback)(()=>{n&&o({type:6,time:Date.now()})},[n,o]),d=(0,r.useCallback)((e,t)=>{let{reverseOrder:r=!1,gutter:n=8,defaultPosition:l}=t||{},s=a.filter(t=>(t.position||l)===(e.position||l)&&t.height),o=s.findIndex(t=>t.id===e.id),i=s.filter((e,t)=>t<o&&e.visible).length;return s.filter(e=>e.visible).slice(...r?[i+1]:[0,i]).reduce((e,t)=>e+(t.height||0)+n,0)},[a]);return(0,r.useEffect)(()=>{a.forEach(e=>{if(e.dismissed)s(e.id,e.removeDelay);else{let t=l.get(e.id);t&&(clearTimeout(t),l.delete(e.id))}})},[a,s]),{toasts:a,handlers:{updateHeight:c,startPause:i,endPause:m,calculateOffset:d}}})(a,s);return r.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...o},className:i,onMouseEnter:m.startPause,onMouseLeave:m.endPause},c.map(a=>{let s=a.position||t,o=((e,t)=>{let a=e.includes("top"),r=a?{top:0}:{bottom:0},n=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:He()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(a?1:-1)}px)`,...r,...n}})(s,m.calculateOffset(a,{reverseOrder:e,gutter:n,defaultPosition:t}));return r.createElement(vt,{id:a.id,key:a.id,onHeightUpdate:m.updateHeight,className:a.visible?Et:"",style:o},"custom"===a.type?Ke(a.message,a):l?l(a):r.createElement(xt,{toast:a,position:s}))}))},Nt=et;const wt=window.umhData||{root:"",nonce:"",user:null},St=async(e,t={})=>{const{root:a,nonce:r}=wt,n=`${a}umh/v1/${(e.startsWith("/")?e.substring(1):e).replace("umh/v1/","")}`,l={"X-WP-Nonce":r,...t.headers};t.body instanceof FormData||(l["Content-Type"]="application/json");const s={...t,headers:l};try{const e=await fetch(n,s),t=await e.json();if(!e.ok)throw new Error(t.message||t.code||"Terjadi kesalahan pada server.");return t}catch(t){throw console.error(`API Error [${e}]:`,t),t}},_t=(e,t={})=>{const a=new URLSearchParams(t.params).toString();return St(a?`${e}?${a}`:e,{method:"GET"})},Ct=(e,t)=>St(e,{method:"POST",body:t instanceof FormData?t:JSON.stringify(t)}),jt=e=>St(e,{method:"DELETE"}),Pt=(0,r.createContext)(),Dt=()=>(0,r.useContext)(Pt),Mt=({children:e})=>{const[t,a]=(0,r.useState)(null),[n,l]=(0,r.useState)(null),[s,o]=(0,r.useState)(!0),[i,c]=(0,r.useState)(null),[m,d]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{o(!0),c(null);try{window.umhData&&window.umhData.user&&a(window.umhData.user);const[e,t]=await Promise.all([_t("umh/v1/stats/totals").catch(e=>({data:{}})),_t("umh/v1/departures",{params:{per_page:5,status:"scheduled",orderby:"departure_date",order:"asc"}}).catch(e=>({data:{items:[]}}))]),r=e.data||{},n=t.data,s=Array.isArray(n)?n:n&&Array.isArray(n.items)?n.items:[];l({total_jamaah:r.total_jamaah||0,active_packages:r.total_packages||0,total_revenue:r.total_revenue||0,upcoming_departures:s.map(e=>({name:e.package_name,date:e.departure_date,booked:e.slots_filled||e.total_seats-e.available_seats||0,quota:e.total_seats||0}))})}catch(e){console.error("Gagal inisialisasi aplikasi:",e),c("Gagal memuat data utama. Periksa koneksi internet Anda.")}finally{o(!1)}})()},[]);const u={user:t,stats:n,loading:s,error:i,globalError:m,clearGlobalError:()=>d(null)};return(0,r.createElement)(Pt.Provider,{value:u},e)};var At={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Tt=(e,t)=>{const a=(0,r.forwardRef)(({color:a="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:s,className:o="",children:i,...c},m)=>{return(0,r.createElement)("svg",{ref:m,...At,width:n,height:n,stroke:a,strokeWidth:s?24*Number(l)/Number(n):l,className:["lucide",`lucide-${d=e,d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()}`,o].join(" "),...c},[...t.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(i)?i:[i]]);var d});return a.displayName=`${e}`,a},zt=Tt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Bt=Tt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),It=Tt("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),Ot=Tt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Rt=Tt("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),Ut=Tt("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]),Lt=Tt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),Kt=Tt("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]),$t=Tt("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),Ht=Tt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),qt=Tt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ft=()=>{const e=Z(),{user:t}=Dt(),a=t=>e.pathname===t?"bg-blue-600 text-white shadow-md":"text-gray-300 hover:bg-gray-800 hover:text-white",n=[{path:"/",label:"Dashboard",icon:(0,r.createElement)(zt,{size:20})},{path:"/jamaah",label:"Data Jemaah",icon:(0,r.createElement)(Bt,{size:20})},{path:"/packages",label:"Paket Umrah/Haji",icon:(0,r.createElement)(It,{size:20})},{path:"/departures",label:"Jadwal Keberangkatan",icon:(0,r.createElement)(Ot,{size:20})},{path:"/finance",label:"Keuangan & Kasir",icon:(0,r.createElement)(Rt,{size:20})},{path:"/marketing",label:"Marketing & Leads",icon:(0,r.createElement)(Ut,{size:20})},{path:"/tasks",label:"Tugas Tim",icon:(0,r.createElement)(Lt,{size:20})},{path:"/hr",label:"HR & Karyawan",icon:(0,r.createElement)(Kt,{size:20})},{path:"/logistics",label:"Logistik & Perlengkapan",icon:(0,r.createElement)($t,{size:20})}];return(0,r.createElement)("div",{className:"w-64 bg-gray-900 text-white min-h-screen flex flex-col transition-all duration-300"},(0,r.createElement)("div",{className:"h-16 flex items-center justify-center border-b border-gray-800 font-bold text-xl tracking-wider"},(0,r.createElement)("span",{className:"text-blue-500 mr-1"},"UMH")," SYSTEM"),(0,r.createElement)("div",{className:"p-4 border-b border-gray-800 flex items-center gap-3"},(0,r.createElement)("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center text-sm font-bold"},t?.name?t.name.charAt(0).toUpperCase():"A"),(0,r.createElement)("div",null,(0,r.createElement)("p",{className:"text-sm font-medium truncate w-32"},t?.name||"Administrator"),(0,r.createElement)("p",{className:"text-xs text-gray-400 capitalize"},t?.role||"Super Admin"))),(0,r.createElement)("div",{className:"flex-1 overflow-y-auto py-4"},(0,r.createElement)("nav",{className:"px-2 space-y-1"},n.map(e=>(0,r.createElement)(Ne,{key:e.path,to:e.path,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${a(e.path)}`},e.icon,(0,r.createElement)("span",{className:"font-medium text-sm"},e.label))),(0,r.createElement)("div",{className:"pt-4 pb-2"},(0,r.createElement)("p",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Master Data")),(0,r.createElement)("div",{className:"space-y-1"},[{path:"/hotels",label:"Hotel"},{path:"/flights",label:"Maskapai"},{path:"/agents",label:"Agen & Mitra"},{path:"/users",label:"Pengguna Sistem"}].map(e=>(0,r.createElement)(Ne,{key:e.path,to:e.path,className:`flex items-center gap-3 px-4 py-2 rounded-lg ml-2 transition-colors text-sm ${a(e.path)}`},(0,r.createElement)(Ht,{size:16}),(0,r.createElement)("span",null,e.label)))))),(0,r.createElement)("div",{className:"p-4 border-t border-gray-800"},(0,r.createElement)(Ne,{to:"/settings",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${a("/settings")}`},(0,r.createElement)(qt,{size:20}),(0,r.createElement)("span",{className:"font-medium text-sm"},"Pengaturan")),(0,r.createElement)("div",{className:"mt-2 text-center text-xs text-gray-600"},"Â© 2024 Umroh Manager Hybrid")))},Jt=Tt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Wt=({title:e,toggleSidebar:t})=>{const{user:a}=Dt(),n=a&&("super_admin"===a.role||"administrator"===a.role||"owner"===a.role),l=window.umhData&&window.umhData.adminUrl?window.umhData.adminUrl:"/wp-admin/";return(0,r.createElement)("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-20"},(0,r.createElement)("div",{className:"px-6 py-4 flex items-center justify-between"},(0,r.createElement)("div",{className:"flex items-center gap-4"},(0,r.createElement)("button",{onClick:t,className:"p-2 -ml-2 text-gray-500 hover:bg-gray-100 rounded-lg lg:hidden focus:outline-none focus:ring-2 focus:ring-gray-200"},(0,r.createElement)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,r.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"}))),(0,r.createElement)("h2",{className:"text-xl font-bold text-gray-800 tracking-tight"},e)),(0,r.createElement)("div",{className:"flex items-center gap-3 sm:gap-6"},n&&(0,r.createElement)("a",{href:l,className:"hidden sm:flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm",title:"Kembali ke Dashboard WordPress"},(0,r.createElement)(Jt,{size:16}),(0,r.createElement)("span",null,"Kembali ke WP")),(0,r.createElement)("div",{className:"h-8 w-px bg-gray-200 hidden sm:block"}),(0,r.createElement)("div",{className:"flex items-center gap-3"},(0,r.createElement)("div",{className:"flex flex-col text-right hidden sm:block"},(0,r.createElement)("span",{className:"text-sm font-semibold text-gray-700 truncate max-w-[150px]"},a?a.name:"Pengguna"),(0,r.createElement)("span",{className:"text-xs text-gray-500 uppercase tracking-wide"},a?"super_admin"===a.role?"Administrator":a.role:"Guest")),(0,r.createElement)("div",{className:"relative"},(0,r.createElement)("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 p-0.5 ring-2 ring-white shadow-md"},(0,r.createElement)("div",{className:"h-full w-full rounded-full bg-white flex items-center justify-center overflow-hidden"},a&&a.avatar?(0,r.createElement)("img",{src:a.avatar,alt:"Profile",className:"h-full w-full object-cover"}):(0,r.createElement)("span",{className:"text-blue-600 font-bold text-lg"},a&&a.name?a.name.charAt(0).toUpperCase():"U"))),(0,r.createElement)("div",{className:"absolute bottom-0 right-0 h-3 w-3 bg-green-500 border-2 border-white rounded-full"}))))))},Vt=Tt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Gt=Tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Zt=()=>{const{globalError:e,clearGlobalError:t}=Dt();return e?(0,r.createElement)("div",{className:"fixed top-20 right-6 bg-red-100 border-l-4 border-red-500 text-red-800 p-4 rounded-md shadow-lg z-50 max-w-md",role:"alert"},(0,r.createElement)("div",{className:"flex"},(0,r.createElement)("div",{className:"flex-shrink-0"},(0,r.createElement)(Vt,{size:20,className:"text-red-600"})),(0,r.createElement)("div",{className:"ml-3"},(0,r.createElement)("p",{className:"text-sm font-medium"},e)),(0,r.createElement)("div",{className:"ml-auto pl-3"},(0,r.createElement)("div",{className:"-mx-1.5 -my-1.5"},(0,r.createElement)("button",{type:"button",onClick:t,className:"inline-flex bg-red-100 rounded-md p-1.5 text-red-500 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-red-100 focus:ring-red-600"},(0,r.createElement)("span",{className:"sr-only"},"Tutup"),(0,r.createElement)(Gt,{size:20})))))):null},Xt=({children:e,title:t="Dashboard"})=>{const[a,n]=(0,r.useState)(!1),l=()=>{n(!a)};return(0,r.createElement)("div",{className:"flex h-screen bg-gray-50 overflow-hidden"},(0,r.createElement)(Ft,{isOpen:a,toggleSidebar:l}),(0,r.createElement)("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden"},(0,r.createElement)(Wt,{title:t,toggleSidebar:l}),(0,r.createElement)("main",{className:"flex-1 overflow-y-auto focus:outline-none p-4 sm:p-6 lg:p-8"},(0,r.createElement)("div",{className:"max-w-7xl mx-auto"},(0,r.createElement)(Zt,null),e))))},Yt=Tt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Qt=Tt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),ea=e=>null==e?"Rp 0":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),ta=e=>{if(!e)return"-";try{return new Intl.DateTimeFormat("id-ID",{day:"numeric",month:"long",year:"numeric"}).format(new Date(e))}catch(t){return e}},aa=()=>{const{user:e}=Dt(),[t,a]=(0,r.useState)(null),[n,l]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{(async()=>{try{const e=await _t("stats/totals");a(e)}catch(e){console.error("Gagal memuat statistik",e)}finally{l(!1)}})()},[]),n?(0,r.createElement)(Xt,null,(0,r.createElement)("div",{className:"p-8 text-center"},"Memuat Dashboard...")):(0,r.createElement)(Xt,{title:`Selamat Datang, ${e?.name||"Admin"}`},(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8"},(0,r.createElement)("div",{className:"bg-white p-4 rounded shadow border-l-4 border-blue-500"},(0,r.createElement)("div",{className:"flex justify-between items-center"},(0,r.createElement)("div",null,(0,r.createElement)("p",{className:"text-gray-500 text-sm"},"Total Jemaah"),(0,r.createElement)("h3",{className:"text-2xl font-bold"},t?.total_jamaah||0)),(0,r.createElement)("div",{className:"bg-blue-100 p-3 rounded-full text-blue-600"},(0,r.createElement)(Bt,{size:24})))),(0,r.createElement)("div",{className:"bg-white p-4 rounded shadow border-l-4 border-green-500"},(0,r.createElement)("div",{className:"flex justify-between items-center"},(0,r.createElement)("div",null,(0,r.createElement)("p",{className:"text-gray-500 text-sm"},"Pemasukan"),(0,r.createElement)("h3",{className:"text-xl font-bold"},ea(t?.total_revenue||0))),(0,r.createElement)("div",{className:"bg-green-100 p-3 rounded-full text-green-600"},(0,r.createElement)(Yt,{size:24})))),(0,r.createElement)("div",{className:"bg-white p-4 rounded shadow border-l-4 border-purple-500"},(0,r.createElement)("div",{className:"flex justify-between items-center"},(0,r.createElement)("div",null,(0,r.createElement)("p",{className:"text-gray-500 text-sm"},"Paket Aktif"),(0,r.createElement)("h3",{className:"text-2xl font-bold"},t?.total_packages||0)),(0,r.createElement)("div",{className:"bg-purple-100 p-3 rounded-full text-purple-600"},(0,r.createElement)(It,{size:24})))),(0,r.createElement)("div",{className:"bg-white p-4 rounded shadow border-l-4 border-orange-500"},(0,r.createElement)("div",{className:"flex justify-between items-center"},(0,r.createElement)("div",null,(0,r.createElement)("p",{className:"text-gray-500 text-sm"},"Leads/Prospek"),(0,r.createElement)("h3",{className:"text-2xl font-bold text-orange-600"},"Lihat")),(0,r.createElement)("div",{className:"bg-orange-100 p-3 rounded-full text-orange-600"},(0,r.createElement)(Ut,{size:24}))))),(0,r.createElement)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"},(0,r.createElement)("div",{className:"bg-white rounded shadow p-4"},(0,r.createElement)("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2"},(0,r.createElement)(It,{size:18})," Keberangkatan Terdekat"),(0,r.createElement)("div",{className:"overflow-x-auto"},(0,r.createElement)("table",{className:"w-full text-sm text-left"},(0,r.createElement)("thead",{className:"bg-gray-50 text-gray-600 border-b"},(0,r.createElement)("tr",null,(0,r.createElement)("th",{className:"py-2 px-3"},"Tanggal"),(0,r.createElement)("th",{className:"py-2 px-3"},"Paket"),(0,r.createElement)("th",{className:"py-2 px-3"},"Kursi Terisi"))),(0,r.createElement)("tbody",{className:"divide-y"},t?.upcoming_departures&&t.upcoming_departures.length>0?t.upcoming_departures.map((e,t)=>(0,r.createElement)("tr",{key:t,className:"hover:bg-gray-50"},(0,r.createElement)("td",{className:"py-2 px-3 font-medium"},ta(e.departure_date)),(0,r.createElement)("td",{className:"py-2 px-3"},e.package_name),(0,r.createElement)("td",{className:"py-2 px-3"},(0,r.createElement)("span",{className:"px-2 py-1 rounded text-xs font-bold "+(e.available_seats<5?"bg-red-100 text-red-700":"bg-green-100 text-green-700")},e.slots_filled," / ",e.total_seats)))):(0,r.createElement)("tr",null,(0,r.createElement)("td",{colSpan:"3",className:"text-center py-4 text-gray-400"},"Belum ada jadwal keberangkatan.")))))),(0,r.createElement)("div",{className:"bg-white rounded shadow p-4"},(0,r.createElement)("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2"},(0,r.createElement)(Qt,{size:18})," Status Sistem"),(0,r.createElement)("div",{className:"space-y-3"},(0,r.createElement)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded border"},(0,r.createElement)("span",{className:"text-gray-600"},"Versi Sistem"),(0,r.createElement)("span",{className:"font-mono font-bold"},"v1.0.0 Hybrid")),(0,r.createElement)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded border"},(0,r.createElement)("span",{className:"text-gray-600"},"Database"),(0,r.createElement)("span",{className:"text-green-600 font-bold text-sm"},"Terhubung")),(0,r.createElement)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded border"},(0,r.createElement)("span",{className:"text-gray-600"},"User Login"),(0,r.createElement)("span",{className:"text-blue-600 font-bold text-sm"},e?.name," (",e?.role,")"))))))},ra=Tt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),na=Tt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),la=Tt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]),sa=Tt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),oa=Tt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),ia=({size:e=24,text:t})=>(0,r.createElement)("div",{className:"flex justify-center items-center py-4"},(0,r.createElement)(oa,{className:"animate-spin text-blue-600",size:e}),t&&(0,r.createElement)("span",{className:"ml-2 text-gray-600"},t)),ca=({columns:e,data:t=[],loading:a,sortBy:n,onSort:l,onEdit:s,onDelete:o,renderRowActions:i,userCapabilities:c=[],editCapability:m,deleteCapability:d})=>{const u=Array.isArray(t)?t:[],p=e=>!e||!!c&&(!!("super_admin"===c||Array.isArray(c)&&c.includes("manage_options"))||Array.isArray(c)&&c.includes(e)),g=p(m),b=p(d);return a&&0===u.length?(0,r.createElement)("div",{className:"flex justify-center items-center p-12 bg-white rounded-lg shadow"},(0,r.createElement)(ia,{text:"Sedang memuat data..."})):0===u.length?(0,r.createElement)("div",{className:"text-center p-12 bg-white rounded-lg shadow border border-gray-100"},(0,r.createElement)("p",{className:"text-gray-500"},"Tidak ada data ditemukan.")):(0,r.createElement)("div",{className:"overflow-x-auto bg-white rounded-lg shadow border border-gray-200"},(0,r.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,r.createElement)("thead",{className:"bg-gray-50"},(0,r.createElement)("tr",null,e.map(e=>(0,r.createElement)("th",{key:e.accessor||e.header,scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>e.sortable&&l&&l(e.accessor)},(0,r.createElement)("div",{className:"flex items-center gap-1"},e.Header||e.header,e.sortable&&n&&(0,r.createElement)("span",{className:"inline-block"},n.field===e.accessor?"asc"===n.order?(0,r.createElement)(ra,{size:14}):(0,r.createElement)(na,{size:14}):(0,r.createElement)(ra,{size:14,className:"text-gray-300"}))))),(s||o||i)&&(0,r.createElement)("th",{scope:"col",className:"relative px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi"))),(0,r.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},a&&(0,r.createElement)("tr",null,(0,r.createElement)("td",{colSpan:e.length+1,className:"p-2 bg-blue-50"},(0,r.createElement)("div",{className:"flex justify-center items-center text-blue-600 text-xs"},(0,r.createElement)(ia,{size:16,text:"Memperbarui data..."})))),u.map((t,a)=>(0,r.createElement)("tr",{key:t.id||a,className:"hover:bg-gray-50 transition-colors"},e.map(e=>(0,r.createElement)("td",{key:e.accessor||a,className:`px-6 py-4 whitespace-nowrap text-sm text-gray-700 ${e.className||""}`},e.render?e.render(t,a):void 0!==t[e.accessor]&&null!==t[e.accessor]?t[e.accessor]:"-")),(s||o||i)&&(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-3"},i&&i(t),s&&g&&(0,r.createElement)("button",{onClick:()=>s(t),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"Edit"},(0,r.createElement)(la,{size:18})),o&&b&&(0,r.createElement)("button",{onClick:()=>o(t),className:"text-red-600 hover:text-red-900 transition-colors",title:"Hapus"},(0,r.createElement)(sa,{size:18}))))))))},ma=({isOpen:e,onClose:t,title:a,children:n,size:l="max-w-2xl",footer:s})=>((0,r.useEffect)(()=>{const e=e=>{27===e.keyCode&&t()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t]),e?(0,r.createElement)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-start pt-10",onClick:e=>{e.target===e.currentTarget&&t()}},(0,r.createElement)("div",{className:`bg-white rounded-lg shadow-xl w-full ${l} m-4 flex flex-col max-h-[90vh]`},(0,r.createElement)("div",{className:"flex justify-between items-center p-4 border-b"},(0,r.createElement)("h3",{className:"text-xl font-semibold text-gray-800"},a),(0,r.createElement)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100 transition-colors"},(0,r.createElement)(Gt,{size:20}))),(0,r.createElement)("div",{className:"p-6 overflow-y-auto"},n),s&&(0,r.createElement)("div",{className:"flex justify-end items-center p-4 border-t space-x-2 bg-gray-50 rounded-b-lg"},s))):null),da=e=>{const[t,a]=(0,r.useState)([]),[n,l]=(0,r.useState)({current_page:1,total_pages:1,total_items:0}),[s,o]=(0,r.useState)(!1),[i,c]=(0,r.useState)(null),m=(0,r.useCallback)(async(t={})=>{o(!0),c(null);try{const r=await _t(e,{params:t});r.data&&Array.isArray(r.data.items)?(a(r.data.items),l({current_page:r.data.current_page||1,total_pages:r.data.total_pages||1,total_items:r.data.total_items||0})):Array.isArray(r.data)?a(r.data):(console.warn("Format data API tidak sesuai ekspektasi:",r.data),a([]))}catch(e){const t=e.response?.data?.message||e.message||"Gagal memuat data";c(t),console.error("Fetch Error:",e),a([])}finally{o(!1)}},[e]);return{data:t,pagination:n,loading:s,error:i,fetchData:m,createItem:async t=>{o(!0);const a=Nt.loading("Menyimpan data...");try{return await Ct(e,t),await m(),Nt.success("Data berhasil disimpan!",{id:a}),!0}catch(e){const t=e.response?.data?.message||"Gagal menyimpan data";return c(t),Nt.error(t,{id:a}),!1}finally{o(!1)}},updateItem:async(t,a)=>{o(!0);const r=Nt.loading("Memperbarui data...");try{return await Ct(`${e}/${t}`,a),await m(),Nt.success("Data berhasil diperbarui!",{id:r}),!0}catch(e){const t=e.response?.data?.message||"Gagal memperbarui data";return c(t),Nt.error(t,{id:r}),!1}finally{o(!1)}},deleteItem:async t=>{if(!window.confirm("Apakah Anda yakin ingin menghapus data ini?"))return!1;o(!0);const r=Nt.loading("Menghapus data...");try{return await jt(`${e}/${t}`),a(e=>e.filter(e=>e.id!==t)),Nt.success("Data dihapus",{id:r}),m(),!0}catch(e){const t=e.response?.data?.message||"Gagal menghapus data";return c(t),Nt.error(t,{id:r}),m(),!1}finally{o(!1)}}}},ua=Tt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),pa=Tt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),ga=()=>{const{user:e}=Dt(),{data:t}=da("packages"),{data:a}=da("agents"),{data:n,loading:l,createItem:s,updateItem:o,deleteItem:i}=da("jamaah"),[c,m]=(0,r.useState)(!1),[d,u]=(0,r.useState)("create"),[p,g]=(0,r.useState)(null),[b,h]=(0,r.useState)({}),y=(e,t=null)=>{u(e),g(t),h(t||{full_name:"",nik:"",phone:"",package_id:"",package_price:0,status:"registered"}),m(!0)},f=[{header:"Nama Lengkap",accessor:"full_name",sortable:!0},{header:"Paket",accessor:"package_name"},{header:"Harga Paket",accessor:"package_price",render:e=>ea(e.package_price)},{header:"Sudah Bayar",accessor:"total_paid",render:e=>(0,r.createElement)("span",{className:"text-green-600 font-medium"},ea(e.total_paid))},{header:"Status Bayar",accessor:"payment_status_label",render:e=>{let t="bg-gray-100 text-gray-600";return"Lunas"===e.payment_status_label&&(t="bg-green-100 text-green-700"),"Dicicil"===e.payment_status_label&&(t="bg-yellow-100 text-yellow-700"),"Belum Bayar"===e.payment_status_label&&(t="bg-red-100 text-red-700"),(0,r.createElement)("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${t}`},e.payment_status_label)}},{header:"Status",accessor:"status",render:e=>(0,r.createElement)("span",{className:"px-2 py-1 rounded text-xs capitalize "+("berangkat"===e.status?"bg-blue-100 text-blue-700":"bg-gray-100")},e.status)}];return(0,r.createElement)(Xt,{title:"Manajemen Jemaah"},(0,r.createElement)("div",{className:"flex justify-between mb-4"},(0,r.createElement)("div",{className:"text-sm text-gray-500 pt-2"},"Total Jemaah: ",(0,r.createElement)("b",null,n.length)),(0,r.createElement)("button",{onClick:()=>y("create"),className:"bg-blue-600 text-white px-4 py-2 rounded flex items-center gap-2 hover:bg-blue-700"},(0,r.createElement)(ua,{size:18})," Tambah Jemaah")),(0,r.createElement)(ca,{columns:f,data:n,loading:l,onEdit:e=>y("edit",e),onDelete:i,userCapabilities:e?.role}),(0,r.createElement)(ma,{isOpen:c,onClose:()=>m(!1),title:"create"===d?"Tambah Jemaah Baru":"Edit Data Jemaah"},(0,r.createElement)("form",{onSubmit:async e=>{e.preventDefault(),("create"===d?await s(b):await o(p.id,b))&&m(!1)},className:"space-y-4"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Nama Lengkap (Sesuai Paspor)"),(0,r.createElement)("input",{type:"text",className:"mt-1 block w-full rounded border-gray-300 shadow-sm p-2 border",value:b.full_name||"",onChange:e=>h({...b,full_name:e.target.value}),required:!0})),(0,r.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"NIK / No. KTP"),(0,r.createElement)("input",{type:"text",className:"mt-1 block w-full rounded border-gray-300 shadow-sm p-2 border",value:b.nik||"",onChange:e=>h({...b,nik:e.target.value})})),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"No. WhatsApp"),(0,r.createElement)("input",{type:"text",className:"mt-1 block w-full rounded border-gray-300 shadow-sm p-2 border",value:b.phone||"",onChange:e=>h({...b,phone:e.target.value})}))),(0,r.createElement)("div",{className:"bg-blue-50 p-4 rounded border border-blue-100"},(0,r.createElement)("h4",{className:"text-sm font-bold text-blue-800 mb-2 flex items-center gap-2"},(0,r.createElement)(pa,{size:14})," Detail Paket & Harga"),(0,r.createElement)("div",{className:"space-y-3"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Pilih Paket"),(0,r.createElement)("select",{className:"mt-1 block w-full rounded border-gray-300 shadow-sm p-2 border",value:b.package_id||"",onChange:e=>{const a=e.target.value,r=t.find(e=>String(e.id)===String(a));h(e=>({...e,package_id:a,package_price:r?r.price:0}))}},(0,r.createElement)("option",{value:""},"-- Pilih Paket Umrah/Haji --"),t&&t.map(e=>(0,r.createElement)("option",{key:e.id,value:e.id},e.name," - ",ea(e.price))))),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Harga Deal (Rp) ",(0,r.createElement)("span",{className:"text-xs text-gray-500 font-normal"},"*Bisa diedit jika ada diskon")),(0,r.createElement)("input",{type:"number",className:"mt-1 block w-full rounded border-gray-300 shadow-sm p-2 border font-bold",value:b.package_price||0,onChange:e=>h({...b,package_price:e.target.value})})))),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Status Keberangkatan"),(0,r.createElement)("select",{className:"mt-1 block w-full rounded border-gray-300 shadow-sm p-2 border",value:b.status||"registered",onChange:e=>h({...b,status:e.target.value})},(0,r.createElement)("option",{value:"registered"},"Terdaftar (Registered)"),(0,r.createElement)("option",{value:"documents_collected"},"Dokumen Lengkap"),(0,r.createElement)("option",{value:"visa_issued"},"Visa Terbit"),(0,r.createElement)("option",{value:"ready"},"Siap Berangkat"),(0,r.createElement)("option",{value:"completed"},"Selesai/Pulang"),(0,r.createElement)("option",{value:"cancelled"},"Batal"))),(0,r.createElement)("div",{className:"flex justify-end gap-2 pt-4"},(0,r.createElement)("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded hover:bg-gray-200"},"Batal"),(0,r.createElement)("button",{type:"submit",className:"px-4 py-2 text-white bg-blue-600 rounded hover:bg-blue-700"},"Simpan Data")))))},ba=()=>{const{user:e}=Dt(),{data:t,loading:a,createItem:n,updateItem:l,deleteItem:s}=da("packages"),[o,i]=(0,r.useState)(!1),[c,m]=(0,r.useState)("create"),[d,u]=(0,r.useState)(null),[p,g]=(0,r.useState)({}),b=(e,t=null)=>{m(e),u(t);let a={quad:0,triple:0,double:0};t&&t.prices?a=(e=>{try{return JSON.parse(e)||{quad:0,triple:0,double:0}}catch(e){return{quad:0,triple:0,double:0}}})(t.prices):t&&t.price&&(a={quad:t.price,triple:0,double:0}),g(t?{...t,pricesObj:a}:{name:"",duration:9,service_type:"umroh",pricesObj:{quad:0,triple:0,double:0}}),i(!0)},h=[{header:"Nama Paket",accessor:"name",sortable:!0},{header:"Tipe",accessor:"service_type",render:e=>(0,r.createElement)("span",{className:"uppercase text-xs font-bold bg-gray-100 px-2 py-1 rounded"},e.service_type)},{header:"Durasi",accessor:"duration",render:e=>`${e.duration} Hari`},{header:"Harga (Quad/Start)",accessor:"price",render:e=>ea(e.price)}];return(0,r.createElement)(Xt,{title:"Manajemen Paket Umrah & Haji"},(0,r.createElement)("div",{className:"flex justify-end mb-4"},(0,r.createElement)("button",{onClick:()=>b("create"),className:"bg-blue-600 text-white px-4 py-2 rounded flex items-center gap-2 hover:bg-blue-700 shadow-sm transition-colors"},(0,r.createElement)(ua,{size:18})," Tambah Paket")),(0,r.createElement)(ca,{columns:h,data:t,loading:a,onEdit:e=>b("edit",e),onDelete:async e=>{window.confirm("Apakah Anda yakin ingin menghapus paket ini?")&&(await s(e)?Nt.success("Paket telah dihapus."):Nt.error("Gagal menghapus paket."))},userCapabilities:e?.role}),(0,r.createElement)(ma,{isOpen:o,onClose:()=>i(!1),title:"create"===c?"Paket Baru":"Edit Paket"},(0,r.createElement)("form",{onSubmit:async e=>{e.preventDefault();const t={...p,price:p.pricesObj.quad,prices:JSON.stringify(p.pricesObj)};delete t.pricesObj,("create"===c?await n(t):await l(d.id,t))?(i(!1),Nt.success("create"===c?"Paket berhasil ditambahkan!":"Paket berhasil diperbarui!")):Nt.error("Gagal menyimpan paket.")},className:"space-y-4"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Nama Paket"),(0,r.createElement)("input",{type:"text",className:"w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500",value:p.name||"",onChange:e=>g({...p,name:e.target.value}),required:!0,placeholder:"Contoh: Paket Umrah Awal Ramadhan"})),(0,r.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Jenis Layanan"),(0,r.createElement)("select",{className:"w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500",value:p.service_type||"umroh",onChange:e=>g({...p,service_type:e.target.value})},(0,r.createElement)("option",{value:"umroh"},"Umrah"),(0,r.createElement)("option",{value:"haji"},"Haji"),(0,r.createElement)("option",{value:"tour"},"Wisata Halal"))),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Durasi (Hari)"),(0,r.createElement)("input",{type:"number",className:"w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500",value:p.duration||9,onChange:e=>g({...p,duration:e.target.value})}))),(0,r.createElement)("div",{className:"bg-green-50 p-4 rounded border border-green-200"},(0,r.createElement)("label",{className:"block text-sm font-bold text-green-800 mb-2 flex items-center gap-2"},(0,r.createElement)(Yt,{size:16})," Varian Harga Sekamar"),(0,r.createElement)("div",{className:"space-y-3"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"text-xs text-gray-600 font-bold uppercase"},"Quad (Sekamar Ber-4)"),(0,r.createElement)("div",{className:"relative"},(0,r.createElement)("span",{className:"absolute left-3 top-2 text-gray-500 text-xs"},"Rp"),(0,r.createElement)("input",{type:"number",className:"w-full border rounded p-2 pl-8 focus:ring-green-500 focus:border-green-500",value:p.pricesObj?.quad||0,onChange:e=>g({...p,pricesObj:{...p.pricesObj,quad:e.target.value}})}))),(0,r.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"text-xs text-gray-600 font-bold uppercase"},"Triple (Ber-3)"),(0,r.createElement)("div",{className:"relative"},(0,r.createElement)("span",{className:"absolute left-3 top-2 text-gray-500 text-xs"},"Rp"),(0,r.createElement)("input",{type:"number",className:"w-full border rounded p-2 pl-8 focus:ring-green-500 focus:border-green-500",value:p.pricesObj?.triple||0,onChange:e=>g({...p,pricesObj:{...p.pricesObj,triple:e.target.value}})}))),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"text-xs text-gray-600 font-bold uppercase"},"Double (Ber-2)"),(0,r.createElement)("div",{className:"relative"},(0,r.createElement)("span",{className:"absolute left-3 top-2 text-gray-500 text-xs"},"Rp"),(0,r.createElement)("input",{type:"number",className:"w-full border rounded p-2 pl-8 focus:ring-green-500 focus:border-green-500",value:p.pricesObj?.double||0,onChange:e=>g({...p,pricesObj:{...p.pricesObj,double:e.target.value}})})))))),(0,r.createElement)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 shadow-sm transition-colors"},"Simpan Paket"))))},ha=Tt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),ya=Tt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),fa=[{key:"koper",label:"Koper Besar"},{key:"koper_kabin",label:"Koper Kabin"},{key:"tas_paspor",label:"Tas Paspor"},{key:"kain_ihram",label:"Kain Ihram (Pria)"},{key:"mukena",label:"Mukena (Wanita)"},{key:"bahan_batik",label:"Bahan Batik"},{key:"buku_doa",label:"Buku Doa"},{key:"syal",label:"Syal Identitas"}],xa=()=>{const{user:e}=Dt(),{data:t,loading:a,updateItem:n}=da("umh/v1/logistics"),[l,s]=(0,r.useState)(!1),[o,i]=(0,r.useState)(null),[c,m]=(0,r.useState)({}),d=[{header:"Nama Jamaah",accessor:"jamaah_name",sortable:!0,render:e=>(0,r.createElement)("div",null,(0,r.createElement)("span",{className:"font-bold text-gray-800"},e.jamaah_name),(0,r.createElement)("div",{className:"text-xs text-gray-500"},"ID: ",e.registration_number||"-"))},{header:"Paket",accessor:"package_name"},{header:"Alamat Pengiriman",accessor:"shipping_address",render:e=>e.shipping_address||(0,r.createElement)("span",{className:"text-gray-400 italic"},"Sama dengan alamat KTP")},{header:"Perlengkapan",accessor:"items_status",render:e=>{const t=e.items_status||{},a=Object.values(t).filter(Boolean).length,n=fa.length,l=Math.round(a/n*100);return(0,r.createElement)("div",null,(0,r.createElement)("div",{className:"flex justify-between text-xs mb-1"},(0,r.createElement)("span",null,a,"/",n," Item"),(0,r.createElement)("span",{className:"font-bold"},l,"%")),(0,r.createElement)("div",{className:"w-full bg-gray-200 rounded-full h-1.5"},(0,r.createElement)("div",{className:"bg-blue-600 h-1.5 rounded-full",style:{width:`${l}%`}})))}},{header:"Status Pengambilan",accessor:"handover_status",render:e=>(0,r.createElement)("span",{className:"px-2 py-1 rounded-full text-xs flex items-center gap-1 w-fit "+("taken"===e.handover_status?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700")},"taken"===e.handover_status?(0,r.createElement)(Qt,{size:12}):(0,r.createElement)(ha,{size:12}),"taken"===e.handover_status?"Sudah Diambil":"Belum Lengkap")},{header:"Diambil Oleh",accessor:"taken_by",render:e=>e.taken_by||"-"}];return(0,r.createElement)(Xt,{title:"Logistik & Perlengkapan"},(0,r.createElement)("div",{className:"mb-4 bg-white p-4 rounded shadow-sm border border-blue-100 flex items-center justify-between"},(0,r.createElement)("div",null,(0,r.createElement)("h2",{className:"font-bold text-gray-800"},"Distribusi Perlengkapan"),(0,r.createElement)("p",{className:"text-sm text-gray-500"},"Kelola serah terima koper, kain ihram, dan perlengkapan jamaah.")),(0,r.createElement)("div",{className:"bg-blue-50 p-2 rounded-full text-blue-600"},(0,r.createElement)(ya,{size:24}))),(0,r.createElement)(ca,{columns:d,data:t,loading:a,renderRowActions:e=>(0,r.createElement)("button",{onClick:()=>{return i(t=e),m({handover_status:t.handover_status||"pending",taken_by:t.taken_by||"",date_taken:t.date_taken||(new Date).toISOString().split("T")[0],items_status:t.items_status||{}}),void s(!0);var t},className:"text-xs bg-blue-600 text-white px-2 py-1 rounded hover:bg-blue-700 transition"},"Update Serah Terima"),userCapabilities:e?.role,editCapability:"manage_options"}),(0,r.createElement)(ma,{isOpen:l,onClose:()=>s(!1),title:`Serah Terima: ${o?.jamaah_name||"Jamaah"}`},(0,r.createElement)("form",{onSubmit:async e=>{e.preventDefault();const t=fa.every(e=>c.items_status?.[e.key])?"taken":c.handover_status;await n(o.id,{...c,handover_status:t}),s(!1)},className:"space-y-4"},(0,r.createElement)("div",{className:"bg-gray-50 p-4 rounded border"},(0,r.createElement)("label",{className:"block text-sm font-bold text-gray-700 mb-3 border-b pb-2"},"Checklist Kelengkapan"),(0,r.createElement)("div",{className:"grid grid-cols-2 gap-2"},fa.map(e=>(0,r.createElement)("label",{key:e.key,className:"flex items-center gap-2 cursor-pointer hover:bg-white p-1 rounded transition"},(0,r.createElement)("input",{type:"checkbox",checked:c.items_status?.[e.key]||!1,onChange:()=>{return t=e.key,void m(e=>({...e,items_status:{...e.items_status,[t]:!e.items_status?.[t]}}));var t},className:"rounded text-blue-600 focus:ring-blue-500 w-4 h-4"}),(0,r.createElement)("span",{className:"text-sm text-gray-700"},e.label))))),(0,r.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Status Pengambilan"),(0,r.createElement)("select",{className:"mt-1 w-full border rounded p-2",value:c.handover_status,onChange:e=>m({...c,handover_status:e.target.value})},(0,r.createElement)("option",{value:"pending"},"Belum Lengkap"),(0,r.createElement)("option",{value:"taken"},"Sudah Diambil Lengkap"),(0,r.createElement)("option",{value:"shipped"},"Dikirim Ekspedisi"))),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Tanggal"),(0,r.createElement)("input",{type:"date",className:"mt-1 w-full border rounded p-2",value:c.date_taken,onChange:e=>m({...c,date_taken:e.target.value})}))),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Diambil Oleh / Penerima"),(0,r.createElement)("input",{type:"text",className:"mt-1 w-full border rounded p-2",placeholder:"Nama penerima atau agen...",value:c.taken_by,onChange:e=>m({...c,taken_by:e.target.value})})),(0,r.createElement)("div",{className:"flex justify-end gap-2 pt-4 border-t"},(0,r.createElement)("button",{type:"button",onClick:()=>s(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded"},"Batal"),(0,r.createElement)("button",{type:"submit",className:"px-4 py-2 text-white bg-blue-600 rounded hover:bg-blue-700"},"Simpan Status")))))},va=Tt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),Ea=Tt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),ka=Tt("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),Na=Tt("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),wa=Tt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Sa=Tt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),_a=()=>{const{user:e}=Dt(),{data:t,loading:a,createItem:n,updateItem:l,deleteItem:s}=da("finance"),{data:o,fetchData:i}=da("jamaah");(0,r.useEffect)(()=>{i()},[]);const[c,m]=(0,r.useState)(!1),[d,u]=(0,r.useState)("create"),[p,g]=(0,r.useState)(null),[b,h]=(0,r.useState)({type:"income",amount:"",date:(new Date).toISOString().split("T")[0],category:"pembayaran_paket",jamaah_id:"",payment_method:"transfer",description:"",proof_url:""}),[y,f]=(0,r.useState)(null),[x,v]=(0,r.useState)([]),[E,k]=(0,r.useState)("all"),[N,w]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(b.jamaah_id&&"income"===b.type){const e=o.find(e=>String(e.id)===String(b.jamaah_id));if(e){const a=t.filter(e=>String(e.jamaah_id)===String(b.jamaah_id)&&"income"===e.type&&("create"===d||String(e.id)!==String(p?.id))),r=[...a].sort((e,t)=>new Date(t.date)-new Date(e.date));v(r);const n=a.reduce((e,t)=>e+Number(t.amount),0),l=Number(e.package_price)||0,s=l-n;f({name:e.full_name,package:e.package_name||"Paket Custom",price:l,paid:n,remaining:s>0?s:0,isPaidOff:s<=0})}}else f(null),v([])},[b.jamaah_id,b.type,t,o,d,p]);const S=(e,t=null)=>{u(e),g(t),h(t||{type:"income",amount:"",date:(new Date).toISOString().split("T")[0],category:"pembayaran_paket",jamaah_id:"",payment_method:"transfer",description:"",proof_url:""}),m(!0)},_=[{header:"Tanggal",accessor:"date",render:e=>ta(e.date),sortable:!0},{header:"Tipe",accessor:"type",render:e=>(0,r.createElement)("span",{className:"px-2 py-1 rounded text-xs font-bold "+("income"===e.type?"bg-green-100 text-green-700":"bg-red-100 text-red-700")},"income"===e.type?"Masuk":"Keluar")},{header:"Terkait Jamaah",accessor:"jamaah_id",render:e=>{const t=o.find(t=>String(t.id)===String(e.jamaah_id));return t?(0,r.createElement)("span",{className:"font-medium text-blue-700"},t.full_name):(0,r.createElement)("span",{className:"text-gray-400"},"-")}},{header:"Jumlah",accessor:"amount",render:e=>(0,r.createElement)("span",{className:"income"===e.type?"text-green-600 font-bold":"text-red-600 font-bold"},"expense"===e.type?"-":"+",ea(e.amount)),sortable:!0},{header:"Metode",accessor:"payment_method",render:e=>(0,r.createElement)("span",{className:"text-xs uppercase bg-gray-100 px-2 py-1 rounded"},e.payment_method)},{header:"Aksi",accessor:"id",render:t=>(0,r.createElement)("div",{className:"flex gap-2"},"income"===t.type&&(0,r.createElement)("button",{onClick:a=>{a.stopPropagation(),(t=>{const a=o.find(e=>String(e.id)===String(t.jamaah_id)),r=a?a.full_name:"Umum/Non-Jamaah",n=window.open("","_blank");n.document.write(`\n            <html>\n            <head>\n                <title>Kwitansi - ${t.id}</title>\n                <style>\n                    body { font-family: 'Helvetica', sans-serif; padding: 40px; color: #333; }\n                    .header { text-align: center; margin-bottom: 30px; border-bottom: 3px double #333; padding-bottom: 20px; }\n                    .header h1 { margin: 0; font-size: 24px; text-transform: uppercase; }\n                    .header p { margin: 5px 0; font-size: 14px; color: #666; }\n                    .kwitansi-title { text-align: center; font-size: 20px; font-weight: bold; text-decoration: underline; margin-bottom: 30px; }\n                    .content { margin-bottom: 40px; line-height: 2; font-size: 16px; }\n                    .row { display: flex; }\n                    .label { width: 180px; font-weight: bold; }\n                    .value { flex: 1; border-bottom: 1px dotted #999; }\n                    .amount-box { \n                        background: #f0f0f0; border: 2px solid #333; \n                        padding: 10px 20px; font-size: 20px; font-weight: bold; \n                        display: inline-block; margin-top: 20px; border-radius: 8px;\n                    }\n                    .footer { display: flex; justify-content: space-between; margin-top: 50px; }\n                    .signature { text-align: center; width: 200px; }\n                    .signature-line { margin-top: 80px; border-top: 1px solid #333; }\n                    .meta { font-size: 10px; color: #999; margin-top: 50px; text-align: center; }\n                </style>\n            </head>\n            <body>\n                <div class="header">\n                    <h1>Travel Umrah Berkah</h1>\n                    <p>Jl. H. Nawi Raya No. 12, Jakarta Selatan | Telp: (021) 777-8888</p>\n                    <p>Izin Umrah No. 123/2023 | Izin Haji No. 456/2023</p>\n                </div>\n\n                <div class="kwitansi-title">KWITANSI PEMBAYARAN</div>\n\n                <div class="content">\n                    <div class="row">\n                        <span class="label">No. Transaksi</span>\n                        <span class="value">: #TRX-${String(t.id).padStart(6,"0")}</span>\n                    </div>\n                    <div class="row">\n                        <span class="label">Telah Terima Dari</span>\n                        <span class="value">: ${r}</span>\n                    </div>\n                    <div class="row">\n                        <span class="label">Untuk Pembayaran</span>\n                        <span class="value">: ${t.category.replace("_"," ").toUpperCase()} - ${t.description||"-"}</span>\n                    </div>\n                    <div class="row">\n                        <span class="label">Metode Bayar</span>\n                        <span class="value">: ${t.payment_method.toUpperCase()} (${ta(t.date)})</span>\n                    </div>\n                    \n                    <div class="amount-box">\n                        ${ea(t.amount)}\n                    </div>\n                </div>\n\n                <div class="footer">\n                    <div class="signature">\n                        <p>Penyetor</p>\n                        <div class="signature-line">(${r})</div>\n                    </div>\n                    <div class="signature">\n                        <p>Jakarta, ${ta(new Date)}</p>\n                        <p>Kasir / Admin</p>\n                        <div class="signature-line">(${e?.name||"Admin"})</div>\n                    </div>\n                </div>\n\n                <div class="meta">\n                    Dicetak otomatis oleh Sistem Manajemen Umrah pada ${(new Date).toLocaleString()}\n                </div>\n\n                <script>\n                    window.onload = function() { window.print(); }\n                <\/script>\n            </body>\n            </html>\n        `),n.document.close()})(t)},className:"p-1 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded",title:"Cetak Kwitansi"},(0,r.createElement)(va,{size:16})),t.proof_url&&(0,r.createElement)("a",{href:t.proof_url,target:"_blank",rel:"noopener noreferrer",className:"p-1 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded",title:"Lihat Bukti"},(0,r.createElement)(Ea,{size:16})))}],C="all"===E?t:t.filter(e=>e.type===E),j=t.filter(e=>"income"===e.type).reduce((e,t)=>e+Number(t.amount),0),P=t.filter(e=>"expense"===e.type).reduce((e,t)=>e+Number(t.amount),0),D=j-P;return(0,r.createElement)(Xt,{title:"Keuangan & Kasir"},(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},(0,r.createElement)("div",{className:"bg-white p-4 rounded shadow border-l-4 border-green-500 flex items-center justify-between"},(0,r.createElement)("div",null,(0,r.createElement)("p",{className:"text-gray-500 text-sm"},"Total Pemasukan"),(0,r.createElement)("p",{className:"text-xl font-bold text-gray-800"},ea(j))),(0,r.createElement)("div",{className:"bg-green-100 p-2 rounded-full text-green-600"},(0,r.createElement)(Rt,{size:24}))),(0,r.createElement)("div",{className:"bg-white p-4 rounded shadow border-l-4 border-red-500 flex items-center justify-between"},(0,r.createElement)("div",null,(0,r.createElement)("p",{className:"text-gray-500 text-sm"},"Total Pengeluaran"),(0,r.createElement)("p",{className:"text-xl font-bold text-gray-800"},ea(P))),(0,r.createElement)("div",{className:"bg-red-100 p-2 rounded-full text-red-600"},(0,r.createElement)(ka,{size:24}))),(0,r.createElement)("div",{className:"bg-white p-4 rounded shadow border-l-4 border-blue-500 flex items-center justify-between"},(0,r.createElement)("div",null,(0,r.createElement)("p",{className:"text-gray-500 text-sm"},"Saldo Kas"),(0,r.createElement)("p",{className:"text-xl font-bold "+(D<0?"text-red-600":"text-blue-600")},ea(D))),(0,r.createElement)("div",{className:"bg-blue-100 p-2 rounded-full text-blue-600"},(0,r.createElement)(Na,{size:24})))),(0,r.createElement)("div",{className:"flex justify-between mb-4"},(0,r.createElement)("div",{className:"flex gap-2"},(0,r.createElement)("button",{onClick:()=>k("all"),className:"px-3 py-1 rounded text-sm "+("all"===E?"bg-gray-800 text-white":"bg-white border")},"Semua"),(0,r.createElement)("button",{onClick:()=>k("income"),className:"px-3 py-1 rounded text-sm "+("income"===E?"bg-green-600 text-white":"bg-white border")},"Pemasukan"),(0,r.createElement)("button",{onClick:()=>k("expense"),className:"px-3 py-1 rounded text-sm "+("expense"===E?"bg-red-600 text-white":"bg-white border")},"Pengeluaran")),(0,r.createElement)("button",{onClick:()=>S("create"),className:"bg-blue-600 text-white px-4 py-2 rounded flex items-center gap-2 hover:bg-blue-700 shadow-sm"},(0,r.createElement)(ua,{size:18})," Transaksi Baru")),(0,r.createElement)(ca,{columns:_,data:C,loading:a,onEdit:e=>S("edit",e),onDelete:s,userCapabilities:e?.role,editCapability:"manage_options"}),(0,r.createElement)(ma,{isOpen:c,onClose:()=>m(!1),title:"create"===d?"Tambah Transaksi":"Edit Transaksi"},(0,r.createElement)("form",{onSubmit:async e=>{if(e.preventDefault(),y&&"income"===b.type){const e=Number(b.amount);if(e>y.remaining+1e3&&!window.confirm(`PERINGATAN: Jumlah pembayaran (${ea(e)}) melebihi sisa tagihan (${ea(y.remaining)}). Apakah Anda yakin ingin melanjutkannya sebagai kelebihan bayar/deposit?`))return}("create"===d?await n(b):await l(p.id,b))&&m(!1)},className:"space-y-4"},(0,r.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Tipe Transaksi"),(0,r.createElement)("select",{className:"mt-1 block w-full rounded border-gray-300 shadow-sm p-2 border focus:ring-blue-500 focus:border-blue-500",value:b.type,onChange:e=>h({...b,type:e.target.value,category:"income"===e.target.value?"pembayaran_paket":"operasional",jamaah_id:"expense"===e.target.value?"":b.jamaah_id})},(0,r.createElement)("option",{value:"income"},"Pemasukan (Terima Uang)"),(0,r.createElement)("option",{value:"expense"},"Pengeluaran (Bayar Vendor/Ops)"))),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Tanggal"),(0,r.createElement)("input",{type:"date",className:"mt-1 block w-full rounded border-gray-300 shadow-sm p-2 border",value:b.date,onChange:e=>h({...b,date:e.target.value}),required:!0}))),"income"===b.type&&(0,r.createElement)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200"},(0,r.createElement)("label",{className:"block text-sm font-bold text-blue-900 mb-2 flex items-center gap-2"},(0,r.createElement)(wa,{size:16})," Pilih Jamaah Pembayar"),(0,r.createElement)("select",{className:"block w-full rounded border-blue-300 shadow-sm p-2 border focus:ring-blue-500",value:b.jamaah_id,onChange:e=>h({...b,jamaah_id:e.target.value})},(0,r.createElement)("option",{value:""},"-- Pilih Nama Jamaah --"),o&&o.map(e=>(0,r.createElement)("option",{key:e.id,value:e.id},e.full_name," - ",e.package_name||"Tanpa Paket"))),y&&(0,r.createElement)("div",{className:"mt-3 bg-white p-3 rounded border border-blue-100 shadow-sm text-sm"},(0,r.createElement)("div",{className:"flex justify-between mb-1"},(0,r.createElement)("span",{className:"text-gray-600"},"Harga Paket:"),(0,r.createElement)("span",{className:"font-semibold"},ea(y.price))),(0,r.createElement)("div",{className:"flex justify-between mb-1"},(0,r.createElement)("span",{className:"text-gray-600"},"Sudah Dibayar:"),(0,r.createElement)("span",{className:"font-semibold text-green-600"},ea(y.paid))),(0,r.createElement)("div",{className:"border-t my-2"}),(0,r.createElement)("div",{className:"flex justify-between items-center mb-2"},(0,r.createElement)("span",{className:"text-gray-800 font-bold"},"Sisa Tagihan:"),(0,r.createElement)("span",{className:"font-bold text-lg "+(y.remaining>0?"text-red-600":"text-green-600")},ea(y.remaining))),y.isPaidOff&&(0,r.createElement)("div",{className:"bg-green-100 text-green-800 text-center font-bold py-1 rounded mb-2 border border-green-200"},"â LUNAS"),y.remaining>0&&(0,r.createElement)("button",{type:"button",onClick:()=>h(e=>({...e,amount:y.remaining})),className:"w-full bg-blue-100 text-blue-700 py-1.5 rounded text-xs font-bold hover:bg-blue-200 transition-colors flex justify-center items-center gap-1 mb-3"},(0,r.createElement)(ka,{size:14})," Auto-fill Sisa Tagihan (",ea(y.remaining),")"),x.length>0&&(0,r.createElement)("div",{className:"mt-3 pt-2 border-t border-gray-200"},(0,r.createElement)("p",{className:"text-xs font-bold text-gray-500 mb-2 flex items-center gap-1"},(0,r.createElement)(Sa,{size:12})," Riwayat Pembayaran Sebelumnya:"),(0,r.createElement)("div",{className:"max-h-32 overflow-y-auto space-y-1 pr-1"},x.map(e=>(0,r.createElement)("div",{key:e.id,className:"flex justify-between items-center text-xs bg-gray-50 p-1.5 rounded border border-gray-100"},(0,r.createElement)("div",null,(0,r.createElement)("span",{className:"text-gray-600"},ta(e.date)),(0,r.createElement)("span",{className:"mx-1"},"â¢"),(0,r.createElement)("span",{className:"uppercase text-[10px] bg-gray-200 px-1 rounded"},e.payment_method)),(0,r.createElement)("span",{className:"font-medium text-green-700"},ea(e.amount)))))))),(0,r.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Kategori"),(0,r.createElement)("select",{className:"mt-1 block w-full rounded border-gray-300 shadow-sm p-2 border",value:b.category,onChange:e=>h({...b,category:e.target.value}),required:!0},"income"===b.type?[{value:"pembayaran_paket",label:"Pembayaran Paket Umrah/Haji"},{value:"pendaftaran",label:"Biaya Pendaftaran/Booking"},{value:"upgrade_kamar",label:"Upgrade Kamar/Hotel"},{value:"add_on",label:"Tambahan (Paspor/Vaksin)"},{value:"lainnya",label:"Pemasukan Lainnya"}].map(e=>(0,r.createElement)("option",{key:e.value,value:e.value},e.label)):[{value:"vendor_tiket",label:"Pembayaran Tiket Pesawat"},{value:"vendor_hotel",label:"Pembayaran Hotel/Land Arrangement"},{value:"vendor_visa",label:"Biaya Visa"},{value:"operasional",label:"Operasional Kantor"},{value:"marketing",label:"Biaya Iklan/Marketing"},{value:"komisi_agen",label:"Komisi Agen"},{value:"gaji",label:"Gaji Karyawan"}].map(e=>(0,r.createElement)("option",{key:e.value,value:e.value},e.label)))),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Jumlah Uang (Rp)"),(0,r.createElement)("div",{className:"relative"},(0,r.createElement)("input",{type:"number",className:"mt-1 block w-full rounded border shadow-sm p-2 font-mono text-lg font-bold\n                                        "+(y&&Number(b.amount)>y.remaining+1e3?"border-red-500 text-red-600 bg-red-50":"border-gray-300"),placeholder:"0",value:b.amount,onChange:e=>h({...b,amount:e.target.value}),required:!0,min:"1"}),y&&Number(b.amount)>y.remaining+1e3&&(0,r.createElement)("div",{className:"absolute right-2 top-3 text-red-500 animate-pulse"},(0,r.createElement)(Vt,{size:20}))),y&&Number(b.amount)>y.remaining+1e3&&(0,r.createElement)("p",{className:"text-xs text-red-600 mt-1 font-bold"},"â ï¸ Nominal melebihi sisa tagihan!"))),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Metode Pembayaran"),(0,r.createElement)("div",{className:"flex gap-4"},["transfer","tunai","qris","cek"].map(e=>(0,r.createElement)("label",{key:e,className:"flex items-center gap-2 cursor-pointer bg-gray-50 px-3 py-2 rounded border hover:bg-gray-100"},(0,r.createElement)("input",{type:"radio",name:"payment_method",value:e,checked:b.payment_method===e,onChange:e=>h({...b,payment_method:e.target.value}),className:"text-blue-600"}),(0,r.createElement)("span",{className:"capitalize text-sm font-medium"},e))))),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Keterangan / Catatan"),(0,r.createElement)("textarea",{className:"mt-1 block w-full rounded border-gray-300 shadow-sm p-2 border",rows:"2",placeholder:"Contoh: Pelunasan Paket a.n Budi",value:b.description||"",onChange:e=>h({...b,description:e.target.value})})),(0,r.createElement)("div",{className:"border p-3 rounded bg-gray-50 border-dashed border-gray-300"},(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Upload Bukti Transfer / Kwitansi"),(0,r.createElement)("div",{className:"flex items-center gap-2"},(0,r.createElement)("input",{type:"file",accept:"image/*,.pdf",onChange:async e=>{const t=e.target.files[0];if(!t)return;w(!0);const a=Nt.loading("Mengunggah bukti...");try{const e=await(async(e,t,a=null)=>{const r=new FormData;return r.append("file",e),t&&r.append("upload_type",t),a&&r.append("jamaah_id",a),St("uploads",{method:"POST",body:r})})(t,"finance_proof",b.jamaah_id);h(t=>({...t,proof_url:e.url})),Nt.success("Bukti berhasil diunggah!",{id:a})}catch(e){console.error("Upload failed:",e),Nt.error("Gagal mengunggah file.",{id:a})}finally{w(!1)}},disabled:N,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 disabled:opacity-50"}),N&&(0,r.createElement)(oa,{className:"animate-spin text-blue-600",size:20})),b.proof_url&&!N&&(0,r.createElement)("p",{className:"mt-2 text-xs text-green-600 flex items-center gap-1"},(0,r.createElement)(Na,{size:12})," File Tersimpan di Server")),(0,r.createElement)("div",{className:"flex justify-end gap-2 pt-4"},(0,r.createElement)("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded hover:bg-gray-200"},"Batal"),(0,r.createElement)("button",{type:"submit",className:"px-4 py-2 text-white bg-blue-600 rounded hover:bg-blue-700 shadow flex items-center gap-2",disabled:N},N?"Mengunggah...":(0,r.createElement)(r.Fragment,null,(0,r.createElement)(Na,{size:16})," ","create"===d?"Simpan Transaksi":"Update Transaksi"))))))},Ca=Tt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),ja=Tt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Pa=()=>{const{user:e}=Dt(),{data:t,loading:a,createItem:n,updateItem:l,deleteItem:s}=da("umh/v1/agents"),[o,i]=(0,r.useState)(!1),[c,m]=(0,r.useState)("create"),[d,u]=(0,r.useState)(null),[p,g]=(0,r.useState)("master"),[b,h]=(0,r.useState)({type:"master",status:"active",commission_rate:0}),y=(0,r.useMemo)(()=>Array.isArray(t)?t.filter(e=>"master"===e.type||!e.parent_id):[],[t]),f=(0,r.useMemo)(()=>Array.isArray(t)?t.filter(e=>"sub"===e.type&&e.parent_id):[],[t]),x=(e,t=null)=>{m(e),u(t),t?(h(t),"sub"===t.type?g("sub"):g("master")):h({type:p,status:"active",commission_rate:"master"===p?5e5:25e4,parent_id:""}),i(!0)},v=[{header:"Nama Agen",accessor:"name",sortable:!0},{header:"Kode (Auto)",accessor:"code",render:e=>(0,r.createElement)("span",{className:"font-mono bg-blue-50 text-blue-700 px-2 rounded font-bold"},e.code||"AUTO")},{header:"Telepon",accessor:"phone"},{header:"Kota",accessor:"city"},{header:"Jml Sub-Agen",accessor:"id",render:e=>{const t=f.filter(t=>t.parent_id==e.id).length;return(0,r.createElement)("span",{className:"font-bold badge bg-gray-100 px-2 rounded"},t)}},{header:"Komisi (IDR)",accessor:"commission_rate",render:e=>ea(e.commission_rate)},{header:"Status",accessor:"status",render:e=>(0,r.createElement)("span",{className:"px-2 py-1 rounded-full text-xs "+("active"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800")},"active"===e.status?"Aktif":"Non-Aktif")}],E=[{header:"Nama Sub-Agen",accessor:"name",sortable:!0},{header:"Kode (Auto)",accessor:"code",render:e=>(0,r.createElement)("span",{className:"font-mono bg-purple-50 text-purple-700 px-2 rounded font-bold"},e.code||"AUTO")},{header:"Induk",accessor:"parent_id",render:e=>{const t=y.find(t=>t.id==e.parent_id);return(0,r.createElement)("div",{className:"flex items-center gap-1 text-xs text-purple-700 font-medium"},(0,r.createElement)(Ca,{size:12}),t?t.name:"Unknown")}},{header:"Telepon",accessor:"phone"},{header:"Komisi (IDR)",accessor:"commission_rate",render:e=>ea(e.commission_rate)},{header:"Status",accessor:"status",render:e=>(0,r.createElement)("span",{className:"px-2 py-1 rounded-full text-xs "+("active"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800")},e.status)}];return(0,r.createElement)(Xt,{title:"Manajemen Keagenan"},(0,r.createElement)("div",{className:"flex space-x-4 mb-6 border-b border-gray-200"},(0,r.createElement)("button",{onClick:()=>g("master"),className:"pb-2 px-4 flex items-center gap-2 "+("master"===p?"border-b-2 border-blue-600 text-blue-600 font-bold":"text-gray-500")},(0,r.createElement)(ja,{size:18})," Data Agen (Master)"),(0,r.createElement)("button",{onClick:()=>g("sub"),className:"pb-2 px-4 flex items-center gap-2 "+("sub"===p?"border-b-2 border-purple-600 text-purple-600 font-bold":"text-gray-500")},(0,r.createElement)(Bt,{size:18})," Data Sub-Agen")),(0,r.createElement)("div",{className:"mb-4 flex justify-between items-center"},(0,r.createElement)("div",{className:"text-sm text-gray-500"},"Total: ",(0,r.createElement)("span",{className:"font-bold"},"master"===p?y.length:f.length)," Data"),(0,r.createElement)("button",{onClick:()=>x("create"),className:"bg-blue-600 text-white px-4 py-2 rounded flex items-center gap-2 hover:bg-blue-700"},(0,r.createElement)(ua,{size:18}),"master"===p?"Tambah Agen Master":"Tambah Sub-Agen")),(0,r.createElement)(ca,{columns:"master"===p?v:E,data:"master"===p?y:f,loading:a,onEdit:e=>x("edit",e),onDelete:s}),(0,r.createElement)(ma,{isOpen:o,onClose:()=>i(!1),title:"create"===c?"Tambah Mitra Baru":"Edit Mitra"},(0,r.createElement)("form",{onSubmit:async e=>{e.preventDefault(),"sub"!==b.type||b.parent_id?("create"===c?await n(b):await l(d.id,b))&&i(!1):alert("Harap pilih Agen Induk untuk Sub-Agen ini.")},className:"space-y-4"},(0,r.createElement)("input",{type:"hidden",value:b.type||p}),("sub"===p||"sub"===b.type)&&(0,r.createElement)("div",{className:"bg-purple-50 p-3 rounded border border-purple-200"},(0,r.createElement)("label",{className:"block text-sm font-bold text-purple-800 mb-1"},"Induk Agen (Upline) ",(0,r.createElement)("span",{className:"text-red-500"},"*")),(0,r.createElement)("select",{className:"mt-1 block w-full rounded border p-2",value:b.parent_id||"",onChange:e=>h({...b,parent_id:e.target.value,type:"sub"}),required:!0},(0,r.createElement)("option",{value:""},"-- Pilih Upline --"),y.map(e=>(0,r.createElement)("option",{key:e.id,value:e.id},e.name," (",e.code,")")))),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Nama Lengkap"),(0,r.createElement)("input",{type:"text",className:"mt-1 block w-full rounded border p-2",value:b.name||"",onChange:e=>h({...b,name:e.target.value}),required:!0})),(0,r.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"No. Telepon / WA"),(0,r.createElement)("input",{type:"text",className:"mt-1 block w-full rounded border p-2",value:b.phone||"",onChange:e=>h({...b,phone:e.target.value}),required:!0})),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Kota"),(0,r.createElement)("input",{type:"text",className:"mt-1 block w-full rounded border p-2",value:b.city||"",onChange:e=>h({...b,city:e.target.value})}))),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Kode Agen"),(0,r.createElement)("input",{type:"text",className:"mt-1 block w-full rounded border p-2 bg-gray-100 text-gray-500",value:b.code||"Otomatis dibuat oleh sistem",disabled:!0}),(0,r.createElement)("p",{className:"text-[10px] text-gray-400 mt-1"},"Kode akan digenerate otomatis setelah disimpan.")),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Fee / Komisi (Rp)"),(0,r.createElement)("input",{type:"number",className:"mt-1 block w-full rounded border p-2",value:b.commission_rate||"",onChange:e=>h({...b,commission_rate:e.target.value})}),(0,r.createElement)("p",{className:"text-[10px] text-gray-500"},"Nominal komisi per jamaah (Rupiah).")),(0,r.createElement)("div",{className:"flex justify-end gap-2 pt-4"},(0,r.createElement)("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 bg-gray-100 rounded"},"Batal"),(0,r.createElement)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded"},"Simpan")))))},Da=()=>{const{user:e}=Dt(),{data:t,loading:a,createItem:n,updateItem:l,deleteItem:s}=da("hr"),[o,i]=(0,r.useState)([]);(0,r.useEffect)(()=>{(async()=>{try{const e=await _t("users");i(e)}catch(e){console.error("Gagal memuat user WP:",e)}})()},[]);const[c,m]=(0,r.useState)(!1),[d,u]=(0,r.useState)("create"),[p,g]=(0,r.useState)(null),[b,h]=(0,r.useState)({}),y=(e,t=null)=>{u(e),g(t),h(t||{name:"",position:"",phone:"",salary:0,user_id:""}),m(!0)},f=[{header:"Nama Karyawan",accessor:"name",sortable:!0},{header:"Posisi",accessor:"position"},{header:"Kontak",accessor:"phone"},{header:"Gaji Pokok",accessor:"salary",render:e=>ea(e.salary)},{header:"Akun Sistem",accessor:"user_id",render:e=>e.user_id?(0,r.createElement)("span",{className:"text-green-600 flex items-center gap-1 text-xs bg-green-50 px-2 py-1 rounded border border-green-200 font-medium"},(0,r.createElement)(ja,{size:12})," Terhubung"):(0,r.createElement)("span",{className:"text-gray-400 text-xs italic"},"Belum ada akun")}];return(0,r.createElement)(Xt,{title:"Human Resources (HR)"},(0,r.createElement)("div",{className:"flex justify-end mb-4"},(0,r.createElement)("button",{onClick:()=>y("create"),className:"bg-blue-600 text-white px-4 py-2 rounded flex items-center gap-2 hover:bg-blue-700 shadow-sm transition-colors"},(0,r.createElement)(ua,{size:18})," Tambah Karyawan")),(0,r.createElement)(ca,{columns:f,data:t,loading:a,onEdit:e=>y("edit",e),onDelete:async e=>{window.confirm("Apakah Anda yakin ingin menghapus data karyawan ini?")&&(await s(e)?Nt.success("Data karyawan dihapus."):Nt.error("Gagal menghapus data."))},userCapabilities:e?.role}),(0,r.createElement)(ma,{isOpen:c,onClose:()=>m(!1),title:"create"===d?"Tambah Data Karyawan":"Edit Karyawan"},(0,r.createElement)("form",{onSubmit:async e=>{e.preventDefault(),("create"===d?await n(b):await l(p.id,b))?(m(!1),Nt.success("create"===d?"Karyawan berhasil ditambahkan!":"Data karyawan diperbarui!")):Nt.error("Gagal menyimpan data karyawan.")},className:"space-y-4"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Nama Lengkap"),(0,r.createElement)("input",{type:"text",className:"w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500",value:b.name||"",onChange:e=>h({...b,name:e.target.value}),required:!0,placeholder:"Contoh: Budi Santoso"})),(0,r.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Posisi / Jabatan"),(0,r.createElement)("input",{type:"text",className:"w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500",value:b.position||"",onChange:e=>h({...b,position:e.target.value}),placeholder:"Staff Admin"})),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"No. Telepon"),(0,r.createElement)("input",{type:"text",className:"w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500",value:b.phone||"",onChange:e=>h({...b,phone:e.target.value}),placeholder:"0812..."}))),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Gaji Pokok"),(0,r.createElement)("div",{className:"relative"},(0,r.createElement)("span",{className:"absolute left-3 top-2 text-gray-500"},"Rp"),(0,r.createElement)("input",{type:"number",className:"w-full border rounded p-2 pl-8 focus:ring-blue-500 focus:border-blue-500",value:b.salary||0,onChange:e=>h({...b,salary:e.target.value})}))),(0,r.createElement)("div",{className:"bg-blue-50 p-4 rounded border border-blue-200"},(0,r.createElement)("label",{className:"block text-sm font-bold text-blue-800 mb-2 flex items-center gap-2"},(0,r.createElement)(wa,{size:16})," Tautkan dengan Akun Pengguna (Login)"),(0,r.createElement)("select",{className:"w-full border rounded p-2 bg-white focus:ring-blue-500 focus:border-blue-500",value:b.user_id||"",onChange:e=>h({...b,user_id:e.target.value})},(0,r.createElement)("option",{value:""},"-- Tidak Ada Akun Login --"),o&&o.map(e=>(0,r.createElement)("option",{key:e.id,value:e.id},e.username," (",e.email,")"))),(0,r.createElement)("p",{className:"text-xs text-blue-600 mt-1"},"*Jika dipilih, karyawan ini bisa login ke sistem menggunakan akun tersebut. Namanya juga akan muncul otomatis di fitur Tugas & Marketing.")),(0,r.createElement)("div",{className:"flex justify-end gap-2 pt-4"},(0,r.createElement)("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded hover:bg-gray-200"},"Batal"),(0,r.createElement)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 shadow-sm"},"create"===d?"Simpan Data":"Update Data")))))},Ma=Tt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),Aa=Tt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),Ta=Tt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),za=Tt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Ba=()=>{const{user:e}=Dt(),[t,a]=(0,r.useState)("leads"),[n,l]=(0,r.useState)([]),[s,o]=(0,r.useState)(!1),[i,c]=(0,r.useState)(!1),[m,d]=(0,r.useState)({}),[u,p]=(0,r.useState)("create"),g=async()=>{o(!0);try{const e=await _t("leads");l(e)}catch(e){console.error(e)}finally{o(!1)}};(0,r.useEffect)(()=>{"leads"===t&&g()},[t]);const b=[{header:"Nama Calon",accessor:"name",sortable:!0},{header:"Kontak",accessor:"phone",render:e=>(0,r.createElement)("div",{className:"flex items-center gap-2"},(0,r.createElement)("span",{className:"text-sm"},e.phone),(0,r.createElement)("a",{href:`https://wa.me/${e.phone.replace(/^0/,"62")}`,target:"_blank",className:"text-green-500 hover:text-green-700",title:"Chat WhatsApp"},(0,r.createElement)(Ma,{size:16})))},{header:"Sumber",accessor:"source",render:e=>{const t={ig:(0,r.createElement)(Aa,{size:14,className:"text-pink-600"}),fb:(0,r.createElement)(Ta,{size:14,className:"text-blue-600"}),wa:(0,r.createElement)(Ma,{size:14,className:"text-green-600"}),walk_in:(0,r.createElement)(Bt,{size:14,className:"text-gray-600"})};return(0,r.createElement)("div",{className:"flex items-center gap-1 uppercase text-xs font-bold"},t[e.source]||(0,r.createElement)(za,{size:14})," ",e.source)}},{header:"Status Follow Up",accessor:"status",render:e=>(0,r.createElement)("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase ${{new:"bg-blue-100 text-blue-700",contacting:"bg-yellow-100 text-yellow-700",interested:"bg-purple-100 text-purple-700",closing:"bg-green-100 text-green-700",lost:"bg-red-100 text-red-700"}[e.status]||"bg-gray-100"}`},e.status)},{header:"Catatan",accessor:"notes"}],{data:h,loading:y,createItem:f,updateItem:x,deleteItem:v}=da("marketing"),[E,k]=(0,r.useState)(!1),[N,w]=(0,r.useState)({}),[S,_]=(0,r.useState)("create"),C=[{header:"Nama Kampanye",accessor:"title",sortable:!0},{header:"Platform",accessor:"platform",render:e=>(0,r.createElement)("span",{className:"uppercase font-bold text-xs bg-gray-100 px-2 py-1 rounded"},e.platform)},{header:"Budget",accessor:"budget",render:e=>ea(e.budget)},{header:"Periode",accessor:"start_date",render:e=>(0,r.createElement)("div",{className:"text-xs text-gray-600"},(0,r.createElement)("div",null,"Mulai: ",ta(e.start_date)),(0,r.createElement)("div",null,"Selesai: ",ta(e.end_date)))},{header:"Status",accessor:"status",render:e=>(0,r.createElement)("span",{className:"px-2 py-1 rounded text-xs font-bold uppercase "+("active"===e.status?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600")},e.status)}];return(0,r.createElement)(Xt,{title:"Marketing & Sales"},(0,r.createElement)("div",{className:"flex gap-4 mb-6 border-b"},(0,r.createElement)("button",{onClick:()=>a("leads"),className:"pb-2 px-4 font-medium flex items-center gap-2 "+("leads"===t?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700")},(0,r.createElement)(Bt,{size:18})," Database Calon Jemaah (Leads)"),(0,r.createElement)("button",{onClick:()=>a("campaigns"),className:"pb-2 px-4 font-medium flex items-center gap-2 "+("campaigns"===t?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700")},(0,r.createElement)(Ut,{size:18})," Kampanye Iklan")),"leads"===t&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"flex justify-end mb-4"},(0,r.createElement)("button",{onClick:()=>{d({source:"ig",status:"new"}),p("create"),c(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded flex items-center gap-2 hover:bg-blue-700 shadow"},(0,r.createElement)(ua,{size:18})," Tambah Prospek")),(0,r.createElement)(ca,{columns:b,data:n,loading:s,onEdit:e=>{d(e),p("edit"),c(!0)},onDelete:e=>(async e=>{if(confirm("Hapus data prospek ini?"))try{await jt(`leads/${e}`),Nt.success("Dihapus"),g()}catch(e){Nt.error("Gagal menghapus")}})(e.id),userCapabilities:e?.role})),"campaigns"===t&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"flex justify-end mb-4"},(0,r.createElement)("button",{onClick:()=>{w({platform:"ig",status:"active",budget:0}),_("create"),k(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded flex items-center gap-2 hover:bg-blue-700 shadow"},(0,r.createElement)(ua,{size:18})," Buat Kampanye")),(0,r.createElement)(ca,{columns:C,data:h,loading:y,onEdit:e=>{w(e),_("edit"),k(!0)},onDelete:v,userCapabilities:e?.role})),(0,r.createElement)(ma,{isOpen:i,onClose:()=>c(!1),title:"create"===u?"Input Calon Jemaah":"Update Status"},(0,r.createElement)("form",{onSubmit:async e=>{e.preventDefault();try{"create"===u?(await Ct("leads",m),Nt.success("Calon Jemaah berhasil ditambahkan")):(await(t=`leads/${m.id}`,a=m,St(t,{method:"PUT",body:JSON.stringify(a)})),Nt.success("Data diperbarui")),c(!1),g()}catch(e){Nt.error("Gagal menyimpan data")}var t,a},className:"space-y-4"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Nama Lengkap"),(0,r.createElement)("input",{type:"text",className:"w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500",value:m.name||"",onChange:e=>d({...m,name:e.target.value}),required:!0,placeholder:"Contoh: Bpk. Ahmad"})),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"No. WhatsApp"),(0,r.createElement)("input",{type:"text",className:"w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500",value:m.phone||"",onChange:e=>d({...m,phone:e.target.value}),required:!0,placeholder:"0812xxxx"})),(0,r.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Sumber"),(0,r.createElement)("select",{className:"w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500",value:m.source||"ig",onChange:e=>d({...m,source:e.target.value})},(0,r.createElement)("option",{value:"ig"},"Instagram Ads"),(0,r.createElement)("option",{value:"fb"},"Facebook Ads"),(0,r.createElement)("option",{value:"wa"},"WhatsApp Langsung"),(0,r.createElement)("option",{value:"website"},"Website"),(0,r.createElement)("option",{value:"walk_in"},"Datang ke Kantor"),(0,r.createElement)("option",{value:"referral"},"Referral / Teman"))),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Status Follow Up"),(0,r.createElement)("select",{className:"w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500",value:m.status||"new",onChange:e=>d({...m,status:e.target.value})},(0,r.createElement)("option",{value:"new"},"Baru Masuk"),(0,r.createElement)("option",{value:"contacting"},"Sedang Dikontak"),(0,r.createElement)("option",{value:"interested"},"Tertarik / Tanya Harga"),(0,r.createElement)("option",{value:"closing"},"Closing (Jadi Daftar)"),(0,r.createElement)("option",{value:"lost"},"Batal / Tidak Respon")))),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Catatan Follow Up"),(0,r.createElement)("textarea",{className:"w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500",rows:"3",value:m.notes||"",onChange:e=>d({...m,notes:e.target.value}),placeholder:"Misal: Minta dikabari lagi minggu depan..."})),(0,r.createElement)("div",{className:"flex justify-end gap-2 pt-2"},(0,r.createElement)("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded hover:bg-gray-200"},"Batal"),(0,r.createElement)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"},"Simpan Data")))),(0,r.createElement)(ma,{isOpen:E,onClose:()=>k(!1),title:"create"===S?"Buat Kampanye Baru":"Edit Kampanye"},(0,r.createElement)("form",{onSubmit:async e=>{e.preventDefault(),("create"===S?await f(N):await x(N.id,N))&&(k(!1),Nt.success("create"===S?"Kampanye dibuat":"Kampanye diperbarui"))},className:"space-y-4"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Judul Kampanye"),(0,r.createElement)("input",{type:"text",className:"w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500",value:N.title||"",onChange:e=>w({...N,title:e.target.value}),required:!0,placeholder:"Contoh: Promo Ramadhan 2024"})),(0,r.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Platform"),(0,r.createElement)("select",{className:"w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500",value:N.platform||"ig",onChange:e=>w({...N,platform:e.target.value})},(0,r.createElement)("option",{value:"ig"},"Instagram Ads"),(0,r.createElement)("option",{value:"fb"},"Facebook Ads"),(0,r.createElement)("option",{value:"google"},"Google Ads"),(0,r.createElement)("option",{value:"tiktok"},"TikTok Ads"),(0,r.createElement)("option",{value:"offline"},"Offline / Brosur"))),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Status"),(0,r.createElement)("select",{className:"w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500",value:N.status||"active",onChange:e=>w({...N,status:e.target.value})},(0,r.createElement)("option",{value:"active"},"Aktif Berjalan"),(0,r.createElement)("option",{value:"paused"},"Dijeda (Paused)"),(0,r.createElement)("option",{value:"completed"},"Selesai")))),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Anggaran Iklan (Budget)"),(0,r.createElement)("div",{className:"relative"},(0,r.createElement)("span",{className:"absolute left-3 top-2 text-gray-500"},"Rp"),(0,r.createElement)("input",{type:"number",className:"w-full border rounded p-2 pl-8 focus:ring-blue-500 focus:border-blue-500",value:N.budget||"",onChange:e=>w({...N,budget:e.target.value}),placeholder:"0"}))),(0,r.createElement)("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 p-3 rounded border border-gray-200"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1"},"Tanggal Mulai"),(0,r.createElement)("input",{type:"date",className:"w-full border rounded p-1 text-sm",value:N.start_date||"",onChange:e=>w({...N,start_date:e.target.value})})),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1"},"Tanggal Selesai"),(0,r.createElement)("input",{type:"date",className:"w-full border rounded p-1 text-sm",value:N.end_date||"",onChange:e=>w({...N,end_date:e.target.value})}))),(0,r.createElement)("div",{className:"flex justify-end gap-2 pt-4"},(0,r.createElement)("button",{type:"button",onClick:()=>k(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded hover:bg-gray-200"},"Batal"),(0,r.createElement)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"},"create"===S?"Buat Kampanye":"Simpan Perubahan")))))},Ia=Tt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Oa=()=>{const{user:e}=Dt(),{data:t,loading:a,createItem:n,updateItem:l,deleteItem:s}=da("tasks"),{data:o,fetchData:i}=da("hr");(0,r.useEffect)(()=>{i()},[]);const[c,m]=(0,r.useState)(!1),[d,u]=(0,r.useState)("create"),[p,g]=(0,r.useState)(null),[b,h]=(0,r.useState)({}),y=(e,t=null)=>{u(e),g(t),h(t||{title:"",assigned_to:"",due_date:"",status:"pending",priority:"medium"}),m(!0)},f=[{header:"Judul Tugas",accessor:"title",sortable:!0},{header:"Ditugaskan Ke",accessor:"assigned_to",render:e=>(e=>{if(!o||0===o.length)return(0,r.createElement)("span",{className:"text-gray-400 text-xs"},"Memuat...");const t=o.find(t=>String(t.user_id)===String(e)||String(t.id)===String(e));return t?(0,r.createElement)("span",{className:"font-medium text-blue-700"},t.name):(0,r.createElement)("span",{className:"text-gray-500 italic text-xs"},"ID: ",e," (Tidak ditemukan)")})(e.assigned_to)},{header:"Tenggat",accessor:"due_date",render:e=>(0,r.createElement)("div",{className:"text-sm "+(new Date(e.due_date)<new Date&&"completed"!==e.status?"text-red-600 font-bold flex items-center gap-1":"text-gray-600")},new Date(e.due_date)<new Date&&"completed"!==e.status&&(0,r.createElement)(Ia,{size:12}),ta(e.due_date))},{header:"Prioritas",accessor:"priority",render:e=>(0,r.createElement)("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase border ${{high:"text-red-600 bg-red-50 border-red-200",medium:"text-yellow-600 bg-yellow-50 border-yellow-200",low:"text-green-600 bg-green-50 border-green-200"}[e.priority]||"text-gray-600"}`},e.priority)},{header:"Status",accessor:"status",render:e=>(0,r.createElement)("span",{className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium ${{pending:"text-gray-500 bg-gray-100",in_progress:"text-blue-600 bg-blue-100",completed:"text-green-600 bg-green-100"}[e.status]||""}`},"completed"===e.status?(0,r.createElement)(Qt,{size:14}):(0,r.createElement)(ha,{size:14}),"in_progress"===e.status?"Sedang Dikerjakan":e.status)}];return(0,r.createElement)(Xt,{title:"Manajemen Tugas Tim"},(0,r.createElement)("div",{className:"flex justify-end mb-4"},(0,r.createElement)("button",{onClick:()=>y("create"),className:"bg-blue-600 text-white px-4 py-2 rounded flex items-center gap-2 hover:bg-blue-700 shadow-sm transition-colors"},(0,r.createElement)(ua,{size:18})," Buat Tugas Baru")),(0,r.createElement)(ca,{columns:f,data:t,loading:a,onEdit:e=>y("edit",e),onDelete:async e=>{window.confirm("Apakah Anda yakin ingin menghapus tugas ini?")&&await s(e)&&Nt.success("Tugas dihapus.")},userCapabilities:e?.role}),(0,r.createElement)(ma,{isOpen:c,onClose:()=>m(!1),title:"create"===d?"Tugas Baru":"Edit Tugas"},(0,r.createElement)("form",{onSubmit:async e=>{e.preventDefault(),("create"===d?await n(b):await l(p.id,b))?(m(!1),Nt.success("create"===d?"Tugas baru berhasil dibuat!":"Tugas berhasil diperbarui!")):Nt.error("Gagal menyimpan tugas. Silakan coba lagi.")},className:"space-y-4"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Judul Tugas"),(0,r.createElement)("input",{type:"text",className:"w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500 transition-shadow",value:b.title||"",onChange:e=>h({...b,title:e.target.value}),required:!0,placeholder:"Contoh: Follow up jamaah keberangkatan Oktober"})),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Ditugaskan Kepada (Tim)"),(0,r.createElement)("select",{className:"w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500 bg-white",value:b.assigned_to||"",onChange:e=>h({...b,assigned_to:e.target.value}),required:!0},(0,r.createElement)("option",{value:""},"-- Pilih Karyawan --"),o&&o.map(e=>(0,r.createElement)("option",{key:e.id,value:e.user_id||e.id},e.name," - ",e.position||"Staff"))),(0,r.createElement)("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1"},(0,r.createElement)(Ia,{size:12})," Pastikan karyawan sudah ditautkan dengan Akun User di menu HR agar notifikasi masuk.")),(0,r.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Tenggat Waktu"),(0,r.createElement)("input",{type:"date",className:"w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500",value:b.due_date||"",onChange:e=>h({...b,due_date:e.target.value})})),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Prioritas"),(0,r.createElement)("select",{className:"w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500",value:b.priority||"medium",onChange:e=>h({...b,priority:e.target.value})},(0,r.createElement)("option",{value:"low"},"Rendah"),(0,r.createElement)("option",{value:"medium"},"Sedang"),(0,r.createElement)("option",{value:"high"},"Tinggi (Urgent)")))),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Status"),(0,r.createElement)("select",{className:"w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500",value:b.status||"pending",onChange:e=>h({...b,status:e.target.value})},(0,r.createElement)("option",{value:"pending"},"Pending (Belum Mulai)"),(0,r.createElement)("option",{value:"in_progress"},"Sedang Dikerjakan"),(0,r.createElement)("option",{value:"completed"},"Selesai"))),(0,r.createElement)("div",{className:"flex justify-end gap-2 pt-4"},(0,r.createElement)("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded hover:bg-gray-200"},"Batal"),(0,r.createElement)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 shadow-sm"},"create"===d?"Buat Tugas":"Simpan Perubahan")))))},Ra=Tt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),Ua=Tt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),La=()=>{const{data:e,loading:t,fetchData:a,createItem:n,updateItem:l,deleteItem:s}=da("umh/v1/roles"),[o,i]=(0,r.useState)(!1),[c,m]=(0,r.useState)(null),[d,u]=(0,r.useState)({name:"",display_name:"",capabilities:{}});(0,r.useEffect)(()=>{a()},[a]);const p=[{header:"Nama Peran",accessor:"display_name",className:"font-bold text-gray-800"},{header:"Slug (ID)",accessor:"name",render:e=>(0,r.createElement)("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs text-red-500"},e.name)},{header:"Akses Utama",accessor:"capabilities",render:e=>{const t=Object.keys(e.capabilities||{}).filter(t=>e.capabilities[t]).length;return(0,r.createElement)("span",{className:"text-xs text-gray-500"},t," hak akses aktif")}}];return(0,r.createElement)(Xt,{title:"Manajemen Peran & Akses"},(0,r.createElement)("div",{className:"flex justify-between items-center mb-6"},(0,r.createElement)("div",null,(0,r.createElement)("h2",{className:"text-lg font-bold text-gray-800"},"Peran Pengguna (Roles)"),(0,r.createElement)("p",{className:"text-sm text-gray-500"},"Buat peran khusus untuk staf, agen, atau manajer.")),(0,r.createElement)("button",{onClick:()=>{m(null),i(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded shadow hover:bg-blue-700 flex items-center gap-2"},(0,r.createElement)(Ra,{size:18})," Buat Peran Baru")),t?(0,r.createElement)(ia,null):(0,r.createElement)(ca,{columns:p,data:e,onEdit:e=>{u(e),m(e.name),i(!0)},onDelete:e=>s(e.name)}),(0,r.createElement)(ma,{isOpen:o,onClose:()=>i(!1),title:c?"Edit Peran":"Peran Baru"},(0,r.createElement)("form",{onSubmit:async e=>{e.preventDefault(),c||d.name||!d.display_name||(d.name=d.display_name.toLowerCase().replace(/ /g,"_")),(c?await l(c,d):await n(d))&&(i(!1),u({name:"",display_name:"",capabilities:{}}))},className:"space-y-4"},(0,r.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Nama Tampilan"),(0,r.createElement)("input",{className:"w-full px-3 py-2 border rounded-md",value:d.display_name,onChange:e=>u({...d,display_name:e.target.value}),required:!0,placeholder:"Contoh: Staf Keuangan"})),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Slug / ID (Unik)"),(0,r.createElement)("input",{className:"w-full px-3 py-2 border rounded-md bg-gray-50",value:d.name,onChange:e=>u({...d,name:e.target.value}),disabled:!!c,placeholder:"finance_staff"}),c&&(0,r.createElement)("p",{className:"text-xs text-gray-400 mt-1"},"Slug tidak dapat diubah setelah dibuat."))),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2"},(0,r.createElement)(Ua,{size:14})," Hak Akses (Capabilities)"),(0,r.createElement)("div",{className:"grid grid-cols-2 gap-2 bg-gray-50 p-4 rounded-lg border border-gray-200 h-48 overflow-y-auto custom-scrollbar"},[{id:"read",label:"Read (Baca Data)"},{id:"edit_posts",label:"Edit Data"},{id:"upload_files",label:"Upload File"},{id:"manage_options",label:"Kelola Pengaturan"},{id:"manage_agents",label:"Kelola Agen"},{id:"manage_finance",label:"Kelola Keuangan"}].map(e=>(0,r.createElement)("label",{key:e.id,className:"flex items-center gap-2 cursor-pointer hover:bg-white p-2 rounded transition-colors"},(0,r.createElement)("input",{type:"checkbox",className:"rounded text-blue-600 focus:ring-blue-500",checked:!!d.capabilities?.[e.id],onChange:()=>{return t=e.id,void u(e=>({...e,capabilities:{...e.capabilities,[t]:!e.capabilities[t]}}));var t}}),(0,r.createElement)("span",{className:"text-sm text-gray-700"},e.label))))),(0,r.createElement)("div",{className:"flex justify-end gap-2 pt-4 border-t"},(0,r.createElement)("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded hover:bg-gray-200"},"Batal"),(0,r.createElement)("button",{type:"submit",className:"px-4 py-2 text-white bg-blue-600 rounded hover:bg-blue-700"},"Simpan Peran")))))},Ka=Tt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),$a=Tt("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Ha=Tt("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),qa=()=>{const{data:e,loading:t,fetchData:a,createItem:n,updateItem:l,deleteItem:s}=da("umh/v1/users"),{data:o}=da("umh/v1/roles"),[i,c]=(0,r.useState)(!1),[m,d]=(0,r.useState)(null),[u,p]=(0,r.useState)({username:"",email:"",first_name:"",last_name:"",roles:"subscriber",password:""});(0,r.useEffect)(()=>{a()},[a]);const g=[{header:"Pengguna",accessor:"username",className:"font-bold text-gray-800",render:e=>(0,r.createElement)("div",{className:"flex items-center gap-3"},(0,r.createElement)("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold uppercase"},e.username?e.username.charAt(0):"U"),(0,r.createElement)("div",null,(0,r.createElement)("div",{className:"font-semibold"},e.first_name," ",e.last_name),(0,r.createElement)("div",{className:"text-xs text-gray-400"},"@",e.username)))},{header:"Email",accessor:"email",render:e=>(0,r.createElement)("div",{className:"text-sm text-gray-600 flex items-center gap-1"},(0,r.createElement)(Ka,{size:12})," ",e.email)},{header:"Peran",accessor:"roles",render:e=>(0,r.createElement)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-purple-50 text-purple-700 capitalize border border-purple-100"},Array.isArray(e.roles)?e.roles[0]:e.roles)}];return(0,r.createElement)(Xt,{title:"Manajemen Pengguna"},(0,r.createElement)("div",{className:"flex justify-between items-center mb-6"},(0,r.createElement)("div",null,(0,r.createElement)("h2",{className:"text-lg font-bold text-gray-800"},"Daftar Pengguna"),(0,r.createElement)("p",{className:"text-sm text-gray-500"},"Kelola akun staf, admin, dan agen.")),(0,r.createElement)("button",{onClick:()=>{d(null),c(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded shadow hover:bg-blue-700 flex items-center gap-2"},(0,r.createElement)(wa,{size:18})," Tambah Pengguna")),t?(0,r.createElement)(ia,null):(0,r.createElement)(ca,{columns:g,data:e,onEdit:e=>{p({...e,password:""}),d(e.id),c(!0)},onDelete:e=>s(e.id)}),(0,r.createElement)(ma,{isOpen:i,onClose:()=>c(!1),title:m?"Edit Pengguna":"Pengguna Baru"},(0,r.createElement)("form",{onSubmit:async e=>{e.preventDefault(),(m?await l(m,u):await n(u))&&(c(!1),p({username:"",email:"",first_name:"",last_name:"",roles:"subscriber",password:""}))},className:"space-y-4"},!m&&(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Username"),(0,r.createElement)("input",{className:"w-full px-3 py-2 border rounded-md",value:u.username,onChange:e=>p({...u,username:e.target.value}),required:!0,autoComplete:"new-username"})),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Email"),(0,r.createElement)("input",{type:"email",className:"w-full px-3 py-2 border rounded-md",value:u.email,onChange:e=>p({...u,email:e.target.value}),required:!0})),(0,r.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Nama Depan"),(0,r.createElement)("input",{className:"w-full px-3 py-2 border rounded-md",value:u.first_name,onChange:e=>p({...u,first_name:e.target.value})})),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Nama Belakang"),(0,r.createElement)("input",{className:"w-full px-3 py-2 border rounded-md",value:u.last_name,onChange:e=>p({...u,last_name:e.target.value})}))),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center gap-2"},(0,r.createElement)($a,{size:14})," Peran (Role)"),(0,r.createElement)("select",{className:"w-full px-3 py-2 border rounded-md",value:Array.isArray(u.roles)?u.roles[0]:u.roles,onChange:e=>p({...u,roles:e.target.value})},(0,r.createElement)("option",{value:"subscriber"},"Subscriber (Default)"),(0,r.createElement)("option",{value:"administrator"},"Administrator"),(0,r.createElement)("option",{value:"editor"},"Editor"),o&&o.map(e=>(0,r.createElement)("option",{key:e.name,value:e.name},e.display_name)))),(0,r.createElement)("div",{className:"border-t pt-4 mt-2"},(0,r.createElement)("label",{className:"block text-sm font-medium text-yellow-600 mb-1 flex items-center gap-2"},(0,r.createElement)(Ha,{size:14})," Password ",m&&"(Isi hanya jika ingin mengubah)"),(0,r.createElement)("input",{type:"password",className:"w-full px-3 py-2 border rounded-md",placeholder:m?"Biarkan kosong jika tidak diubah":"Password kuat",value:u.password,onChange:e=>p({...u,password:e.target.value}),required:!m})),(0,r.createElement)("div",{className:"flex justify-end gap-2 pt-4 border-t"},(0,r.createElement)("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded hover:bg-gray-200"},"Batal"),(0,r.createElement)("button",{type:"submit",className:"px-4 py-2 text-white bg-blue-600 rounded hover:bg-blue-700"},"Simpan")))))},Fa=Tt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Ja=()=>{const{data:e,loading:t,createItem:a,updateItem:n,deleteItem:l}=da("umh/v1/hotels"),[s,o]=(0,r.useState)(!1),[i,c]=(0,r.useState)("create"),[m,d]=(0,r.useState)(null),[u,p]=(0,r.useState)({location:"Makkah",rating:"5"}),g=(e,t=null)=>{c(e),d(t),p(t||{location:"Makkah",rating:"5"}),o(!0)},b=[{header:"Nama Hotel",accessor:"name",sortable:!0},{header:"Lokasi",accessor:"location",render:e=>(0,r.createElement)("span",{className:"badge bg-blue-100 text-blue-800"},e.location)},{header:"Bintang",accessor:"rating",render:e=>(0,r.createElement)("div",{className:"flex text-yellow-500"},[...Array(parseInt(e.rating||0))].map((e,t)=>(0,r.createElement)(Fa,{key:t,size:12,fill:"currentColor"})))},{header:"Jarak",accessor:"distance",render:e=>`${e.distance} m`}];return(0,r.createElement)(Xt,{title:"Master Data Hotel"},(0,r.createElement)("div",{className:"mb-4 flex justify-end"},(0,r.createElement)("button",{onClick:()=>g("create"),className:"bg-blue-600 text-white px-4 py-2 rounded flex items-center gap-2"},(0,r.createElement)(ua,{size:18})," Tambah Hotel")),(0,r.createElement)(ca,{columns:b,data:e,loading:t,onEdit:e=>g("edit",e),onDelete:l}),(0,r.createElement)(ma,{isOpen:s,onClose:()=>o(!1),title:"create"===i?"Tambah Hotel":"Edit Hotel"},(0,r.createElement)("form",{onSubmit:async e=>{e.preventDefault(),("create"===i?await a(u):await n(m.id,u))&&o(!1)},className:"space-y-4"},(0,r.createElement)("input",{className:"w-full border p-2 rounded",placeholder:"Nama Hotel",value:u.name||"",onChange:e=>p({...u,name:e.target.value}),required:!0}),(0,r.createElement)("select",{className:"w-full border p-2 rounded",value:u.location,onChange:e=>p({...u,location:e.target.value})},(0,r.createElement)("option",{value:"Makkah"},"Makkah"),(0,r.createElement)("option",{value:"Madinah"},"Madinah"),(0,r.createElement)("option",{value:"Jeddah"},"Jeddah"),(0,r.createElement)("option",{value:"Transit"},"Transit")),(0,r.createElement)("select",{className:"w-full border p-2 rounded",value:u.rating,onChange:e=>p({...u,rating:e.target.value})},(0,r.createElement)("option",{value:"3"},"3 Bintang"),(0,r.createElement)("option",{value:"4"},"4 Bintang"),(0,r.createElement)("option",{value:"5"},"5 Bintang")),(0,r.createElement)("input",{type:"number",className:"w-full border p-2 rounded",placeholder:"Jarak ke Masjid (m)",value:u.distance||"",onChange:e=>p({...u,distance:e.target.value})}),(0,r.createElement)("div",{className:"flex justify-end gap-2 pt-4"},(0,r.createElement)("button",{type:"button",onClick:()=>o(!1),className:"bg-gray-100 px-4 py-2 rounded"},"Batal"),(0,r.createElement)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded"},"Simpan")))))},Wa=()=>{const{data:e,loading:t,createItem:a,updateItem:n,deleteItem:l}=da("umh/v1/flights"),[s,o]=(0,r.useState)(!1),[i,c]=(0,r.useState)("create"),[m,d]=(0,r.useState)(null),[u,p]=(0,r.useState)({}),g=(e,t=null)=>{c(e),d(t),p(t||{status:"active",type:"International"}),o(!0)},b=[{header:"Maskapai",accessor:"name",sortable:!0},{header:"Kode IATA",accessor:"code",render:e=>(0,r.createElement)("span",{className:"font-mono font-bold"},e.code)},{header:"Tipe",accessor:"type"},{header:"Status",accessor:"status"}];return(0,r.createElement)(Xt,{title:"Master Data Maskapai"},(0,r.createElement)("div",{className:"mb-4 flex justify-end"},(0,r.createElement)("button",{onClick:()=>g("create"),className:"bg-blue-600 text-white px-4 py-2 rounded flex items-center gap-2"},(0,r.createElement)(ua,{size:18})," Tambah Maskapai")),(0,r.createElement)(ca,{columns:b,data:e,loading:t,onEdit:e=>g("edit",e),onDelete:l}),(0,r.createElement)(ma,{isOpen:s,onClose:()=>o(!1),title:"create"===i?"Tambah Maskapai":"Edit Maskapai"},(0,r.createElement)("form",{onSubmit:async e=>{e.preventDefault(),("create"===i?await a(u):await n(m.id,u))&&o(!1)},className:"space-y-4"},(0,r.createElement)("input",{className:"w-full border p-2 rounded",placeholder:"Nama Maskapai",value:u.name||"",onChange:e=>p({...u,name:e.target.value}),required:!0}),(0,r.createElement)("input",{className:"w-full border p-2 rounded",placeholder:"Kode IATA (Misal: GA)",value:u.code||"",onChange:e=>p({...u,code:e.target.value})}),(0,r.createElement)("select",{className:"w-full border p-2 rounded",value:u.type,onChange:e=>p({...u,type:e.target.value})},(0,r.createElement)("option",{value:"International"},"International"),(0,r.createElement)("option",{value:"Domestic"},"Domestik")),(0,r.createElement)("div",{className:"flex justify-end gap-2 pt-4"},(0,r.createElement)("button",{type:"button",onClick:()=>o(!1),className:"bg-gray-100 px-4 py-2 rounded"},"Batal"),(0,r.createElement)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded"},"Simpan")))))},Va=()=>{const{user:e}=Dt(),{data:t,loading:a,createItem:n,updateItem:l,deleteItem:s}=da("umh/v1/package-categories"),[o,i]=(0,r.useState)(!1),[c,m]=(0,r.useState)("create"),[d,u]=(0,r.useState)(null),[p,g]=(0,r.useState)({}),b=(e,t=null)=>{m(e),u(t),g(t||{}),i(!0)},h=[{header:"Nama Kategori",accessor:"name",className:"font-bold text-gray-800",sortable:!0},{header:"Slug",accessor:"slug",render:e=>(0,r.createElement)("span",{className:"font-mono text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded border"},e.slug)},{header:"Deskripsi",accessor:"description",className:"text-gray-600"}];return(0,r.createElement)(Xt,{title:"Kategori Paket"},(0,r.createElement)("div",{className:"mb-6 bg-gradient-to-r from-purple-600 to-blue-600 p-6 rounded-xl text-white flex justify-between items-center shadow-lg"},(0,r.createElement)("div",null,(0,r.createElement)("h3",{className:"font-bold text-xl mb-1 flex items-center gap-2"},(0,r.createElement)(Ht,null)," Master Data Kategori"),(0,r.createElement)("p",{className:"text-blue-100 text-sm opacity-90"},"Atur varian paket seperti: Ramadhan, Awal Tahun, Furoda, atau Umroh Plus.")),(0,r.createElement)("button",{onClick:()=>b("create"),className:"bg-white text-blue-600 px-5 py-2.5 rounded-lg font-bold flex items-center gap-2 hover:bg-gray-50 shadow-md transition-transform hover:scale-105"},(0,r.createElement)(ua,{size:18})," Tambah Kategori")),(0,r.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},(0,r.createElement)(ca,{columns:h,data:t,loading:a,onEdit:e=>b("edit",e),onDelete:s,userCapabilities:e?.role,editCapability:"manage_options",deleteCapability:"manage_options"})),(0,r.createElement)(ma,{isOpen:o,onClose:()=>i(!1),title:"create"===c?"Tambah Kategori Baru":"Edit Kategori"},(0,r.createElement)("form",{onSubmit:async e=>{e.preventDefault(),!p.slug&&p.name&&(p.slug=p.name.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"")),("create"===c?await n(p):await l(d.id,p))&&i(!1)},className:"space-y-4"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"label"},"Nama Kategori"),(0,r.createElement)("input",{type:"text",className:"input-field",placeholder:"Contoh: Umroh Ramadhan",value:p.name||"",onChange:e=>g({...p,name:e.target.value}),required:!0})),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"label"},"Slug (Opsional)"),(0,r.createElement)("input",{type:"text",className:"input-field bg-gray-50",placeholder:"umroh-ramadhan (Auto generate jika kosong)",value:p.slug||"",onChange:e=>g({...p,slug:e.target.value})})),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"label"},"Deskripsi"),(0,r.createElement)("textarea",{className:"input-field",rows:"3",value:p.description||"",onChange:e=>g({...p,description:e.target.value})})),(0,r.createElement)("div",{className:"flex justify-end gap-2 pt-4 border-t"},(0,r.createElement)("button",{type:"button",onClick:()=>i(!1),className:"btn-secondary"},"Batal"),(0,r.createElement)("button",{type:"submit",className:"btn-primary"},"Simpan")))))},Ga=Tt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Za=Tt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Xa=Tt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Ya=()=>{const[e,t]=(0,r.useState)({company_name:"Travel Umroh Berkah",currency_symbol:"Rp",currency_code:"IDR",email_notifications:!0,whatsapp_notifications:!0,default_departure_city:"Jakarta",maintenance_mode:!1}),a=(e,a)=>{t(t=>({...t,[e]:a}))};return(0,r.createElement)(Xt,{title:"Pengaturan Sistem"},(0,r.createElement)("div",{className:"max-w-4xl mx-auto"},(0,r.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-6"},(0,r.createElement)("div",{className:"p-4 border-b border-gray-100 bg-gray-50 flex items-center gap-2"},(0,r.createElement)(za,{className:"text-blue-600",size:20}),(0,r.createElement)("h3",{className:"font-bold text-gray-800"},"Umum")),(0,r.createElement)("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Nama Perusahaan Travel"),(0,r.createElement)("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",value:e.company_name,onChange:e=>a("company_name",e.target.value)}),(0,r.createElement)("p",{className:"text-xs text-gray-400 mt-1"},"Akan muncul di invoice dan header laporan.")),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Kota Keberangkatan Default"),(0,r.createElement)("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",value:e.default_departure_city,onChange:e=>a("default_departure_city",e.target.value)})))),(0,r.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-6"},(0,r.createElement)("div",{className:"p-4 border-b border-gray-100 bg-gray-50 flex items-center gap-2"},(0,r.createElement)(Yt,{className:"text-green-600",size:20}),(0,r.createElement)("h3",{className:"font-bold text-gray-800"},"Keuangan")),(0,r.createElement)("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Simbol Mata Uang"),(0,r.createElement)("input",{type:"text",className:"w-24 px-3 py-2 border rounded-md",value:e.currency_symbol,onChange:e=>a("currency_symbol",e.target.value)})),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Kode Mata Uang (ISO)"),(0,r.createElement)("input",{type:"text",className:"w-24 px-3 py-2 border rounded-md",value:e.currency_code,onChange:e=>a("currency_code",e.target.value)})))),(0,r.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-6"},(0,r.createElement)("div",{className:"p-4 border-b border-gray-100 bg-gray-50 flex items-center gap-2"},(0,r.createElement)(Ga,{className:"text-orange-600",size:20}),(0,r.createElement)("h3",{className:"font-bold text-gray-800"},"Notifikasi")),(0,r.createElement)("div",{className:"p-6 space-y-4"},(0,r.createElement)("div",{className:"flex items-center justify-between"},(0,r.createElement)("div",null,(0,r.createElement)("h4",{className:"font-semibold text-gray-700"},"Notifikasi Email"),(0,r.createElement)("p",{className:"text-xs text-gray-500"},"Kirim email saat ada pendaftaran jamaah baru.")),(0,r.createElement)("label",{className:"relative inline-flex items-center cursor-pointer"},(0,r.createElement)("input",{type:"checkbox",className:"sr-only peer",checked:e.email_notifications,onChange:e=>a("email_notifications",e.target.checked)}),(0,r.createElement)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"}))),(0,r.createElement)("hr",null),(0,r.createElement)("div",{className:"flex items-center justify-between"},(0,r.createElement)("div",null,(0,r.createElement)("h4",{className:"font-semibold text-gray-700 flex items-center gap-2"},(0,r.createElement)(Za,{size:14})," Notifikasi WhatsApp"),(0,r.createElement)("p",{className:"text-xs text-gray-500"},"Integrasi WA Gateway untuk notifikasi tagihan.")),(0,r.createElement)("label",{className:"relative inline-flex items-center cursor-pointer"},(0,r.createElement)("input",{type:"checkbox",className:"sr-only peer",checked:e.whatsapp_notifications,onChange:e=>a("whatsapp_notifications",e.target.checked)}),(0,r.createElement)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"}))))),(0,r.createElement)("div",{className:"flex justify-end pb-10"},(0,r.createElement)("button",{onClick:()=>{et.success("Pengaturan berhasil disimpan!")},className:"bg-blue-600 text-white px-6 py-3 rounded-lg shadow-lg hover:bg-blue-700 flex items-center gap-2 transform hover:-translate-y-1 transition-all"},(0,r.createElement)(Xa,{size:20})," Simpan Semua Pengaturan"))))},Qa=()=>(0,r.createElement)("div",{className:"flex flex-col items-center justify-center h-full bg-gray-50 text-gray-600"},(0,r.createElement)("h1",{className:"text-6xl font-bold mb-4 text-gray-300"},"404"),(0,r.createElement)("p",{className:"text-xl font-semibold text-gray-700"},"Halaman tidak ditemukan"),(0,r.createElement)("p",{className:"text-sm text-gray-500 mt-2"},"Pastikan URL yang Anda tuju benar."),(0,r.createElement)("a",{href:"#/",className:"mt-6 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},"Kembali ke Dashboard")),er=()=>((0,r.useEffect)(()=>(document.body.classList.add("immersive-mode"),()=>{document.body.classList.remove("immersive-mode")}),[]),(0,r.createElement)(Mt,null,(0,r.createElement)(xe,null,(0,r.createElement)("div",{className:"h-screen w-screen bg-gray-50 text-gray-900 font-sans overflow-hidden flex flex-col"},(0,r.createElement)(kt,{position:"top-right",toastOptions:{duration:4e3}}),(0,r.createElement)(de,null,(0,r.createElement)(ce,{path:"/",element:(0,r.createElement)(aa,null)}),(0,r.createElement)(ce,{path:"/jamaah",element:(0,r.createElement)(ga,null)}),(0,r.createElement)(ce,{path:"/packages",element:(0,r.createElement)(ba,null)}),(0,r.createElement)(ce,{path:"/logistics",element:(0,r.createElement)(xa,null)}),(0,r.createElement)(ce,{path:"/finance",element:(0,r.createElement)(_a,null)}),(0,r.createElement)(ce,{path:"/agents",element:(0,r.createElement)(Pa,null)}),(0,r.createElement)(ce,{path:"/hr",element:(0,r.createElement)(Da,null)}),(0,r.createElement)(ce,{path:"/marketing",element:(0,r.createElement)(Ba,null)}),(0,r.createElement)(ce,{path:"/tasks",element:(0,r.createElement)(Oa,null)}),(0,r.createElement)(ce,{path:"/hotels",element:(0,r.createElement)(Ja,null)}),(0,r.createElement)(ce,{path:"/flights",element:(0,r.createElement)(Wa,null)}),(0,r.createElement)(ce,{path:"/categories",element:(0,r.createElement)(Va,null)}),(0,r.createElement)(ce,{path:"/roles",element:(0,r.createElement)(La,null)}),(0,r.createElement)(ce,{path:"/users",element:(0,r.createElement)(qa,null)}),(0,r.createElement)(ce,{path:"/settings",element:(0,r.createElement)(Ya,null)}),(0,r.createElement)(ce,{path:"*",element:(0,r.createElement)(Qa,null)})))))),tr=document.getElementById("umh-app-root")||document.getElementById("umh-app");tr&&(0,l.H)(tr).render((0,r.createElement)(er,null))})();