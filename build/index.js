(()=>{"use strict";var e={338:(e,a,t)=>{var l=t(795);a.H=l.createRoot,l.hydrateRoot},795:e=>{e.exports=window.ReactDOM}},a={};const t=window.React;var l=function t(l){var r=a[l];if(void 0!==r)return r.exports;var n=a[l]={exports:{}};return e[l](n,n.exports,t),n.exports}(338);const r=window.umhData||{root:"",nonce:"",user:null},n=async(e,a={})=>{const{root:t,nonce:l}=r,n=`${t}umh/v1/${(e.startsWith("/")?e.substring(1):e).replace("umh/v1/","")}`,s={"X-WP-Nonce":l,...a.headers};a.body instanceof FormData||(s["Content-Type"]="application/json");const i={...a,headers:s};try{const e=await fetch(n,i),a=await e.json();if(!e.ok)throw new Error(a.message||a.code||"Terjadi kesalahan pada server.");return a}catch(a){throw console.error(`API Error [${e}]:`,a),a}},s=(e,a={})=>{const t=new URLSearchParams(a.params).toString();return n(t?`${e}?${t}`:e,{method:"GET"})},i=(e,a)=>n(e,{method:"POST",body:a instanceof FormData?a:JSON.stringify(a)}),c=async(e,a,t=null)=>{const l=new FormData;return l.append("file",e),a&&l.append("upload_type",a),t&&l.append("jamaah_id",t),n("uploads",{method:"POST",body:l})},m=(0,t.createContext)(),o=()=>(0,t.useContext)(m),d=({children:e})=>{const[a,l]=(0,t.useState)(null),[r,n]=(0,t.useState)(null),[i,c]=(0,t.useState)(!0),[o,d]=(0,t.useState)(null),[u,p]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{c(!0),d(null);try{window.umhData&&window.umhData.user&&l(window.umhData.user);const[e,a]=await Promise.all([s("umh/v1/stats/totals").catch(e=>({data:{}})),s("umh/v1/departures",{params:{per_page:5,status:"scheduled",orderby:"departure_date",order:"asc"}}).catch(e=>({data:{items:[]}}))]),t=e.data||{},r=a.data,i=Array.isArray(r)?r:r&&Array.isArray(r.items)?r.items:[];n({total_jamaah:t.total_jamaah||0,active_packages:t.total_packages||0,total_revenue:t.total_revenue||0,upcoming_departures:i.map(e=>({name:e.package_name,date:e.departure_date,booked:e.slots_filled||e.total_seats-e.available_seats||0,quota:e.total_seats||0}))})}catch(e){console.error("Gagal inisialisasi aplikasi:",e),d("Gagal memuat data utama. Periksa koneksi internet Anda.")}finally{c(!1)}})()},[]);const g={user:a,stats:r,loading:i,error:o,globalError:u,clearGlobalError:()=>p(null)};return(0,t.createElement)(m.Provider,{value:g},e)};var u={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const p=(e,a)=>{const l=(0,t.forwardRef)(({color:l="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:c,...m},o)=>{return(0,t.createElement)("svg",{ref:o,...u,width:r,height:r,stroke:l,strokeWidth:s?24*Number(n)/Number(r):n,className:["lucide",`lucide-${d=e,d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()}`,i].join(" "),...m},[...a.map(([e,a])=>(0,t.createElement)(e,a)),...Array.isArray(c)?c:[c]]);var d});return l.displayName=`${e}`,l},g=p("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),b=({title:e,toggleSidebar:a})=>{const{user:l}=o(),r=l&&("super_admin"===l.role||"administrator"===l.role||"owner"===l.role),n=window.umhData&&window.umhData.adminUrl?window.umhData.adminUrl:"/wp-admin/";return(0,t.createElement)("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-20"},(0,t.createElement)("div",{className:"px-6 py-4 flex items-center justify-between"},(0,t.createElement)("div",{className:"flex items-center gap-4"},(0,t.createElement)("button",{onClick:a,className:"p-2 -ml-2 text-gray-500 hover:bg-gray-100 rounded-lg lg:hidden focus:outline-none focus:ring-2 focus:ring-gray-200"},(0,t.createElement)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"}))),(0,t.createElement)("h2",{className:"text-xl font-bold text-gray-800 tracking-tight"},e)),(0,t.createElement)("div",{className:"flex items-center gap-3 sm:gap-6"},r&&(0,t.createElement)("a",{href:n,className:"hidden sm:flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm",title:"Kembali ke Dashboard WordPress"},(0,t.createElement)(g,{size:16}),(0,t.createElement)("span",null,"Kembali ke WP")),(0,t.createElement)("div",{className:"h-8 w-px bg-gray-200 hidden sm:block"}),(0,t.createElement)("div",{className:"flex items-center gap-3"},(0,t.createElement)("div",{className:"flex flex-col text-right hidden sm:block"},(0,t.createElement)("span",{className:"text-sm font-semibold text-gray-700 truncate max-w-[150px]"},l?l.name:"Pengguna"),(0,t.createElement)("span",{className:"text-xs text-gray-500 uppercase tracking-wide"},l?"super_admin"===l.role?"Administrator":l.role:"Guest")),(0,t.createElement)("div",{className:"relative"},(0,t.createElement)("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 p-0.5 ring-2 ring-white shadow-md"},(0,t.createElement)("div",{className:"h-full w-full rounded-full bg-white flex items-center justify-center overflow-hidden"},l&&l.avatar?(0,t.createElement)("img",{src:l.avatar,alt:"Profile",className:"h-full w-full object-cover"}):(0,t.createElement)("span",{className:"text-blue-600 font-bold text-lg"},l&&l.name?l.name.charAt(0).toUpperCase():"U"))),(0,t.createElement)("div",{className:"absolute bottom-0 right-0 h-3 w-3 bg-green-500 border-2 border-white rounded-full"}))))))},h=p("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),y=p("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),E=p("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),f=p("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),x=p("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),v=p("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]),k=p("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),N=p("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),w=p("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),_=p("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]),C=p("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),S=p("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]),D=p("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),M=[{header:"Utama",items:[{path:"dashboard",label:"Dashboard",icon:(0,t.createElement)(h,{size:20}),roles:["all"]},{path:"jamaah",label:"Data Jemaah",icon:(0,t.createElement)(y,{size:20}),roles:["super_admin","administrator","owner","admin_staff","agent"]},{path:"packages",label:"Paket Umrah/Haji",icon:(0,t.createElement)(E,{size:20}),roles:["super_admin","administrator","owner","admin_staff","marketing_staff"]},{path:"departures",label:"Jadwal Keberangkatan",icon:(0,t.createElement)(f,{size:20}),roles:["super_admin","administrator","owner","admin_staff"]}]},{header:"Keuangan & Bisnis",items:[{path:"finance",label:"Keuangan & Kasir",icon:(0,t.createElement)(x,{size:20}),roles:["super_admin","administrator","owner","finance_staff"]},{path:"marketing",label:"Marketing & Leads",icon:(0,t.createElement)(v,{size:20}),roles:["super_admin","administrator","owner","marketing_staff"]},{path:"agents",label:"Agen & Mitra",icon:(0,t.createElement)(k,{size:20}),roles:["super_admin","administrator","owner","marketing_staff"]}]},{header:"Operasional Internal",items:[{path:"tasks",label:"Tugas Tim",icon:(0,t.createElement)(N,{size:20}),roles:["super_admin","administrator","owner","admin_staff","hr_staff"]},{path:"logistics",label:"Logistik",icon:(0,t.createElement)(w,{size:20}),roles:["super_admin","administrator","owner","admin_staff"]},{path:"hr",label:"HR & Karyawan",icon:(0,t.createElement)(_,{size:20}),roles:["super_admin","administrator","owner","hr_staff"]}]},{header:"Master Data",items:[{path:"hotels",label:"Hotel",icon:(0,t.createElement)(C,{size:18}),roles:["super_admin","administrator","owner"]},{path:"flights",label:"Maskapai",icon:(0,t.createElement)(S,{size:18}),roles:["super_admin","administrator","owner"]},{path:"users",label:"Pengguna Sistem",icon:(0,t.createElement)(y,{size:18}),roles:["super_admin","administrator","owner"]},{path:"settings",label:"Pengaturan",icon:(0,t.createElement)(D,{size:18}),roles:["super_admin","administrator"]}]}],P=p("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),j=({isOpen:e,toggleSidebar:a,activePage:l,onNavigate:r})=>{const{user:n}=o(),s=n?.role||"subscriber",i=M.map(e=>({...e,items:e.items.filter(e=>((e,a)=>!!e&&(!!a.includes("all")||"super_admin"===e||"administrator"===e||a.includes(e)))(s,e.roles))})).filter(e=>e.items.length>0);return(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"fixed inset-0 bg-black/50 z-20 lg:hidden transition-opacity duration-300 "+(e?"opacity-100":"opacity-0 pointer-events-none"),onClick:a}),(0,t.createElement)("div",{className:`fixed lg:static inset-y-0 left-0 z-30 w-64 bg-slate-900 text-white transform transition-transform duration-300 ease-in-out ${e?"translate-x-0":"-translate-x-full"} lg:translate-x-0 flex flex-col h-full shadow-xl`},(0,t.createElement)("div",{className:"h-16 flex items-center justify-between px-6 bg-slate-950 border-b border-slate-800"},(0,t.createElement)("div",{className:"font-bold text-xl tracking-wider flex items-center gap-2"},(0,t.createElement)("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center"},(0,t.createElement)("span",{className:"text-white font-bold"},"U")),(0,t.createElement)("span",null,"MANAGER")),(0,t.createElement)("button",{onClick:a,className:"lg:hidden text-gray-400 hover:text-white"},(0,t.createElement)(P,{size:24}))),(0,t.createElement)("div",{className:"flex-1 overflow-y-auto py-4 px-3 space-y-6 custom-scrollbar"},i.map((e,n)=>(0,t.createElement)("div",{key:n},(0,t.createElement)("p",{className:"px-3 text-xs font-bold text-slate-500 uppercase tracking-wider mb-2"},e.header),(0,t.createElement)("div",{className:"space-y-1"},e.items.map(e=>{const n=l===e.path;return(0,t.createElement)("button",{key:e.path,onClick:()=>{r(e.path),window.innerWidth<1024&&a()},className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 group "+(n?"bg-blue-600 text-white shadow-lg shadow-blue-900/50 translate-x-1":"text-slate-400 hover:bg-slate-800 hover:text-white hover:translate-x-1")},(0,t.createElement)("span",{className:n?"text-white":"text-slate-400 group-hover:text-white"},e.icon),e.label)}))))),(0,t.createElement)("div",{className:"p-4 bg-slate-950 border-t border-slate-800"},(0,t.createElement)("div",{className:"flex items-center gap-3"},(0,t.createElement)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold shadow-inner"},n?.name?n.name.charAt(0).toUpperCase():"A"),(0,t.createElement)("div",{className:"flex-1 overflow-hidden"},(0,t.createElement)("p",{className:"text-sm font-medium text-white truncate"},n?.name||"User"),(0,t.createElement)("p",{className:"text-xs text-slate-400 truncate capitalize"},n?.role?.replace("_"," ")||"Guest")),(0,t.createElement)("a",{href:window.umhData?.logoutUrl||"/wp-login.php?action=logout",className:"text-slate-500 hover:text-red-400 transition-colors",title:"Keluar"},(0,t.createElement)(g,{size:18}))))))};let z={data:""},A=e=>{if("object"==typeof window){let a=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return a.nonce=window.__nonce__,a.parentNode||(e||document.head).appendChild(a),a.firstChild}return e||z},K=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,T=/\/\*[^]*?\*\/|  +/g,I=/\n+/g,B=(e,a)=>{let t="",l="",r="";for(let n in e){let s=e[n];"@"==n[0]?"i"==n[1]?t=n+" "+s+";":l+="f"==n[1]?B(s,n):n+"{"+B(s,"k"==n[1]?"":a)+"}":"object"==typeof s?l+=B(s,a?a.replace(/([^,])+/g,e=>n.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,a=>/&/.test(a)?a.replace(/&/g,e):e?e+" "+a:a)):n):null!=s&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=B.p?B.p(n,s):n+":"+s+";")}return t+(a&&r?a+"{"+r+"}":r)+l},q={},L=e=>{if("object"==typeof e){let a="";for(let t in e)a+=t+L(e[t]);return a}return e},H=(e,a,t,l,r)=>{let n=L(e),s=q[n]||(q[n]=(e=>{let a=0,t=11;for(;a<e.length;)t=101*t+e.charCodeAt(a++)>>>0;return"go"+t})(n));if(!q[s]){let a=n!==e?e:(e=>{let a,t,l=[{}];for(;a=K.exec(e.replace(T,""));)a[4]?l.shift():a[3]?(t=a[3].replace(I," ").trim(),l.unshift(l[0][t]=l[0][t]||{})):l[0][a[1]]=a[2].replace(I," ").trim();return l[0]})(e);q[s]=B(r?{["@keyframes "+s]:a}:a,t?"":"."+s)}let i=t&&q.g?q.g:null;return t&&(q.g=q[s]),((e,a,t,l)=>{l?a.data=a.data.replace(l,e):-1===a.data.indexOf(e)&&(a.data=t?e+a.data:a.data+e)})(q[s],a,l,i),s};function $(e){let a=this||{},t=e.call?e(a.p):e;return H(t.unshift?t.raw?((e,a,t)=>e.reduce((e,l,r)=>{let n=a[r];if(n&&n.call){let e=n(t),a=e&&e.props&&e.props.className||/^go/.test(e)&&e;n=a?"."+a:e&&"object"==typeof e?e.props?"":B(e,""):!1===e?"":e}return e+l+(null==n?"":n)},""))(t,[].slice.call(arguments,1),a.p):t.reduce((e,t)=>Object.assign(e,t&&t.call?t(a.p):t),{}):t,A(a.target),a.g,a.o,a.k)}$.bind({g:1});let O,U,J,R=$.bind({k:1});function F(e,a){let t=this||{};return function(){let l=arguments;function r(n,s){let i=Object.assign({},n),c=i.className||r.className;t.p=Object.assign({theme:U&&U()},i),t.o=/ *go\d+/.test(c),i.className=$.apply(t,l)+(c?" "+c:""),a&&(i.ref=s);let m=e;return e[0]&&(m=i.as||e,delete i.as),J&&m[0]&&J(i),O(m,i)}return a?a(r):r}}var G=(e,a)=>(e=>"function"==typeof e)(e)?e(a):e,V=(()=>{let e=0;return()=>(++e).toString()})(),W=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let a=matchMedia("(prefers-reduced-motion: reduce)");e=!a||a.matches}return e}})(),Z="default",X=(e,a)=>{let{toastLimit:t}=e.settings;switch(a.type){case 0:return{...e,toasts:[a.toast,...e.toasts].slice(0,t)};case 1:return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case 2:let{toast:l}=a;return X(e,{type:e.toasts.find(e=>e.id===l.id)?1:0,toast:l});case 3:let{toastId:r}=a;return{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,dismissed:!0,visible:!1}:e)};case 4:return void 0===a.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)};case 5:return{...e,pausedAt:a.time};case 6:let n=a.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+n}))}}},Y=[],Q={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},ee={},ae=(e,a=Z)=>{ee[a]=X(ee[a]||Q,e),Y.forEach(([e,t])=>{e===a&&t(ee[a])})},te=e=>Object.keys(ee).forEach(a=>ae(e,a)),le=(e=Z)=>a=>{ae(a,e)},re={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},ne=e=>(a,t)=>{let l=((e,a="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:a,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...t,id:(null==t?void 0:t.id)||V()}))(a,e,t);return le(l.toasterId||(e=>Object.keys(ee).find(a=>ee[a].toasts.some(a=>a.id===e)))(l.id))({type:2,toast:l}),l.id},se=(e,a)=>ne("blank")(e,a);se.error=ne("error"),se.success=ne("success"),se.loading=ne("loading"),se.custom=ne("custom"),se.dismiss=(e,a)=>{let t={type:3,toastId:e};a?le(a)(t):te(t)},se.dismissAll=e=>se.dismiss(void 0,e),se.remove=(e,a)=>{let t={type:4,toastId:e};a?le(a)(t):te(t)},se.removeAll=e=>se.remove(void 0,e),se.promise=(e,a,t)=>{let l=se.loading(a.loading,{...t,...null==t?void 0:t.loading});return"function"==typeof e&&(e=e()),e.then(e=>{let r=a.success?G(a.success,e):void 0;return r?se.success(r,{id:l,...t,...null==t?void 0:t.success}):se.dismiss(l),e}).catch(e=>{let r=a.error?G(a.error,e):void 0;r?se.error(r,{id:l,...t,...null==t?void 0:t.error}):se.dismiss(l)}),e};var ie=R`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ce=R`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,me=R`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,oe=F("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ie} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ce} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${me} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,de=R`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ue=F("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${de} 1s linear infinite;
`,pe=R`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ge=R`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,be=F("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ge} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,he=F("div")`
  position: absolute;
`,ye=F("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Ee=R`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fe=F("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Ee} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,xe=({toast:e})=>{let{icon:a,type:l,iconTheme:r}=e;return void 0!==a?"string"==typeof a?t.createElement(fe,null,a):a:"blank"===l?null:t.createElement(ye,null,t.createElement(ue,{...r}),"loading"!==l&&t.createElement(he,null,"error"===l?t.createElement(oe,{...r}):t.createElement(be,{...r})))},ve=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,ke=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,Ne=F("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,we=F("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,_e=t.memo(({toast:e,position:a,style:l,children:r})=>{let n=e.height?((e,a)=>{let t=e.includes("top")?1:-1,[l,r]=W()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[ve(t),ke(t)];return{animation:a?`${R(l)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${R(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(e.position||a||"top-center",e.visible):{opacity:0},s=t.createElement(xe,{toast:e}),i=t.createElement(we,{...e.ariaProps},G(e.message,e));return t.createElement(Ne,{className:e.className,style:{...n,...l,...e.style}},"function"==typeof r?r({icon:s,message:i}):t.createElement(t.Fragment,null,s,i))});!function(e){B.p=void 0,O=e,U=void 0,J=void 0}(t.createElement);var Ce=({id:e,className:a,style:l,onHeightUpdate:r,children:n})=>{let s=t.useCallback(a=>{if(a){let t=()=>{let t=a.getBoundingClientRect().height;r(e,t)};t(),new MutationObserver(t).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return t.createElement("div",{ref:s,className:a,style:l},n)},Se=$`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,De=({reverseOrder:e,position:a="top-center",toastOptions:l,gutter:r,children:n,toasterId:s,containerStyle:i,containerClassName:c})=>{let{toasts:m,handlers:o}=((e,a="default")=>{let{toasts:l,pausedAt:r}=((e={},a=Z)=>{let[l,r]=(0,t.useState)(ee[a]||Q),n=(0,t.useRef)(ee[a]);(0,t.useEffect)(()=>(n.current!==ee[a]&&r(ee[a]),Y.push([a,r]),()=>{let e=Y.findIndex(([e])=>e===a);e>-1&&Y.splice(e,1)}),[a]);let s=l.toasts.map(a=>{var t,l,r;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||(null==(t=e[a.type])?void 0:t.removeDelay)||(null==e?void 0:e.removeDelay),duration:a.duration||(null==(l=e[a.type])?void 0:l.duration)||(null==e?void 0:e.duration)||re[a.type],style:{...e.style,...null==(r=e[a.type])?void 0:r.style,...a.style}}});return{...l,toasts:s}})(e,a),n=(0,t.useRef)(new Map).current,s=(0,t.useCallback)((e,a=1e3)=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),i({type:4,toastId:e})},a);n.set(e,t)},[]);(0,t.useEffect)(()=>{if(r)return;let e=Date.now(),t=l.map(t=>{if(t.duration===1/0)return;let l=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(l<0))return setTimeout(()=>se.dismiss(t.id,a),l);t.visible&&se.dismiss(t.id)});return()=>{t.forEach(e=>e&&clearTimeout(e))}},[l,r,a]);let i=(0,t.useCallback)(le(a),[a]),c=(0,t.useCallback)(()=>{i({type:5,time:Date.now()})},[i]),m=(0,t.useCallback)((e,a)=>{i({type:1,toast:{id:e,height:a}})},[i]),o=(0,t.useCallback)(()=>{r&&i({type:6,time:Date.now()})},[r,i]),d=(0,t.useCallback)((e,a)=>{let{reverseOrder:t=!1,gutter:r=8,defaultPosition:n}=a||{},s=l.filter(a=>(a.position||n)===(e.position||n)&&a.height),i=s.findIndex(a=>a.id===e.id),c=s.filter((e,a)=>a<i&&e.visible).length;return s.filter(e=>e.visible).slice(...t?[c+1]:[0,c]).reduce((e,a)=>e+(a.height||0)+r,0)},[l]);return(0,t.useEffect)(()=>{l.forEach(e=>{if(e.dismissed)s(e.id,e.removeDelay);else{let a=n.get(e.id);a&&(clearTimeout(a),n.delete(e.id))}})},[l,s]),{toasts:l,handlers:{updateHeight:m,startPause:c,endPause:o,calculateOffset:d}}})(l,s);return t.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...i},className:c,onMouseEnter:o.startPause,onMouseLeave:o.endPause},m.map(l=>{let s=l.position||a,i=((e,a)=>{let t=e.includes("top"),l=t?{top:0}:{bottom:0},r=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:W()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${a*(t?1:-1)}px)`,...l,...r}})(s,o.calculateOffset(l,{reverseOrder:e,gutter:r,defaultPosition:a}));return t.createElement(Ce,{id:l.id,key:l.id,onHeightUpdate:o.updateHeight,className:l.visible?Se:"",style:i},"custom"===l.type?G(l.message,l):n?n(l):t.createElement(_e,{toast:l,position:s}))}))},Me=se;const Pe=p("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),je=p("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ze=()=>{const{globalError:e,clearGlobalError:a}=o();return e?(0,t.createElement)("div",{className:"fixed top-20 right-6 bg-red-100 border-l-4 border-red-500 text-red-800 p-4 rounded-md shadow-lg z-50 max-w-md",role:"alert"},(0,t.createElement)("div",{className:"flex"},(0,t.createElement)("div",{className:"flex-shrink-0"},(0,t.createElement)(Pe,{size:20,className:"text-red-600"})),(0,t.createElement)("div",{className:"ml-3"},(0,t.createElement)("p",{className:"text-sm font-medium"},e)),(0,t.createElement)("div",{className:"ml-auto pl-3"},(0,t.createElement)("div",{className:"-mx-1.5 -my-1.5"},(0,t.createElement)("button",{type:"button",onClick:a,className:"inline-flex bg-red-100 rounded-md p-1.5 text-red-500 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-red-100 focus:ring-red-600"},(0,t.createElement)("span",{className:"sr-only"},"Tutup"),(0,t.createElement)(je,{size:20})))))):null},Ae=({children:e,title:a})=>((0,t.useEffect)(()=>{a&&(document.title=`${a} - Umroh Manager`)},[a]),(0,t.createElement)("div",{className:"max-w-7xl mx-auto"},(0,t.createElement)(ze,null),(0,t.createElement)("div",{className:"animate-fade-in"},e))),Ke=p("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Te=p("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),Ie=p("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Be=e=>e?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):"Rp 0",qe=e=>e?new Date(e).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}):"-",Le=Be,He=qe,$e=()=>{const{user:e}=o(),[a,l]=(0,t.useState)(null),[r,n]=(0,t.useState)(!0);if((0,t.useEffect)(()=>{(async()=>{try{const e=await s("umh/v1/dashboard-stats");l(e)}catch(e){console.error("Failed to fetch dashboard stats",e)}finally{n(!1)}})()},[]),r)return(0,t.createElement)(Ae,{title:"Dashboard"},(0,t.createElement)("div",{className:"p-8 text-center"},"Memuat Data Dashboard..."));const i=({title:e,value:a,icon:l,color:r,subtext:n})=>(0,t.createElement)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-start justify-between hover:shadow-md transition-all"},(0,t.createElement)("div",null,(0,t.createElement)("p",{className:"text-sm font-medium text-gray-500 mb-1"},e),(0,t.createElement)("h3",{className:"text-2xl font-bold text-gray-800"},a),n&&(0,t.createElement)("p",{className:"text-xs text-gray-400 mt-2"},n)),(0,t.createElement)("div",{className:`p-3 rounded-lg ${r} bg-opacity-10 text-white`},(0,t.createElement)(l,{size:24,className:r.replace("bg-","text-")})));return(0,t.createElement)(Ae,{title:`Selamat Datang, ${e?.name||"Admin"}`},(0,t.createElement)("div",{className:"space-y-6"},(0,t.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},(0,t.createElement)(i,{title:"Jemaah Aktif",value:a?.cards?.active_jamaah,icon:y,color:"bg-blue-600",subtext:"Menunggu Keberangkatan"}),(0,t.createElement)(i,{title:"Omset Bulan Ini",value:Le(a?.cards?.monthly_revenue),icon:Ke,color:"bg-green-600",subtext:"Pemasukan terverifikasi"}),(0,t.createElement)(i,{title:"Jadwal Terdekat",value:a?.cards?.next_departure?He(a?.cards?.next_departure.departure_date):"-",icon:S,color:"bg-purple-600",subtext:a?.cards?.next_departure?`${a.cards.next_departure.booked} / ${a.cards.next_departure.quota} Seat Terisi`:"Belum ada jadwal"}),(0,t.createElement)(i,{title:"Tugas Pending",value:a?.cards?.pending_tasks,icon:Te,color:"bg-orange-500",subtext:"Perlu diselesaikan"})),(0,t.createElement)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6"},(0,t.createElement)("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl shadow-sm border border-gray-100"},(0,t.createElement)("div",{className:"flex items-center justify-between mb-6"},(0,t.createElement)("h3",{className:"font-bold text-gray-800 flex items-center gap-2"},(0,t.createElement)(f,{size:18,className:"text-blue-600"})," Jadwal Keberangkatan"),(0,t.createElement)("button",{className:"text-sm text-blue-600 font-medium hover:underline"},"Lihat Semua")),(0,t.createElement)("div",{className:"overflow-x-auto"},(0,t.createElement)("table",{className:"w-full text-sm text-left"},(0,t.createElement)("thead",{className:"bg-gray-50 text-gray-600 font-semibold border-b"},(0,t.createElement)("tr",null,(0,t.createElement)("th",{className:"py-3 px-4"},"Paket"),(0,t.createElement)("th",{className:"py-3 px-4"},"Tanggal"),(0,t.createElement)("th",{className:"py-3 px-4 text-center"},"Seat"),(0,t.createElement)("th",{className:"py-3 px-4 text-center"},"Status"))),(0,t.createElement)("tbody",{className:"divide-y divide-gray-100"},a?.upcoming?.map(e=>{const a=e.booked/e.quota*100;return(0,t.createElement)("tr",{key:e.id,className:"hover:bg-gray-50 transition-colors"},(0,t.createElement)("td",{className:"py-3 px-4 font-medium text-gray-800"},e.name),(0,t.createElement)("td",{className:"py-3 px-4 text-gray-600"},He(e.departure_date)),(0,t.createElement)("td",{className:"py-3 px-4"},(0,t.createElement)("div",{className:"flex items-center gap-2 justify-center"},(0,t.createElement)("div",{className:"w-16 h-2 bg-gray-200 rounded-full overflow-hidden"},(0,t.createElement)("div",{className:"h-full "+(a>90?"bg-red-500":"bg-green-500"),style:{width:`${a}%`}})),(0,t.createElement)("span",{className:"text-xs text-gray-500"},e.booked,"/",e.quota))),(0,t.createElement)("td",{className:"py-3 px-4 text-center"},(0,t.createElement)("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-bold uppercase"},e.status)))}),(!a?.upcoming||0===a.upcoming.length)&&(0,t.createElement)("tr",null,(0,t.createElement)("td",{colSpan:"4",className:"text-center py-4 text-gray-400"},"Tidak ada jadwal dalam waktu dekat")))))),(0,t.createElement)("div",{className:"space-y-6"},(0,t.createElement)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100"},(0,t.createElement)("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2"},(0,t.createElement)(Ie,{size:18,className:"text-green-600"})," Pertumbuhan"),(0,t.createElement)("div",{className:"h-40 flex items-end justify-between gap-2 border-b border-gray-200 pb-2"},a?.chart?.map((e,a)=>(0,t.createElement)("div",{key:a,className:"flex flex-col items-center gap-1 w-full"},(0,t.createElement)("div",{className:"w-full bg-blue-500 rounded-t opacity-80 hover:opacity-100 transition-all",style:{height:`${Math.min(10*e.count,100)}%`}}),(0,t.createElement)("span",{className:"text-[10px] text-gray-400"},e.month.split("-")[1])))),(0,t.createElement)("p",{className:"text-xs text-center text-gray-400 mt-2"},"Pendaftaran 6 Bulan Terakhir"))))))},Oe=(e,a={})=>{const[l,r]=(0,t.useState)([]),[c,m]=(0,t.useState)({current_page:1,total_pages:1,total_items:0}),[o,d]=(0,t.useState)(!1),[u,p]=(0,t.useState)(null),g=(0,t.useCallback)(async(t={})=>{d(!0),p(null);try{const l={...a,...t},n=await s(e,{params:l});console.log(`[useCRUD] Fetch ${e}:`,n),n&&Array.isArray(n)?r(n):n&&n.items&&Array.isArray(n.items)?(r(n.items),m({current_page:parseInt(n.current_page||1),total_pages:parseInt(n.total_pages||1),total_items:parseInt(n.total_items||0)})):n&&n.data&&Array.isArray(n.data)?r(n.data):(console.warn("[useCRUD] Format data tidak dikenali, set ke array kosong."),r([]))}catch(e){const a=e.response?.data?.message||e.message||"Gagal memuat data";p(a),console.error("Fetch Error:",e)}finally{d(!1)}},[e,JSON.stringify(a)]);return{data:l,pagination:c,loading:o,error:u,fetchData:g,createItem:async a=>{d(!0);const t=Me.loading("Menyimpan data...");try{return await i(e,a),Me.success("Data berhasil disimpan!",{id:t}),await g(),!0}catch(e){const a=e.message||"Gagal menyimpan data";return Me.error(a,{id:t}),!1}finally{d(!1)}},updateItem:async(a,t)=>{d(!0);const l=Me.loading("Memperbarui data...");try{return await i(`${e}/${a}`,t),Me.success("Data berhasil diperbarui!",{id:l}),await g(),!0}catch(e){const a=e.message||"Gagal memperbarui data";return Me.error(a,{id:l}),!1}finally{d(!1)}},deleteItem:async a=>{if(!window.confirm("Apakah Anda yakin ingin menghapus data ini?"))return!1;d(!0);const t=Me.loading("Menghapus data...");try{return await(e=>n(e,{method:"DELETE"}))(`${e}/${a}`),Me.success("Data dihapus",{id:t}),r(e=>e.filter(e=>e.id!==a)),await g(),!0}catch(e){const a=e.message||"Gagal menghapus data";return Me.error(a,{id:t}),!1}finally{d(!1)}}}},Ue=p("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),Je=p("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),Re=p("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]),Fe=p("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Ge=p("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Ve=({size:e=24,text:a})=>(0,t.createElement)("div",{className:"flex justify-center items-center py-4"},(0,t.createElement)(Ge,{className:"animate-spin text-blue-600",size:e}),a&&(0,t.createElement)("span",{className:"ml-2 text-gray-600"},a)),We=({columns:e,data:a=[],loading:l,sortBy:r,onSort:n,onEdit:s,onDelete:i,renderRowActions:c,userCapabilities:m=[],editCapability:o,deleteCapability:d})=>{const u=Array.isArray(a)?a:[],p=e=>!e||!!m&&(!!("super_admin"===m||Array.isArray(m)&&m.includes("manage_options"))||Array.isArray(m)&&m.includes(e)),g=p(o),b=p(d);return l&&0===u.length?(0,t.createElement)("div",{className:"flex justify-center items-center p-12 bg-white rounded-lg shadow"},(0,t.createElement)(Ve,{text:"Sedang memuat data..."})):0===u.length?(0,t.createElement)("div",{className:"text-center p-12 bg-white rounded-lg shadow border border-gray-100"},(0,t.createElement)("p",{className:"text-gray-500"},"Tidak ada data ditemukan.")):(0,t.createElement)("div",{className:"overflow-x-auto bg-white rounded-lg shadow border border-gray-200"},(0,t.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,t.createElement)("thead",{className:"bg-gray-50"},(0,t.createElement)("tr",null,e.map(e=>(0,t.createElement)("th",{key:e.accessor||e.header,scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>e.sortable&&n&&n(e.accessor)},(0,t.createElement)("div",{className:"flex items-center gap-1"},e.Header||e.header,e.sortable&&r&&(0,t.createElement)("span",{className:"inline-block"},r.field===e.accessor?"asc"===r.order?(0,t.createElement)(Ue,{size:14}):(0,t.createElement)(Je,{size:14}):(0,t.createElement)(Ue,{size:14,className:"text-gray-300"}))))),(s||i||c)&&(0,t.createElement)("th",{scope:"col",className:"relative px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi"))),(0,t.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},l&&(0,t.createElement)("tr",null,(0,t.createElement)("td",{colSpan:e.length+1,className:"p-2 bg-blue-50"},(0,t.createElement)("div",{className:"flex justify-center items-center text-blue-600 text-xs"},(0,t.createElement)(Ve,{size:16,text:"Memperbarui data..."})))),u.map((a,l)=>(0,t.createElement)("tr",{key:a.id||l,className:"hover:bg-gray-50 transition-colors"},e.map(e=>(0,t.createElement)("td",{key:e.accessor||l,className:`px-6 py-4 whitespace-nowrap text-sm text-gray-700 ${e.className||""}`},e.render?e.render(a,l):void 0!==a[e.accessor]&&null!==a[e.accessor]?a[e.accessor]:"-")),(s||i||c)&&(0,t.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-3"},c&&c(a),s&&g&&(0,t.createElement)("button",{onClick:()=>s(a),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"Edit"},(0,t.createElement)(Re,{size:18})),i&&b&&(0,t.createElement)("button",{onClick:()=>i(a),className:"text-red-600 hover:text-red-900 transition-colors",title:"Hapus"},(0,t.createElement)(Fe,{size:18}))))))))},Ze=({isOpen:e,onClose:a,title:l,children:r,size:n="max-w-2xl",footer:s})=>((0,t.useEffect)(()=>{const e=e=>{27===e.keyCode&&a()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[a]),e?(0,t.createElement)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-start pt-10",onClick:e=>{e.target===e.currentTarget&&a()}},(0,t.createElement)("div",{className:`bg-white rounded-lg shadow-xl w-full ${n} m-4 flex flex-col max-h-[90vh]`},(0,t.createElement)("div",{className:"flex justify-between items-center p-4 border-b"},(0,t.createElement)("h3",{className:"text-xl font-semibold text-gray-800"},l),(0,t.createElement)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100 transition-colors"},(0,t.createElement)(je,{size:20}))),(0,t.createElement)("div",{className:"p-6 overflow-y-auto"},r),s&&(0,t.createElement)("div",{className:"flex justify-end items-center p-4 border-t space-x-2 bg-gray-50 rounded-b-lg"},s))):null),Xe=p("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ye=p("Hotel",[["path",{d:"M18 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Z",key:"p9z69c"}],["path",{d:"m9 16 .348-.24c1.465-1.013 3.84-1.013 5.304 0L15 16",key:"1bvcvh"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M10 22v-6.5m4 0V22",key:"16gs4s"}]]),Qe=()=>{const{data:e,loading:a,fetchData:l,createItem:r,deleteItem:n}=Oe("umh/v1/packages"),[i,c]=(0,t.useState)([]),[m,o]=(0,t.useState)([]),[d,u]=(0,t.useState)([]),[p,g]=(0,t.useState)(!1),[b,h]=(0,t.useState)({name:"",category_id:"",airline_id:"",duration:9,description:"",itinerary_type:"text",itinerary_content:"",hotels:[]});(0,t.useEffect)(()=>{l(),y()},[l]);const y=async()=>{try{const[e,a,t]=await Promise.all([s("umh/v1/package-categories"),s("umh/v1/flights"),s("umh/v1/hotels")]);c(e),o(a),u(t)}catch(e){console.error("Gagal ambil master data",e)}},E=(e,a,t)=>{const l=[...b.hotels];l[e][a]=t,h({...b,hotels:l})},f=[{header:"Nama Paket",accessor:"name",render:e=>(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"font-bold text-gray-800"},e.name),(0,t.createElement)("div",{className:"text-xs text-gray-500"},e.duration," Hari | ",e.category_name))},{header:"Maskapai",accessor:"airline_name",render:e=>(0,t.createElement)("div",{className:"flex items-center gap-1 text-sm text-gray-600"},(0,t.createElement)(S,{size:14})," ",e.airline_name||"-")},{header:"Status",accessor:"status"}];return(0,t.createElement)(Ae,{title:"Manajemen Paket Umroh & Haji"},(0,t.createElement)("div",{className:"mb-4 flex justify-between"},(0,t.createElement)("div",null),(0,t.createElement)("button",{onClick:()=>g(!0),className:"btn-primary flex items-center gap-2"},(0,t.createElement)(Xe,{size:18})," Buat Paket Baru")),(0,t.createElement)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden"},(0,t.createElement)(We,{columns:f,data:e,loading:a,onDelete:e=>n(e.id)})),(0,t.createElement)(Ze,{isOpen:p,onClose:()=>g(!1),title:"Buat Paket Baru"},(0,t.createElement)("form",{onSubmit:async e=>{e.preventDefault(),await r(b)&&(g(!1),h({name:"",category_id:"",airline_id:"",duration:9,hotels:[],itinerary_type:"text"}))},className:"space-y-4 max-h-[80vh] overflow-y-auto p-1"},(0,t.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,t.createElement)("div",{className:"col-span-2"},(0,t.createElement)("label",{className:"label"},"Nama Paket"),(0,t.createElement)("input",{className:"input-field",required:!0,value:b.name,onChange:e=>h({...b,name:e.target.value}),placeholder:"Ex: Umroh Hemat Januari 2025"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Kategori"),(0,t.createElement)("select",{className:"input-field",required:!0,value:b.category_id,onChange:e=>h({...b,category_id:e.target.value})},(0,t.createElement)("option",{value:""},"Pilih Kategori"),i.map(e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.name)))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Maskapai"),(0,t.createElement)("select",{className:"input-field",required:!0,value:b.airline_id,onChange:e=>h({...b,airline_id:e.target.value})},(0,t.createElement)("option",{value:""},"Pilih Maskapai"),m.map(e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.name)))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Durasi (Hari)"),(0,t.createElement)("input",{type:"number",className:"input-field",value:b.duration,onChange:e=>h({...b,duration:e.target.value})}))),(0,t.createElement)("div",{className:"bg-gray-50 p-3 rounded border border-gray-200"},(0,t.createElement)("div",{className:"flex justify-between items-center mb-2"},(0,t.createElement)("label",{className:"label mb-0 flex items-center gap-2"},(0,t.createElement)(Ye,{size:14})," Akomodasi Hotel"),(0,t.createElement)("button",{type:"button",onClick:()=>{h({...b,hotels:[...b.hotels,{id:"",city:"makkah",nights:3}]})},className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded hover:bg-blue-200"},"+ Tambah Hotel")),b.hotels.map((e,a)=>(0,t.createElement)("div",{key:a,className:"flex gap-2 mb-2 items-end"},(0,t.createElement)("div",{className:"flex-grow"},(0,t.createElement)("label",{className:"text-[10px] text-gray-500"},"Kota"),(0,t.createElement)("select",{className:"input-field text-sm py-1",value:e.city,onChange:e=>E(a,"city",e.target.value)},(0,t.createElement)("option",{value:"makkah"},"Makkah"),(0,t.createElement)("option",{value:"madinah"},"Madinah"))),(0,t.createElement)("div",{className:"flex-grow-[2]"},(0,t.createElement)("label",{className:"text-[10px] text-gray-500"},"Hotel (Master)"),(0,t.createElement)("select",{className:"input-field text-sm py-1",value:e.id,onChange:e=>E(a,"id",e.target.value)},(0,t.createElement)("option",{value:""},"Pilih Hotel..."),d.filter(a=>a.city.toLowerCase()===e.city).map(e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.name," (",e.star_rating," Bintang)")))),(0,t.createElement)("div",{className:"w-16"},(0,t.createElement)("label",{className:"text-[10px] text-gray-500"},"Malam"),(0,t.createElement)("input",{type:"number",className:"input-field text-sm py-1",value:e.nights,onChange:e=>E(a,"nights",e.target.value)})),(0,t.createElement)("button",{type:"button",onClick:()=>(e=>{const a=b.hotels.filter((a,t)=>t!==e);h({...b,hotels:a})})(a),className:"text-red-500 p-2 hover:bg-red-50 rounded"},(0,t.createElement)(Fe,{size:16})))),0===b.hotels.length&&(0,t.createElement)("div",{className:"text-xs text-center text-gray-400 py-2"},"Belum ada hotel dipilih")),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Itinerary"),(0,t.createElement)("div",{className:"flex gap-4 mb-2"},(0,t.createElement)("label",{className:"flex items-center gap-2 text-sm"},(0,t.createElement)("input",{type:"radio",name:"iti_type",checked:"text"===b.itinerary_type,onChange:()=>h({...b,itinerary_type:"text"})})," Tulis Manual"),(0,t.createElement)("label",{className:"flex items-center gap-2 text-sm text-gray-400 cursor-not-allowed",title:"Fitur Upload dalam pengembangan"},(0,t.createElement)("input",{type:"radio",name:"iti_type",disabled:!0})," Upload File (Soon)")),"text"===b.itinerary_type&&(0,t.createElement)("textarea",{className:"input-field h-24",placeholder:"Hari 1: Berangkat, Hari 2: Tiba di Madinah...",value:b.itinerary_content,onChange:e=>h({...b,itinerary_content:e.target.value})})),(0,t.createElement)("div",{className:"flex justify-end gap-2 pt-4 border-t"},(0,t.createElement)("button",{type:"button",onClick:()=>g(!1),className:"btn-secondary"},"Batal"),(0,t.createElement)("button",{type:"submit",className:"btn-primary"},"Simpan Paket")))))},ea=()=>{const{data:e,loading:a,fetchData:l,createItem:r,updateItem:n,deleteItem:s}=Oe("umh/v1/departures"),{data:i}=Oe("umh/v1/packages");(0,t.useEffect)(()=>{l()},[l]);const[c,m]=(0,t.useState)(!1),[o,d]=(0,t.useState)("create"),[u,p]=(0,t.useState)(null),[g,b]=(0,t.useState)({package_id:"",departure_date:"",quota:45,price_override:0}),h=(e,a=null)=>{d(e),p(a),b(a?{...a,departure_date:a.departure_date.split("T")[0]}:{package_id:"",departure_date:"",quota:45,price_override:0}),m(!0)},y=[{header:"Tanggal Keberangkatan",accessor:"departure_date",render:e=>(0,t.createElement)("div",{className:"font-medium flex items-center gap-2"},(0,t.createElement)(f,{size:16,className:"text-blue-500"})," ",qe(e.departure_date))},{header:"Paket",accessor:"package_name",className:"font-bold"},{header:"Harga Jual",accessor:"price_override",render:e=>(0,t.createElement)("div",{className:"flex items-center gap-1 text-green-700 font-semibold"},Be(e.price_override||e.base_price))},{header:"Kuota",accessor:"quota",render:e=>(0,t.createElement)("span",{className:"badge bg-blue-50 text-blue-700"},e.quota," Seat")},{header:"Status",accessor:"status",render:e=>(0,t.createElement)("span",{className:"badge uppercase text-xs "+("open"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800")},e.status)}];return(0,t.createElement)(Ae,{title:"Jadwal Keberangkatan"},(0,t.createElement)("div",{className:"mb-6 flex justify-between items-center"},(0,t.createElement)("p",{className:"text-gray-500 text-sm"},"Atur tanggal dan harga spesifik untuk setiap keberangkatan."),(0,t.createElement)("button",{onClick:()=>h("create"),className:"btn-primary flex items-center gap-2"},(0,t.createElement)(Xe,{size:18})," Tambah Jadwal")),(0,t.createElement)(We,{columns:y,data:e,loading:a,onEdit:e=>h("edit",e),onDelete:s}),(0,t.createElement)(Ze,{isOpen:c,onClose:()=>m(!1),title:"create"===o?"Jadwal Baru":"Edit Jadwal"},(0,t.createElement)("form",{onSubmit:async e=>{e.preventDefault(),("create"===o?await r(g):await n(u.id,g))&&(m(!1),l())},className:"space-y-5"},(0,t.createElement)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100 mb-4"},(0,t.createElement)("label",{className:"label text-blue-800"},"1. Pilih Paket Perjalanan"),(0,t.createElement)("select",{className:"input-field",value:g.package_id,onChange:e=>{const a=e.target.value,t=i.find(e=>String(e.id)===String(a));b(e=>({...e,package_id:a,price_override:t?t.price:0}))},required:!0,disabled:"edit"===o},(0,t.createElement)("option",{value:""},"-- Pilih Paket --"),i?.map(e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.name))),(0,t.createElement)("p",{className:"text-xs text-blue-600 mt-1"},"Pilih paket master terlebih dahulu.")),(0,t.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"2. Tanggal Berangkat"),(0,t.createElement)("input",{type:"date",className:"input-field",value:g.departure_date,onChange:e=>b({...g,departure_date:e.target.value}),required:!0})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"3. Kuota Seat"),(0,t.createElement)("input",{type:"number",className:"input-field",value:g.quota,onChange:e=>b({...g,quota:e.target.value})}))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label font-bold text-gray-800 flex items-center gap-2"},(0,t.createElement)(Ke,{size:16})," 4. Harga Jual (Tanggal Ini)"),(0,t.createElement)("input",{type:"number",className:"input-field font-semibold text-lg",value:g.price_override,onChange:e=>b({...g,price_override:e.target.value})}),(0,t.createElement)("p",{className:"text-xs text-gray-500 mt-1"},"Anda bisa mengubah harga ini berbeda dari harga dasar paket (misal: High Season).")),(0,t.createElement)("div",{className:"flex justify-end gap-2 pt-4 border-t"},(0,t.createElement)("button",{type:"button",onClick:()=>m(!1),className:"btn-secondary"},"Batal"),(0,t.createElement)("button",{type:"submit",className:"btn-primary"},"Simpan Jadwal")))))},aa=p("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ta=({onSearch:e,placeholder:a="Cari..."})=>{const[l,r]=(0,t.useState)("");return(0,t.createElement)("form",{onSubmit:a=>{a.preventDefault(),e(l)},className:"relative w-full max-w-xs"},(0,t.createElement)("input",{type:"text",value:l,onChange:a=>{r(a.target.value),""===a.target.value&&e("")},placeholder:a,className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,t.createElement)("button",{type:"submit",className:"absolute inset-y-0 right-0 flex items-center justify-center px-3 text-gray-400 hover:text-blue-600"},(0,t.createElement)(aa,{size:18})))},la=p("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),ra=({pagination:e,onPageChange:a})=>{const{current_page:l,total_pages:r,total_items:n}=e;if(r<=1)return(0,t.createElement)("div",{className:"text-sm text-gray-600 mt-4"},"Total ",n," items");const s=[];let i=Math.max(1,l-Math.floor(2.5)),c=Math.min(r,i+5-1);c-i+1<5&&(i=Math.max(1,c-5+1));for(let e=i;e<=c;e++)s.push(e);return(0,t.createElement)("div",{className:"flex justify-between items-center mt-4"},(0,t.createElement)("span",{className:"text-sm text-gray-600"},"Menampilkan halaman ",l," dari ",r," (Total ",n," item)"),(0,t.createElement)("div",{className:"flex items-center space-x-1"},l>1&&(0,t.createElement)("button",{onClick:()=>a(1),className:"px-3 py-1 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-100 disabled:opacity-50"},"Awal"),(0,t.createElement)("button",{onClick:()=>a(l-1),disabled:1===l,className:"px-3 py-1 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-100 disabled:opacity-50"},(0,t.createElement)(P,{size:16})),i>1&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)("button",{onClick:()=>a(1),className:"px-3 py-1 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-100"},"1"),(0,t.createElement)("span",{className:"px-3 py-1 text-sm"},"...")),s.map(e=>(0,t.createElement)("button",{key:e,onClick:()=>a(e),className:"px-3 py-1 rounded-md text-sm font-medium "+(e===l?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100")},e)),c<r&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)("span",{className:"px-3 py-1 text-sm"},"..."),(0,t.createElement)("button",{onClick:()=>a(r),className:"px-3 py-1 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-100"},r)),(0,t.createElement)("button",{onClick:()=>a(l+1),disabled:l===r,className:"px-3 py-1 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-100 disabled:opacity-50"},(0,t.createElement)(la,{size:16})),l<r&&(0,t.createElement)("button",{onClick:()=>a(r),className:"px-3 py-1 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-100 disabled:opacity-50"},"Akhir")))},na=p("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),sa=p("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),ia=p("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ca=p("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),ma=p("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),oa=p("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),da=({label:e,url:a})=>a?(0,t.createElement)("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"p-1 rounded bg-white border border-gray-200 text-blue-600 text-[10px] hover:bg-blue-50 font-medium flex items-center gap-1 shadow-sm",title:"Lihat Dokumen"},(0,t.createElement)(oa,{size:8})," ",e):null,ua=()=>{const{data:e,loading:a,pagination:l,fetchData:r,deleteItem:n,changePage:s,changeLimit:m}=Oe("umh/v1/jamaah"),{data:o}=Oe("umh/v1/packages"),[d,u]=(0,t.useState)(!1),[p,g]=(0,t.useState)("create"),[b,h]=(0,t.useState)({}),[y,E]=(0,t.useState)(!1),[f,x]=(0,t.useState)({ktp:null,kk:null,passport:null});(0,t.useEffect)(()=>{r()},[r]);const v=(e,a)=>{x(t=>({...t,[e]:a}))},k=(e,a=null)=>{g(e),h(a||{full_name:"",nik:"",phone:"",package_id:"",package_price:0,status:"registered",gender:"L",city:""}),x({ktp:null,kk:null,passport:null}),u(!0)},N=[{header:"Jemaah",accessor:"full_name",render:e=>(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"font-bold text-gray-900"},e.full_name),(0,t.createElement)("div",{className:"text-xs text-gray-500 flex items-center gap-1"},(0,t.createElement)(na,{size:10})," ",e.phone||"-"),(0,t.createElement)("div",{className:"text-xs text-blue-600 mt-1"},e.package_name||"Belum pilih paket"))},{header:"Pembayaran (Progress)",accessor:"payment_percentage",width:"200px",render:e=>(0,t.createElement)("div",{className:"w-full max-w-[180px]"},(0,t.createElement)("div",{className:"flex justify-between text-xs mb-1"},(0,t.createElement)("span",{className:"font-semibold text-gray-700"},Be(e.total_paid)),(0,t.createElement)("span",{className:"text-gray-500"},e.payment_percentage||0,"%")),(0,t.createElement)("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden"},(0,t.createElement)("div",{className:"h-2 rounded-full transition-all duration-500 "+((e.payment_percentage||0)>=100?"bg-green-500":(e.payment_percentage||0)>0?"bg-blue-500":"bg-gray-300"),style:{width:`${e.payment_percentage||0}%`}})),(0,t.createElement)("div",{className:"text-[10px] text-gray-400 mt-1"},"Tagihan: ",Be(e.package_price)))},{header:"Perlengkapan",accessor:"logistics_status",render:e=>(0,t.createElement)("span",{className:"px-2 py-1 rounded-full text-[10px] font-bold uppercase border flex items-center gap-1 w-fit "+("taken"===e.logistics_status?"bg-green-50 text-green-700 border-green-200":"bg-orange-50 text-orange-700 border-orange-200")},(0,t.createElement)(sa,{size:10}),"taken"===e.logistics_status?"Lengkap":"Belum")},{header:"Status",accessor:"status",render:e=>(0,t.createElement)("span",{className:"px-2 py-1 rounded text-[10px] font-semibold uppercase "+("registered"===e.status?"bg-blue-100 text-blue-700":"lunas"===e.status?"bg-green-100 text-green-700":"cancelled"===e.status?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700")},e.status)},{header:"Dokumen",accessor:"id",render:e=>(0,t.createElement)("div",{className:"flex gap-1"},(0,t.createElement)(da,{label:"KTP",url:e.scan_ktp}),(0,t.createElement)(da,{label:"Paspor",url:e.scan_passport}))}];return(0,t.createElement)(Ae,{title:"Manajemen Jemaah"},(0,t.createElement)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 mb-4 flex flex-col md:flex-row justify-between items-center gap-4"},(0,t.createElement)("div",{className:"w-full md:w-1/3"},(0,t.createElement)(ta,{placeholder:"Cari nama, NIK, atau HP...",onSearch:e=>{r(1,l.limit,e)}})),(0,t.createElement)("button",{onClick:()=>k("create"),className:"btn-primary flex items-center gap-2"},(0,t.createElement)(Xe,{size:18})," Tambah Jemaah")),(0,t.createElement)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden"},(0,t.createElement)(We,{columns:N,data:e,loading:a,onDelete:n,onEdit:e=>k("edit",e)}),(0,t.createElement)(ra,{pagination:l,onPageChange:s,onLimitChange:m})),(0,t.createElement)(Ze,{isOpen:d,onClose:()=>u(!1),title:"create"===p?"Registrasi Jemaah Baru":"Edit Data Jemaah"},(0,t.createElement)("form",{onSubmit:async e=>{e.preventDefault();try{let e=b.id,a="umh/v1/jamaah";if("create"===p?e=(await i(a,b)).id:await i(`${a}/${e}`,b),!e)throw new Error("Gagal menyimpan data dasar.");const t=[];f.ktp&&t.push(c(f.ktp,"scan_ktp",e)),f.kk&&t.push(c(f.kk,"scan_kk",e)),f.passport&&t.push(c(f.passport,"scan_passport",e)),t.length>0?(E(!0),await Promise.all(t),Me.success("Data dan dokumen berhasil disimpan!")):Me.success("Data berhasil disimpan!"),u(!1),x({ktp:null,kk:null,passport:null}),r()}catch(e){console.error(e),Me.error(e.message||"Terjadi kesalahan.")}finally{E(!1)}},className:"space-y-4"},(0,t.createElement)("div",{className:"bg-gray-50 p-2 rounded border-b mb-2"},(0,t.createElement)("h4",{className:"font-bold text-sm text-gray-700 flex items-center gap-2"},(0,t.createElement)(ia,{size:14})," Identitas Diri")),(0,t.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,t.createElement)("div",{className:"md:col-span-2"},(0,t.createElement)("label",{className:"label"},"Nama Lengkap (Sesuai KTP/Paspor)"),(0,t.createElement)("input",{className:"input-field",value:b.full_name||"",onChange:e=>h({...b,full_name:e.target.value}),required:!0,placeholder:"Nama Lengkap"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"NIK (KTP)"),(0,t.createElement)("input",{className:"input-field",value:b.nik||"",onChange:e=>h({...b,nik:e.target.value})})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"No. HP / WA"),(0,t.createElement)("input",{className:"input-field",value:b.phone||"",onChange:e=>h({...b,phone:e.target.value})})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Jenis Kelamin"),(0,t.createElement)("select",{className:"input-field",value:b.gender||"L",onChange:e=>h({...b,gender:e.target.value})},(0,t.createElement)("option",{value:"L"},"Laki-laki"),(0,t.createElement)("option",{value:"P"},"Perempuan"))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Kota Domisili"),(0,t.createElement)("input",{className:"input-field",value:b.city||"",onChange:e=>h({...b,city:e.target.value})}))),(0,t.createElement)("div",{className:"bg-blue-50 p-3 rounded border border-blue-100 mt-4 mb-2"},(0,t.createElement)("h4",{className:"font-bold text-sm text-blue-800 flex items-center gap-2"},(0,t.createElement)(ca,{size:14})," Paket & Harga")),(0,t.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,t.createElement)("div",{className:"md:col-span-2"},(0,t.createElement)("label",{className:"label"},"Pilih Paket"),(0,t.createElement)("select",{className:"input-field",value:b.package_id||"",onChange:e=>{const a=e.target.value,t=o?.find(e=>String(e.id)===String(a));h(e=>({...e,package_id:a,package_price:t?t.price:0}))}},(0,t.createElement)("option",{value:""},"-- Pilih Paket Umrah/Haji --"),o&&o.map(e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.name," - ",Be(e.price))))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Harga Deal (Rp)"),(0,t.createElement)("input",{type:"number",className:"input-field font-semibold",value:b.package_price||0,onChange:e=>h({...b,package_price:e.target.value})})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Status Keberangkatan"),(0,t.createElement)("select",{className:"input-field",value:b.status||"registered",onChange:e=>h({...b,status:e.target.value})},(0,t.createElement)("option",{value:"registered"},"Terdaftar"),(0,t.createElement)("option",{value:"documents_collected"},"Dokumen Lengkap"),(0,t.createElement)("option",{value:"visa_issued"},"Visa Terbit"),(0,t.createElement)("option",{value:"ready"},"Siap Berangkat"),(0,t.createElement)("option",{value:"completed"},"Selesai/Pulang"),(0,t.createElement)("option",{value:"cancelled"},"Batal")))),(0,t.createElement)("div",{className:"bg-gray-100 p-3 rounded border border-gray-200 mt-4"},(0,t.createElement)("h4",{className:"font-bold text-sm text-gray-700 flex items-center gap-2 mb-2"},(0,t.createElement)(ma,{size:14})," Upload Dokumen"),(0,t.createElement)("div",{className:"grid grid-cols-3 gap-2"},(0,t.createElement)("div",null,(0,t.createElement)("span",{className:"text-[10px] uppercase font-bold text-gray-500 block mb-1"},"KTP"),(0,t.createElement)("input",{type:"file",className:"text-xs w-full",onChange:e=>v("ktp",e.target.files[0])})),(0,t.createElement)("div",null,(0,t.createElement)("span",{className:"text-[10px] uppercase font-bold text-gray-500 block mb-1"},"KK"),(0,t.createElement)("input",{type:"file",className:"text-xs w-full",onChange:e=>v("kk",e.target.files[0])})),(0,t.createElement)("div",null,(0,t.createElement)("span",{className:"text-[10px] uppercase font-bold text-gray-500 block mb-1"},"Paspor"),(0,t.createElement)("input",{type:"file",className:"text-xs w-full",onChange:e=>v("passport",e.target.files[0])})))),(0,t.createElement)("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4"},(0,t.createElement)("button",{type:"button",onClick:()=>u(!1),className:"btn-secondary"},"Batal"),(0,t.createElement)("button",{type:"submit",className:"btn-primary w-32",disabled:y},y?"Mengupload...":"Simpan Data")))))},pa=p("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),ga=p("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),ba=p("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),ha=()=>{const{data:e,loading:a,pagination:l,fetchData:r,deleteItem:n,changePage:s,changeLimit:m}=Oe("umh/v1/finance"),{data:o,fetchData:d}=Oe("umh/v1/jamaah"),{data:u,fetchData:p}=Oe("umh/v1/hr"),{data:g,fetchData:b}=Oe("umh/v1/agents"),{data:h,fetchData:y}=Oe("umh/v1/marketing"),[E,f]=(0,t.useState)([]),[x,v]=(0,t.useState)(!1),[k,N]=(0,t.useState)(null),[w,_]=(0,t.useState)({type:"",category:"",startDate:"",endDate:""});(0,t.useEffect)(()=>{r(),d(),p(),b(),y()},[]);const C={type:"income",date:(new Date).toISOString().split("T")[0],amount:0,category:"pembayaran_paket",jamaah_id:"",employee_id:"",agent_id:"",campaign_id:"",description:""},[S,D]=(0,t.useState)(C),M=[{header:(0,t.createElement)("div",{className:"flex justify-center"},(0,t.createElement)(Te,{size:16})),accessor:"id",render:e=>(0,t.createElement)("div",{className:"flex justify-center cursor-pointer",onClick:()=>{return a=e.id,void f(e=>e.includes(a)?e.filter(e=>e!==a):[...e,a]);var a}},E.includes(e.id)?(0,t.createElement)(Te,{size:18,className:"text-blue-600"}):(0,t.createElement)(pa,{size:18,className:"text-gray-300"}))},{header:"Tanggal",accessor:"date",render:e=>qe(e.date)},{header:"Kategori",accessor:"category",render:e=>(0,t.createElement)("span",{className:"capitalize"},e.category?.replace(/_/g," "))},{header:"Relasi",accessor:"relation",render:e=>e.jamaah_name?(0,t.createElement)("div",{className:"text-xs font-medium text-blue-600"},"Jemaah: ",e.jamaah_name):e.employee_name?(0,t.createElement)("div",{className:"text-xs font-medium text-purple-600"},"Staff: ",e.employee_name):e.agent_name?(0,t.createElement)("div",{className:"text-xs font-medium text-orange-600"},"Agen: ",e.agent_name):e.campaign_name?(0,t.createElement)("div",{className:"text-xs font-medium text-pink-600"},"Iklan: ",e.campaign_name):(0,t.createElement)("span",{className:"text-gray-400"},"-")},{header:"Nominal",accessor:"amount",className:"text-right",render:e=>(0,t.createElement)("span",{className:"font-bold "+("income"===e.type?"text-green-600":"text-red-600")},"income"===e.type?"+":"-"," ",Be(e.amount))},{header:"Bukti",accessor:"proof_file",render:e=>e.proof_file?(0,t.createElement)("a",{href:e.proof_file,target:"_blank",className:"text-blue-500 underline text-xs flex items-center gap-1"},(0,t.createElement)(ma,{size:10})," Lihat"):"-"},{header:"Aksi",accessor:"actions",render:e=>"income"===e.type&&(0,t.createElement)("button",{onClick:()=>(e=>{const a=`${window.umhData.root}umh/v1/print/receipt?ids=${e}&_wpnonce=${window.umhData.nonce}`;window.open(a,"_blank")})(e.id),className:"text-gray-600 hover:text-blue-600",title:"Cetak Kwitansi"},(0,t.createElement)(ga,{size:16}))}];return(0,t.createElement)(Ae,{title:"Keuangan & Kasir"},(0,t.createElement)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 mb-4 flex flex-col md:flex-row justify-between items-center gap-4"},(0,t.createElement)("div",{className:"flex gap-2 items-center w-full md:w-auto overflow-x-auto"},(0,t.createElement)("div",{className:"flex items-center gap-2 border px-3 py-2 rounded-md bg-gray-50"},(0,t.createElement)(ba,{size:16,className:"text-gray-500"}),(0,t.createElement)("select",{className:"bg-transparent text-sm outline-none",onChange:e=>((e,a)=>{const t={...w,[e]:a};_(t),r(1,l.limit,"",t)})("type",e.target.value)},(0,t.createElement)("option",{value:""},"Semua Tipe"),(0,t.createElement)("option",{value:"income"},"Pemasukan"),(0,t.createElement)("option",{value:"expense"},"Pengeluaran"))),E.length>0&&(0,t.createElement)("button",{onClick:()=>{if(0===E.length)return Me.error("Pilih minimal satu transaksi");const e=`${window.umhData.root}umh/v1/print/receipt?ids=${E.join(",")}&_wpnonce=${window.umhData.nonce}`;window.open(e,"_blank")},className:"bg-gray-800 text-white px-3 py-2 rounded text-sm flex items-center gap-2 hover:bg-gray-900 transition shadow-sm"},(0,t.createElement)(ga,{size:14})," Cetak (",E.length,")")),(0,t.createElement)("button",{onClick:()=>{D(C),v(!0)},className:"btn-primary flex gap-2"},(0,t.createElement)(Xe,{size:20})," Transaksi Baru")),(0,t.createElement)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden"},(0,t.createElement)(We,{columns:M,data:e,loading:a,onDelete:n}),(0,t.createElement)(ra,{pagination:l,onPageChange:s,onLimitChange:m})),(0,t.createElement)(Ze,{isOpen:x,onClose:()=>v(!1),title:"Catat Transaksi"},(0,t.createElement)("form",{onSubmit:async e=>{e.preventDefault();const a=Me.loading("Menyimpan transaksi...");try{const e={...S};"pembayaran_paket"!==e.category&&delete e.jamaah_id,"gaji"!==e.category&&delete e.employee_id,"komisi_agen"!==e.category&&delete e.agent_id,"marketing"!==e.category&&delete e.campaign_id;const t=(await i("umh/v1/finance",e)).id;if(k&&t){const e=await c(k,"proof_payment");e.url&&await i(`umh/v1/finance/${t}`,{proof_file:e.url})}Me.success("Transaksi berhasil disimpan!",{id:a}),v(!1),D(C),N(null),r()}catch(e){Me.error("Gagal menyimpan: "+e.message,{id:a})}},className:"space-y-4"},(0,t.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Jenis Transaksi"),(0,t.createElement)("select",{className:"input-field font-medium",value:S.type,onChange:e=>D({...S,type:e.target.value})},(0,t.createElement)("option",{value:"income"},"Pemasukan (In)"),(0,t.createElement)("option",{value:"expense"},"Pengeluaran (Out)"))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Tanggal"),(0,t.createElement)("input",{type:"date",className:"input-field",value:S.date,onChange:e=>D({...S,date:e.target.value}),required:!0}))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Kategori"),(0,t.createElement)("select",{className:"input-field",value:S.category,onChange:e=>D({...S,category:e.target.value})},(0,t.createElement)("option",{value:"pembayaran_paket"},"Pembayaran Paket Jemaah"),(0,t.createElement)("option",{value:"operasional"},"Biaya Operasional"),(0,t.createElement)("option",{value:"gaji"},"Gaji Karyawan"),(0,t.createElement)("option",{value:"marketing"},"Biaya Marketing / Iklan"),(0,t.createElement)("option",{value:"komisi_agen"},"Komisi Agen"),(0,t.createElement)("option",{value:"lainnya"},"Lainnya"))),(0,t.createElement)("div",{className:"bg-gray-50 p-3 rounded border border-gray-200 animate-fade-in"},"pembayaran_paket"===S.category&&(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label text-blue-700"},"Pilih Jemaah"),(0,t.createElement)("select",{className:"input-field",value:S.jamaah_id,onChange:e=>D({...S,jamaah_id:e.target.value}),required:!0},(0,t.createElement)("option",{value:""},"-- Cari Jemaah --"),o?.map(e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.full_name)))),"gaji"===S.category&&(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label text-purple-700"},"Pilih Karyawan"),(0,t.createElement)("select",{className:"input-field",value:S.employee_id,onChange:e=>D({...S,employee_id:e.target.value}),required:!0},(0,t.createElement)("option",{value:""},"-- Cari Karyawan --"),u?.map(e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.name," - ",e.position)))),"komisi_agen"===S.category&&(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label text-orange-700"},"Pilih Agen"),(0,t.createElement)("select",{className:"input-field",value:S.agent_id,onChange:e=>D({...S,agent_id:e.target.value}),required:!0},(0,t.createElement)("option",{value:""},"-- Cari Agen --"),g?.map(e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.name," (",e.city,")")))),"marketing"===S.category&&(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label text-pink-700"},"Pilih Kampanye Iklan"),(0,t.createElement)("select",{className:"input-field",value:S.campaign_id,onChange:e=>D({...S,campaign_id:e.target.value}),required:!0},(0,t.createElement)("option",{value:""},"-- Cari Kampanye --"),h?.map(e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.title," (",e.platform,")")))),["operasional","lainnya"].includes(S.category)&&(0,t.createElement)("p",{className:"text-xs text-gray-500 italic"},"Kategori ini tidak memerlukan relasi data khusus.")),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Nominal (Rp)"),(0,t.createElement)("input",{type:"number",className:"input-field font-bold text-lg",value:S.amount,onChange:e=>D({...S,amount:e.target.value}),required:!0})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Keterangan"),(0,t.createElement)("textarea",{className:"input-field",rows:"2",value:S.description,onChange:e=>D({...S,description:e.target.value}),placeholder:"Catatan tambahan..."})),(0,t.createElement)("div",{className:"border-t pt-3"},(0,t.createElement)("label",{className:"label flex items-center gap-2 text-gray-700"},(0,t.createElement)(ma,{size:16})," Upload Bukti Transfer (Opsional)"),(0,t.createElement)("input",{type:"file",className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 cursor-pointer",onChange:e=>N(e.target.files[0]),accept:"image/*,application/pdf"})),(0,t.createElement)("div",{className:"flex justify-end gap-2 pt-4 border-t"},(0,t.createElement)("button",{type:"button",onClick:()=>v(!1),className:"btn-secondary"},"Batal"),(0,t.createElement)("button",{type:"submit",className:"btn-primary w-32"},"Simpan")))))},ya=()=>{const[e,a]=(0,t.useState)("leads"),l=Oe("umh/v1/marketing/leads"),r=Oe("umh/v1/marketing/campaigns");(0,t.useEffect)(()=>{"leads"===e?l.fetchData():r.fetchData()},[e]);const[n,s]=(0,t.useState)(!1),[i,c]=(0,t.useState)({}),m=[{header:"Nama Calon Jemaah",accessor:"name",className:"font-bold"},{header:"WhatsApp",accessor:"phone",render:e=>(0,t.createElement)("div",{className:"flex items-center gap-1 text-green-600"},(0,t.createElement)(na,{size:14})," ",e.phone)},{header:"Sumber",accessor:"source",render:e=>(0,t.createElement)("span",{className:"badge bg-gray-100"},e.source)},{header:"Status",accessor:"status",render:e=>(0,t.createElement)("span",{className:`badge text-xs uppercase ${{new:"bg-blue-100 text-blue-700",contacted:"bg-yellow-100 text-yellow-700",closed:"bg-green-100 text-green-700"}[e.status]||"bg-gray-100"}`},e.status)},{header:"Follow Up",accessor:"follow_up_date",render:e=>e.follow_up_date||"-"}],o=[{header:"Judul Kampanye",accessor:"title",className:"font-bold"},{header:"Platform",accessor:"platform",render:e=>(0,t.createElement)("span",{className:"uppercase badge bg-purple-50 text-purple-700"},e.platform)},{header:"Budget",accessor:"budget"},{header:"Status",accessor:"status"}];return(0,t.createElement)(Ae,{title:"Marketing & Leads"},(0,t.createElement)("div",{className:"flex space-x-4 border-b border-gray-200 mb-6"},(0,t.createElement)("button",{className:"pb-3 px-4 font-medium text-sm flex items-center gap-2 border-b-2 transition-colors "+("leads"===e?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),onClick:()=>a("leads")},(0,t.createElement)(y,{size:18})," Data Calon Jemaah (Leads)"),(0,t.createElement)("button",{className:"pb-3 px-4 font-medium text-sm flex items-center gap-2 border-b-2 transition-colors "+("campaigns"===e?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),onClick:()=>a("campaigns")},(0,t.createElement)(v,{size:18})," Kampanye Iklan")),(0,t.createElement)("div",{className:"flex justify-end mb-4"},(0,t.createElement)("button",{onClick:()=>{c({}),s(!0)},className:"btn-primary flex items-center gap-2"},(0,t.createElement)(Xe,{size:18})," Tambah ","leads"===e?"Prospek":"Kampanye")),"leads"===e?(0,t.createElement)(We,{columns:m,data:l.data,loading:l.loading,onDelete:l.deleteItem}):(0,t.createElement)(We,{columns:o,data:r.data,loading:r.loading,onDelete:r.deleteItem}),(0,t.createElement)(Ze,{isOpen:n,onClose:()=>s(!1),title:"leads"===e?"Input Calon Jemaah":"Buat Kampanye Baru"},(0,t.createElement)("form",{onSubmit:async a=>{a.preventDefault();const t="leads"===e?l:r;await t.createItem(i)&&s(!1)},className:"space-y-4"},"leads"===e?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Nama Lengkap"),(0,t.createElement)("input",{className:"input-field",onChange:e=>c({...i,name:e.target.value}),required:!0})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"No. WhatsApp"),(0,t.createElement)("input",{className:"input-field",onChange:e=>c({...i,phone:e.target.value}),required:!0})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Sumber Datang"),(0,t.createElement)("select",{className:"input-field",onChange:e=>c({...i,source:e.target.value})},(0,t.createElement)("option",{value:"walk_in"},"Datang Langsung"),(0,t.createElement)("option",{value:"ig"},"Instagram"),(0,t.createElement)("option",{value:"fb"},"Facebook"),(0,t.createElement)("option",{value:"referral"},"Referensi Teman"))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Rencana Follow Up"),(0,t.createElement)("input",{type:"date",className:"input-field",onChange:e=>c({...i,follow_up_date:e.target.value})})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Catatan"),(0,t.createElement)("textarea",{className:"input-field",rows:"2",onChange:e=>c({...i,notes:e.target.value})}))):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Judul Kampanye"),(0,t.createElement)("input",{className:"input-field",onChange:e=>c({...i,title:e.target.value}),required:!0})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Platform"),(0,t.createElement)("input",{className:"input-field",onChange:e=>c({...i,platform:e.target.value}),placeholder:"FB Ads / IG Ads / Spanduk"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Budget"),(0,t.createElement)("input",{type:"number",className:"input-field",onChange:e=>c({...i,budget:e.target.value})}))),(0,t.createElement)("div",{className:"flex justify-end pt-4"},(0,t.createElement)("button",{className:"btn-primary"},"Simpan")))))},Ea=()=>{const{data:e,loading:a,fetchData:l,createItem:r,updateItem:n,deleteItem:s}=Oe("umh/v1/hotels");(0,t.useEffect)(()=>{l()},[l]);const[i,c]=(0,t.useState)(!1),[m,o]=(0,t.useState)("create"),[d,u]=(0,t.useState)(null),[p,g]=(0,t.useState)(!1),[b,h]=(0,t.useState)({name:"",city:"Makkah",rating:"5"}),y=(e,a=null)=>{o(e),u(a);const t=["Makkah","Madinah","Jeddah","Transit"].includes(a?.city||"Makkah");g(!t),h(a||{name:"",city:"Makkah",rating:"5"}),c(!0)};return(0,t.createElement)(Ae,{title:"Master Hotel"},(0,t.createElement)("div",{className:"mb-4 flex justify-end"},(0,t.createElement)("button",{onClick:()=>y("create"),className:"btn-primary flex gap-2"},(0,t.createElement)(Xe,{size:18})," Tambah Hotel")),(0,t.createElement)(We,{columns:[{header:"Nama Hotel",accessor:"name"},{header:"Kota",accessor:"city"},{header:"Bintang",accessor:"rating"}],data:e,loading:a,onEdit:e=>y("edit",e),onDelete:s}),(0,t.createElement)(Ze,{isOpen:i,onClose:()=>c(!1),title:"Data Hotel"},(0,t.createElement)("form",{onSubmit:async e=>{e.preventDefault(),("create"===m?await r(b):await n(d.id,b))&&c(!1)},className:"space-y-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Nama Hotel"),(0,t.createElement)("input",{className:"input-field",value:b.name,onChange:e=>h({...b,name:e.target.value}),required:!0})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Kota Lokasi"),p?(0,t.createElement)("div",{className:"flex gap-2"},(0,t.createElement)("input",{className:"input-field",placeholder:"Ketik Nama Kota Baru...",value:b.city,onChange:e=>h({...b,city:e.target.value}),autoFocus:!0,required:!0}),(0,t.createElement)("button",{type:"button",onClick:()=>{g(!1),h(e=>({...e,city:"Makkah"}))},className:"btn-secondary text-xs"},"Batal")):(0,t.createElement)("select",{className:"input-field",value:b.city,onChange:e=>{"custom"===e.target.value?(g(!0),h(e=>({...e,city:""}))):(g(!1),h(a=>({...a,city:e.target.value})))}},(0,t.createElement)("option",{value:"Makkah"},"Makkah"),(0,t.createElement)("option",{value:"Madinah"},"Madinah"),(0,t.createElement)("option",{value:"Jeddah"},"Jeddah"),(0,t.createElement)("option",{value:"Transit"},"Transit"),(0,t.createElement)("option",{value:"custom",className:"font-bold text-blue-600"},"+ Tambah Kota Baru (Dubai, Turkey, dll)"))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Rating"),(0,t.createElement)("select",{className:"input-field",value:b.rating,onChange:e=>h({...b,rating:e.target.value})},(0,t.createElement)("option",{value:"5"},"5 Bintang"),(0,t.createElement)("option",{value:"4"},"4 Bintang"))),(0,t.createElement)("div",{className:"flex justify-end gap-2"},(0,t.createElement)("button",{type:"button",onClick:()=>c(!1),className:"btn-secondary"},"Batal"),(0,t.createElement)("button",{type:"submit",className:"btn-primary"},"Simpan")))))},fa=p("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),xa=p("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),va=p("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),ka=()=>{const{user:e}=o(),{data:a,loading:l,pagination:r,fetchData:n,createItem:s,updateItem:i,deleteItem:c,changePage:m,changeLimit:d}=Oe("umh/v1/users"),[u,p]=(0,t.useState)(!1),[g,b]=(0,t.useState)(null),[h,y]=(0,t.useState)({}),[E,f]=(0,t.useState)(""),[x,v]=(0,t.useState)("");(0,t.useEffect)(()=>{n()},[n]);const N=(e=null)=>{e?(y({...e,password:""}),b(e.id)):(y({role:"subscriber",status:"active"}),b(null)),f(""),p(!0)},w=[{header:"User Info",accessor:"username",render:e=>(0,t.createElement)("div",{className:"flex items-center gap-3"},(0,t.createElement)("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-600 font-bold text-lg"},e.full_name?e.full_name.charAt(0).toUpperCase():"U"),(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"font-bold text-gray-900"},e.full_name),(0,t.createElement)("div",{className:"text-xs text-gray-500"},"@",e.username)))},{header:"Kontak",accessor:"email",render:e=>(0,t.createElement)("div",{className:"text-sm"},(0,t.createElement)("div",{className:"flex items-center gap-1"},(0,t.createElement)(fa,{size:12,className:"text-gray-400"})," ",e.email),(0,t.createElement)("div",{className:"flex items-center gap-1"},(0,t.createElement)(na,{size:12,className:"text-gray-400"})," ",e.phone||"-"))},{header:"Role",accessor:"role",render:e=>{const a=e.role;let l="bg-gray-100 text-gray-800";return"administrator"===a&&(l="bg-purple-100 text-purple-800"),"agent"===a&&(l="bg-blue-100 text-blue-800"),"editor"===a&&(l="bg-yellow-100 text-yellow-800"),(0,t.createElement)("span",{className:`px-2 py-1 rounded-full text-xs font-semibold capitalize flex w-fit items-center gap-1 ${l}`},"administrator"===a&&(0,t.createElement)(xa,{size:10}),a)}},{header:"Status",accessor:"status",render:e=>(0,t.createElement)("span",{className:"px-2 py-0.5 rounded text-[10px] font-bold uppercase "+("active"===e.status?"bg-green-100 text-green-700":"bg-red-100 text-red-700")},e.status)}];return(0,t.createElement)(Ae,{title:"Manajemen Pengguna"},(0,t.createElement)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 mb-4 flex flex-col md:flex-row justify-between items-center gap-4"},(0,t.createElement)("div",{className:"w-full md:w-1/3"},(0,t.createElement)(ta,{placeholder:"Cari nama, username atau email...",onSearch:e=>{v(e),n(1,r.limit,e)}})),(0,t.createElement)("button",{onClick:()=>N(),className:"btn-primary flex items-center gap-2 shadow-sm hover:shadow-md transition-all"},(0,t.createElement)(k,{size:18})," Tambah User")),(0,t.createElement)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden"},(0,t.createElement)(We,{columns:w,data:a,loading:l,onEdit:N,onDelete:async a=>{if(e&&a.id===e.id)return Me.error("Anda tidak dapat menghapus akun Anda sendiri!");window.confirm(`Apakah Anda yakin ingin menghapus user "${a.username}"?`)&&await c(a.id)}}),(0,t.createElement)(ra,{pagination:r,onPageChange:m,onLimitChange:d})),(0,t.createElement)(Ze,{isOpen:u,onClose:()=>p(!1),title:g?"Edit User":"Tambah User Baru"},(0,t.createElement)("form",{onSubmit:async e=>{if(e.preventDefault(),!g&&h.password!==E)return Me.error("Password dan Konfirmasi Password tidak sama!");if(g&&h.password&&h.password!==E)return Me.error("Password baru dan konfirmasi tidak sama!");const a={...h};g&&!a.password&&delete a.password,(g?await i(g,a):await s(a))&&(p(!1),f(""),Me.success(g?"User berhasil diperbarui":"User baru berhasil dibuat"))},className:"space-y-5"},(0,t.createElement)("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-100"},(0,t.createElement)("h4",{className:"text-sm font-bold text-blue-800 mb-3 flex items-center gap-2"},(0,t.createElement)(va,{size:14})," Informasi Login"),(0,t.createElement)("div",{className:"grid grid-cols-2 gap-3"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Username"),(0,t.createElement)("input",{className:"input-field "+(g?"bg-gray-100":""),value:h.username||"",onChange:e=>y({...h,username:e.target.value}),required:!0,disabled:!!g,placeholder:"johndoe"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Email"),(0,t.createElement)("input",{type:"email",className:"input-field",value:h.email||"",onChange:e=>y({...h,email:e.target.value}),required:!0,placeholder:"user@email.com"})))),(0,t.createElement)("div",null,(0,t.createElement)("h4",{className:"text-sm font-bold text-gray-700 mb-2 flex items-center gap-2"},(0,t.createElement)(ia,{size:14})," Profil Pengguna"),(0,t.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,t.createElement)("div",{className:"md:col-span-2"},(0,t.createElement)("label",{className:"label"},"Nama Lengkap"),(0,t.createElement)("input",{className:"input-field",value:h.full_name||"",onChange:e=>y({...h,full_name:e.target.value}),required:!0,placeholder:"Nama Lengkap User"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"No. Telepon"),(0,t.createElement)("input",{className:"input-field",value:h.phone||"",onChange:e=>y({...h,phone:e.target.value}),placeholder:"0812..."})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Role / Peran"),(0,t.createElement)("select",{className:"input-field capitalize",value:h.role||"subscriber",onChange:e=>y({...h,role:e.target.value})},(0,t.createElement)("option",{value:"subscriber"},"Subscriber (Jemaah)"),(0,t.createElement)("option",{value:"administrator"},"Administrator (Full)"),(0,t.createElement)("option",{value:"admin_staff"},"Admin Staff"),(0,t.createElement)("option",{value:"finance_staff"},"Finance Staff"),(0,t.createElement)("option",{value:"marketing_staff"},"Marketing Staff"),(0,t.createElement)("option",{value:"agent"},"Agent (Mitra)"))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Status Akun"),(0,t.createElement)("select",{className:"input-field",value:h.status||"active",onChange:e=>y({...h,status:e.target.value})},(0,t.createElement)("option",{value:"active"},"Aktif"),(0,t.createElement)("option",{value:"inactive"},"Non-Aktif / Blokir"))))),(0,t.createElement)("div",{className:"border-t pt-4 mt-2"},(0,t.createElement)("div",{className:"flex items-center justify-between mb-2"},(0,t.createElement)("h4",{className:"text-sm font-bold text-gray-700 flex items-center gap-2"},(0,t.createElement)(xa,{size:14})," ",g?"Ubah Password (Opsional)":"Buat Password")),g&&(0,t.createElement)("div",{className:"text-xs text-yellow-600 bg-yellow-50 p-2 rounded mb-2"},"Kosongkan jika tidak ingin mengubah password."),(0,t.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Password"),(0,t.createElement)("input",{type:"password",className:"input-field",value:h.password||"",onChange:e=>y({...h,password:e.target.value}),placeholder:"********",required:!g,minLength:6})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Konfirmasi"),(0,t.createElement)("input",{type:"password",className:"input-field "+(E&&h.password!==E?"border-red-500":""),value:E,onChange:e=>f(e.target.value),placeholder:"********",required:!g||h.password})))),(0,t.createElement)("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4"},(0,t.createElement)("button",{type:"button",onClick:()=>p(!1),className:"btn-secondary"},"Batal"),(0,t.createElement)("button",{type:"submit",className:"btn-primary w-32",disabled:!(g||h.password&&h.password===E)},"Simpan")))))},Na=p("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),wa=p("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),_a=p("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Ca=p("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Sa=()=>{const[e,a]=(0,t.useState)({company_name:"Travel Umroh Berkah",currency_symbol:"Rp",currency_code:"IDR",email_notifications:!0,whatsapp_notifications:!0,default_departure_city:"Jakarta",maintenance_mode:!1}),l=(e,t)=>{a(a=>({...a,[e]:t}))};return(0,t.createElement)(Ae,{title:"Pengaturan Sistem"},(0,t.createElement)("div",{className:"max-w-4xl mx-auto"},(0,t.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-6"},(0,t.createElement)("div",{className:"p-4 border-b border-gray-100 bg-gray-50 flex items-center gap-2"},(0,t.createElement)(Na,{className:"text-blue-600",size:20}),(0,t.createElement)("h3",{className:"font-bold text-gray-800"},"Umum")),(0,t.createElement)("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Nama Perusahaan Travel"),(0,t.createElement)("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",value:e.company_name,onChange:e=>l("company_name",e.target.value)}),(0,t.createElement)("p",{className:"text-xs text-gray-400 mt-1"},"Akan muncul di invoice dan header laporan.")),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Kota Keberangkatan Default"),(0,t.createElement)("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",value:e.default_departure_city,onChange:e=>l("default_departure_city",e.target.value)})))),(0,t.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-6"},(0,t.createElement)("div",{className:"p-4 border-b border-gray-100 bg-gray-50 flex items-center gap-2"},(0,t.createElement)(Ke,{className:"text-green-600",size:20}),(0,t.createElement)("h3",{className:"font-bold text-gray-800"},"Keuangan")),(0,t.createElement)("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Simbol Mata Uang"),(0,t.createElement)("input",{type:"text",className:"w-24 px-3 py-2 border rounded-md",value:e.currency_symbol,onChange:e=>l("currency_symbol",e.target.value)})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Kode Mata Uang (ISO)"),(0,t.createElement)("input",{type:"text",className:"w-24 px-3 py-2 border rounded-md",value:e.currency_code,onChange:e=>l("currency_code",e.target.value)})))),(0,t.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-6"},(0,t.createElement)("div",{className:"p-4 border-b border-gray-100 bg-gray-50 flex items-center gap-2"},(0,t.createElement)(wa,{className:"text-orange-600",size:20}),(0,t.createElement)("h3",{className:"font-bold text-gray-800"},"Notifikasi")),(0,t.createElement)("div",{className:"p-6 space-y-4"},(0,t.createElement)("div",{className:"flex items-center justify-between"},(0,t.createElement)("div",null,(0,t.createElement)("h4",{className:"font-semibold text-gray-700"},"Notifikasi Email"),(0,t.createElement)("p",{className:"text-xs text-gray-500"},"Kirim email saat ada pendaftaran jamaah baru.")),(0,t.createElement)("label",{className:"relative inline-flex items-center cursor-pointer"},(0,t.createElement)("input",{type:"checkbox",className:"sr-only peer",checked:e.email_notifications,onChange:e=>l("email_notifications",e.target.checked)}),(0,t.createElement)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"}))),(0,t.createElement)("hr",null),(0,t.createElement)("div",{className:"flex items-center justify-between"},(0,t.createElement)("div",null,(0,t.createElement)("h4",{className:"font-semibold text-gray-700 flex items-center gap-2"},(0,t.createElement)(_a,{size:14})," Notifikasi WhatsApp"),(0,t.createElement)("p",{className:"text-xs text-gray-500"},"Integrasi WA Gateway untuk notifikasi tagihan.")),(0,t.createElement)("label",{className:"relative inline-flex items-center cursor-pointer"},(0,t.createElement)("input",{type:"checkbox",className:"sr-only peer",checked:e.whatsapp_notifications,onChange:e=>l("whatsapp_notifications",e.target.checked)}),(0,t.createElement)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"}))))),(0,t.createElement)("div",{className:"flex justify-end pb-10"},(0,t.createElement)("button",{onClick:()=>{se.success("Pengaturan berhasil disimpan!")},className:"bg-blue-600 text-white px-6 py-3 rounded-lg shadow-lg hover:bg-blue-700 flex items-center gap-2 transform hover:-translate-y-1 transition-all"},(0,t.createElement)(Ca,{size:20})," Simpan Semua Pengaturan"))))},Da=p("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Ma=p("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Pa=p("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),ja=()=>{const{user:e}=o(),{data:a,loading:l,createItem:r,updateItem:n,deleteItem:s}=Oe("tasks"),{data:i,fetchData:c}=Oe("hr");(0,t.useEffect)(()=>{c()},[]);const[m,d]=(0,t.useState)(!1),[u,p]=(0,t.useState)("create"),[g,b]=(0,t.useState)(null),[h,y]=(0,t.useState)({}),E=(e,a=null)=>{p(e),b(a),y(a||{title:"",assigned_to:"",due_date:"",status:"pending",priority:"medium"}),d(!0)},f=[{header:"Judul Tugas",accessor:"title",sortable:!0},{header:"Ditugaskan Ke",accessor:"assigned_to",render:e=>(e=>{if(!i||0===i.length)return(0,t.createElement)("span",{className:"text-gray-400 text-xs"},"Memuat...");const a=i.find(a=>String(a.user_id)===String(e)||String(a.id)===String(e));return a?(0,t.createElement)("span",{className:"font-medium text-blue-700"},a.name):(0,t.createElement)("span",{className:"text-gray-500 italic text-xs"},"ID: ",e," (Tidak ditemukan)")})(e.assigned_to)},{header:"Tenggat",accessor:"due_date",render:e=>(0,t.createElement)("div",{className:"text-sm "+(new Date(e.due_date)<new Date&&"completed"!==e.status?"text-red-600 font-bold flex items-center gap-1":"text-gray-600")},new Date(e.due_date)<new Date&&"completed"!==e.status&&(0,t.createElement)(Da,{size:12}),qe(e.due_date))},{header:"Prioritas",accessor:"priority",render:e=>(0,t.createElement)("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase border ${{high:"text-red-600 bg-red-50 border-red-200",medium:"text-yellow-600 bg-yellow-50 border-yellow-200",low:"text-green-600 bg-green-50 border-green-200"}[e.priority]||"text-gray-600"}`},e.priority)},{header:"Status",accessor:"status",render:e=>(0,t.createElement)("span",{className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium ${{pending:"text-gray-500 bg-gray-100",in_progress:"text-blue-600 bg-blue-100",completed:"text-green-600 bg-green-100"}[e.status]||""}`},"completed"===e.status?(0,t.createElement)(Ma,{size:14}):(0,t.createElement)(Pa,{size:14}),"in_progress"===e.status?"Sedang Dikerjakan":e.status)}];return(0,t.createElement)(Ae,{title:"Manajemen Tugas Tim"},(0,t.createElement)("div",{className:"flex justify-end mb-4"},(0,t.createElement)("button",{onClick:()=>E("create"),className:"bg-blue-600 text-white px-4 py-2 rounded flex items-center gap-2 hover:bg-blue-700 shadow-sm transition-colors"},(0,t.createElement)(Xe,{size:18})," Buat Tugas Baru")),(0,t.createElement)(We,{columns:f,data:a,loading:l,onEdit:e=>E("edit",e),onDelete:async e=>{window.confirm("Apakah Anda yakin ingin menghapus tugas ini?")&&await s(e)&&Me.success("Tugas dihapus.")},userCapabilities:e?.role}),(0,t.createElement)(Ze,{isOpen:m,onClose:()=>d(!1),title:"create"===u?"Tugas Baru":"Edit Tugas"},(0,t.createElement)("form",{onSubmit:async e=>{e.preventDefault(),("create"===u?await r(h):await n(g.id,h))?(d(!1),Me.success("create"===u?"Tugas baru berhasil dibuat!":"Tugas berhasil diperbarui!")):Me.error("Gagal menyimpan tugas. Silakan coba lagi.")},className:"space-y-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Judul Tugas"),(0,t.createElement)("input",{type:"text",className:"w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500 transition-shadow",value:h.title||"",onChange:e=>y({...h,title:e.target.value}),required:!0,placeholder:"Contoh: Follow up jamaah keberangkatan Oktober"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Ditugaskan Kepada (Tim)"),(0,t.createElement)("select",{className:"w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500 bg-white",value:h.assigned_to||"",onChange:e=>y({...h,assigned_to:e.target.value}),required:!0},(0,t.createElement)("option",{value:""},"-- Pilih Karyawan --"),i&&i.map(e=>(0,t.createElement)("option",{key:e.id,value:e.user_id||e.id},e.name," - ",e.position||"Staff"))),(0,t.createElement)("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1"},(0,t.createElement)(Da,{size:12})," Pastikan karyawan sudah ditautkan dengan Akun User di menu HR agar notifikasi masuk.")),(0,t.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Tenggat Waktu"),(0,t.createElement)("input",{type:"date",className:"w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500",value:h.due_date||"",onChange:e=>y({...h,due_date:e.target.value})})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Prioritas"),(0,t.createElement)("select",{className:"w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500",value:h.priority||"medium",onChange:e=>y({...h,priority:e.target.value})},(0,t.createElement)("option",{value:"low"},"Rendah"),(0,t.createElement)("option",{value:"medium"},"Sedang"),(0,t.createElement)("option",{value:"high"},"Tinggi (Urgent)")))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Status"),(0,t.createElement)("select",{className:"w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500",value:h.status||"pending",onChange:e=>y({...h,status:e.target.value})},(0,t.createElement)("option",{value:"pending"},"Pending (Belum Mulai)"),(0,t.createElement)("option",{value:"in_progress"},"Sedang Dikerjakan"),(0,t.createElement)("option",{value:"completed"},"Selesai"))),(0,t.createElement)("div",{className:"flex justify-end gap-2 pt-4"},(0,t.createElement)("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded hover:bg-gray-200"},"Batal"),(0,t.createElement)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 shadow-sm"},"create"===u?"Buat Tugas":"Simpan Perubahan")))))},za=()=>{const{user:e}=o(),{data:a,loading:l,pagination:r,fetchData:n,createItem:s,updateItem:i,deleteItem:c,changePage:m,changeLimit:d}=Oe("umh/v1/hr");(0,t.useEffect)(()=>{n()},[n]);const[u,p]=(0,t.useState)(!1),[g,b]=(0,t.useState)({}),[h,E]=(0,t.useState)(!1),[f,x]=(0,t.useState)(""),v=(0,t.useMemo)(()=>a?{total:r?.total_items||a.length,active:a.filter(e=>"active"===e.status).length,expense:a.reduce((e,a)=>e+(parseFloat(a.salary)||0),0)}:{total:0,active:0,expense:0},[a,r]),N=(e=null)=>{e?(b(e),E(!0)):(b({status:"active",joined_date:(new Date).toISOString().split("T")[0]}),E(!1)),p(!0)},w=[{header:"Nama Karyawan",accessor:"name",render:e=>(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"font-bold text-gray-900"},e.name),(0,t.createElement)("div",{className:"text-xs text-gray-500"},e.email))},{header:"Posisi & Kontak",accessor:"position",render:e=>(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"text-sm font-medium"},e.position||"-"),(0,t.createElement)("div",{className:"text-xs text-gray-500"},e.phone||"-"))},{header:"Gaji Pokok",accessor:"salary",className:"text-right",render:e=>Be(e.salary)},{header:"Bergabung",accessor:"joined_date",render:e=>qe(e.joined_date)},{header:"Status",accessor:"status",render:e=>(0,t.createElement)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold "+("active"===e.status?"bg-green-100 text-green-700":"bg-red-100 text-red-700")},"active"===e.status?"Aktif":"Tidak Aktif")}],_=({icon:e,label:a,value:l,color:r})=>(0,t.createElement)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 flex items-center gap-4"},(0,t.createElement)("div",{className:`p-3 rounded-full ${r}`},(0,t.createElement)(e,{size:24,className:"text-white"})),(0,t.createElement)("div",null,(0,t.createElement)("p",{className:"text-sm text-gray-500"},a),(0,t.createElement)("h3",{className:"text-xl font-bold text-gray-800"},l)));return(0,t.createElement)(Ae,{title:"Manajemen SDM (HR)"},(0,t.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},(0,t.createElement)(_,{icon:y,label:"Total Karyawan",value:v.total,color:"bg-blue-500"}),(0,t.createElement)(_,{icon:k,label:"Karyawan Aktif",value:v.active,color:"bg-green-500"}),(0,t.createElement)(_,{icon:Ke,label:"Est. Gaji Bulanan",value:Be(v.expense),color:"bg-purple-500"})),(0,t.createElement)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 mb-4 flex flex-col md:flex-row justify-between items-center gap-4"},(0,t.createElement)("div",{className:"w-full md:w-1/3"},(0,t.createElement)(ta,{placeholder:"Cari nama atau posisi...",onSearch:e=>{x(e),n(1,r.limit,e)}})),(0,t.createElement)("button",{onClick:()=>N(),className:"btn-primary flex items-center gap-2"},(0,t.createElement)(Xe,{size:18})," Tambah Karyawan")),(0,t.createElement)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden"},(0,t.createElement)(We,{columns:w,data:a,loading:l,onEdit:N,onDelete:a=>(async a=>{if("administrator"!==e.role&&"owner"!==e.role)return Me.error("Hanya Admin/Owner yang bisa menghapus karyawan.");window.confirm("Yakin hapus data karyawan ini? Tindakan ini tidak bisa dibatalkan.")&&await c(a)})(a.id)}),(0,t.createElement)(ra,{pagination:r,onPageChange:m,onLimitChange:d})),(0,t.createElement)(Ze,{isOpen:u,onClose:()=>p(!1),title:h?"Edit Data Karyawan":"Tambah Karyawan Baru"},(0,t.createElement)("form",{onSubmit:async e=>{e.preventDefault(),(h?await i(g.id,g):await s(g))&&(p(!1),Me.success(h?"Data karyawan diperbarui":"Karyawan baru ditambahkan"),n())},className:"space-y-4"},(0,t.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,t.createElement)("div",{className:"col-span-1 md:col-span-2"},(0,t.createElement)("label",{className:"label"},"Nama Lengkap"),(0,t.createElement)("input",{className:"input-field",value:g.name||"",onChange:e=>b({...g,name:e.target.value}),placeholder:"Contoh: Ahmad Fauzi",required:!0})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Email"),(0,t.createElement)("input",{type:"email",className:"input-field",value:g.email||"",onChange:e=>b({...g,email:e.target.value}),placeholder:"email@perusahaan.com"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"No. Telepon / WA"),(0,t.createElement)("input",{className:"input-field",value:g.phone||"",onChange:e=>b({...g,phone:e.target.value}),placeholder:"0812..."})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Posisi / Jabatan"),(0,t.createElement)("input",{className:"input-field",value:g.position||"",onChange:e=>b({...g,position:e.target.value}),placeholder:"Contoh: Staff Keuangan"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Tanggal Bergabung"),(0,t.createElement)("input",{type:"date",className:"input-field",value:g.joined_date||"",onChange:e=>b({...g,joined_date:e.target.value})})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Gaji Pokok (Rp)"),(0,t.createElement)("input",{type:"number",className:"input-field",value:g.salary||"",onChange:e=>b({...g,salary:e.target.value}),placeholder:"0"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Status Kepegawaian"),(0,t.createElement)("select",{className:"input-field",value:g.status||"active",onChange:e=>b({...g,status:e.target.value})},(0,t.createElement)("option",{value:"active"},"Aktif"),(0,t.createElement)("option",{value:"inactive"},"Tidak Aktif / Resign"),(0,t.createElement)("option",{value:"probation"},"Masa Percobaan"),(0,t.createElement)("option",{value:"leave"},"Cuti")))),(0,t.createElement)("div",{className:"flex justify-end gap-2 mt-6 pt-4 border-t border-gray-100"},(0,t.createElement)("button",{type:"button",onClick:()=>p(!1),className:"btn-secondary"},"Batal"),(0,t.createElement)("button",{type:"submit",className:"btn-primary w-32"},"Simpan")))))},Aa=p("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),Ka=[{key:"koper",label:"Koper Besar"},{key:"koper_kabin",label:"Koper Kabin"},{key:"tas_paspor",label:"Tas Paspor"},{key:"kain_ihram",label:"Kain Ihram (Pria)"},{key:"mukena",label:"Mukena (Wanita)"},{key:"bahan_batik",label:"Bahan Batik"},{key:"buku_doa",label:"Buku Doa"},{key:"syal",label:"Syal Identitas"}],Ta=()=>{const{user:e}=o(),{data:a,loading:l,updateItem:r}=Oe("umh/v1/logistics"),[n,s]=(0,t.useState)(!1),[i,c]=(0,t.useState)(null),[m,d]=(0,t.useState)({}),u=[{header:"Nama Jamaah",accessor:"jamaah_name",sortable:!0,render:e=>(0,t.createElement)("div",null,(0,t.createElement)("span",{className:"font-bold text-gray-800"},e.jamaah_name),(0,t.createElement)("div",{className:"text-xs text-gray-500"},"ID: ",e.registration_number||"-"))},{header:"Paket",accessor:"package_name"},{header:"Alamat Pengiriman",accessor:"shipping_address",render:e=>e.shipping_address||(0,t.createElement)("span",{className:"text-gray-400 italic"},"Sama dengan alamat KTP")},{header:"Perlengkapan",accessor:"items_status",render:e=>{const a=e.items_status||{},l=Object.values(a).filter(Boolean).length,r=Ka.length,n=Math.round(l/r*100);return(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"flex justify-between text-xs mb-1"},(0,t.createElement)("span",null,l,"/",r," Item"),(0,t.createElement)("span",{className:"font-bold"},n,"%")),(0,t.createElement)("div",{className:"w-full bg-gray-200 rounded-full h-1.5"},(0,t.createElement)("div",{className:"bg-blue-600 h-1.5 rounded-full",style:{width:`${n}%`}})))}},{header:"Status Pengambilan",accessor:"handover_status",render:e=>(0,t.createElement)("span",{className:"px-2 py-1 rounded-full text-xs flex items-center gap-1 w-fit "+("taken"===e.handover_status?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700")},"taken"===e.handover_status?(0,t.createElement)(Ma,{size:12}):(0,t.createElement)(Pa,{size:12}),"taken"===e.handover_status?"Sudah Diambil":"Belum Lengkap")},{header:"Diambil Oleh",accessor:"taken_by",render:e=>e.taken_by||"-"}];return(0,t.createElement)(Ae,{title:"Logistik & Perlengkapan"},(0,t.createElement)("div",{className:"mb-4 bg-white p-4 rounded shadow-sm border border-blue-100 flex items-center justify-between"},(0,t.createElement)("div",null,(0,t.createElement)("h2",{className:"font-bold text-gray-800"},"Distribusi Perlengkapan"),(0,t.createElement)("p",{className:"text-sm text-gray-500"},"Kelola serah terima koper, kain ihram, dan perlengkapan jamaah.")),(0,t.createElement)("div",{className:"bg-blue-50 p-2 rounded-full text-blue-600"},(0,t.createElement)(Aa,{size:24}))),(0,t.createElement)(We,{columns:u,data:a,loading:l,renderRowActions:e=>(0,t.createElement)("button",{onClick:()=>{return c(a=e),d({handover_status:a.handover_status||"pending",taken_by:a.taken_by||"",date_taken:a.date_taken||(new Date).toISOString().split("T")[0],items_status:a.items_status||{}}),void s(!0);var a},className:"text-xs bg-blue-600 text-white px-2 py-1 rounded hover:bg-blue-700 transition"},"Update Serah Terima"),userCapabilities:e?.role,editCapability:"manage_options"}),(0,t.createElement)(Ze,{isOpen:n,onClose:()=>s(!1),title:`Serah Terima: ${i?.jamaah_name||"Jamaah"}`},(0,t.createElement)("form",{onSubmit:async e=>{e.preventDefault();const a=Ka.every(e=>m.items_status?.[e.key])?"taken":m.handover_status;await r(i.id,{...m,handover_status:a}),s(!1)},className:"space-y-4"},(0,t.createElement)("div",{className:"bg-gray-50 p-4 rounded border"},(0,t.createElement)("label",{className:"block text-sm font-bold text-gray-700 mb-3 border-b pb-2"},"Checklist Kelengkapan"),(0,t.createElement)("div",{className:"grid grid-cols-2 gap-2"},Ka.map(e=>(0,t.createElement)("label",{key:e.key,className:"flex items-center gap-2 cursor-pointer hover:bg-white p-1 rounded transition"},(0,t.createElement)("input",{type:"checkbox",checked:m.items_status?.[e.key]||!1,onChange:()=>{return a=e.key,void d(e=>({...e,items_status:{...e.items_status,[a]:!e.items_status?.[a]}}));var a},className:"rounded text-blue-600 focus:ring-blue-500 w-4 h-4"}),(0,t.createElement)("span",{className:"text-sm text-gray-700"},e.label))))),(0,t.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Status Pengambilan"),(0,t.createElement)("select",{className:"mt-1 w-full border rounded p-2",value:m.handover_status,onChange:e=>d({...m,handover_status:e.target.value})},(0,t.createElement)("option",{value:"pending"},"Belum Lengkap"),(0,t.createElement)("option",{value:"taken"},"Sudah Diambil Lengkap"),(0,t.createElement)("option",{value:"shipped"},"Dikirim Ekspedisi"))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Tanggal"),(0,t.createElement)("input",{type:"date",className:"mt-1 w-full border rounded p-2",value:m.date_taken,onChange:e=>d({...m,date_taken:e.target.value})}))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Diambil Oleh / Penerima"),(0,t.createElement)("input",{type:"text",className:"mt-1 w-full border rounded p-2",placeholder:"Nama penerima atau agen...",value:m.taken_by,onChange:e=>d({...m,taken_by:e.target.value})})),(0,t.createElement)("div",{className:"flex justify-end gap-2 pt-4 border-t"},(0,t.createElement)("button",{type:"button",onClick:()=>s(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded"},"Batal"),(0,t.createElement)("button",{type:"submit",className:"px-4 py-2 text-white bg-blue-600 rounded hover:bg-blue-700"},"Simpan Status")))))},Ia=()=>{const{data:e,loading:a,pagination:l,fetchData:r,createItem:n,updateItem:s,deleteItem:i,changePage:c,changeLimit:m}=Oe("umh/v1/agents"),[o,d]=(0,t.useState)(!1),[u,p]=(0,t.useState)("create"),[g,b]=(0,t.useState)(null),[h,y]=(0,t.useState)(""),E=e?e.filter(e=>"master"===e.type):[],f={name:"",phone:"",email:"",city:"",address:"",type:"master",parent_id:"",commission_nominal:0,bank_name:"",bank_account:""},[x,v]=(0,t.useState)(f);(0,t.useEffect)(()=>{r()},[r]);const k=(e,a=null)=>{p(e),b(a),v(a||f),d(!0)},N=[{header:"Nama Agen",accessor:"name",render:e=>(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"font-bold text-gray-900"},e.name),(0,t.createElement)("div",{className:"text-xs text-gray-500"},e.code||"-"))},{header:"Tipe",accessor:"type",render:e=>(0,t.createElement)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold uppercase "+("master"===e.type?"bg-purple-100 text-purple-800":"bg-blue-50 text-blue-600")},"master"===e.type?"Master Agen":"Sub Agen")},{header:"Kontak",accessor:"phone",render:e=>(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"text-sm"},e.phone),(0,t.createElement)("div",{className:"text-xs text-gray-500"},e.email))},{header:"Domisili",accessor:"city"},{header:"Komisi",accessor:"commission_nominal",render:e=>(0,t.createElement)("span",{className:"font-medium text-green-600"},Be(e.commission_nominal))}];return(0,t.createElement)(Ae,{title:"Agen & Kemitraan"},(0,t.createElement)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 mb-4 flex flex-col md:flex-row justify-between items-center gap-4"},(0,t.createElement)("div",{className:"w-full md:w-1/3"},(0,t.createElement)(ta,{placeholder:"Cari nama, kode, atau kota...",onSearch:e=>{y(e),r(1,l.limit,e)}})),(0,t.createElement)("button",{onClick:()=>k("create"),className:"btn-primary flex items-center gap-2"},(0,t.createElement)(Xe,{size:18})," Tambah Agen Baru")),(0,t.createElement)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden"},(0,t.createElement)(We,{columns:N,data:e,loading:a,onEdit:e=>k("edit",e),onDelete:i}),(0,t.createElement)(ra,{pagination:l,onPageChange:c,onLimitChange:m})),(0,t.createElement)(Ze,{isOpen:o,onClose:()=>d(!1),title:"create"===u?"Tambah Agen Baru":"Edit Data Agen"},(0,t.createElement)("form",{onSubmit:async e=>{e.preventDefault();const a={...x,parent_id:"master"===x.type?null:x.parent_id};("create"===u?await n(a):await s(g.id,a))&&d(!1)},className:"space-y-4"},(0,t.createElement)("div",{className:"bg-gray-50 p-2 rounded border-b mb-2"},(0,t.createElement)("h4",{className:"font-bold text-sm text-gray-700"},"Identitas & Kontak")),(0,t.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,t.createElement)("div",{className:"md:col-span-2"},(0,t.createElement)("label",{className:"label"},"Nama Lengkap"),(0,t.createElement)("input",{className:"input-field",value:x.name||"",onChange:e=>v({...x,name:e.target.value}),required:!0,placeholder:"Nama Agen / Travel"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"No. HP / WA"),(0,t.createElement)("input",{className:"input-field",value:x.phone||"",onChange:e=>v({...x,phone:e.target.value}),required:!0,placeholder:"08..."})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Email"),(0,t.createElement)("input",{type:"email",className:"input-field",value:x.email||"",onChange:e=>v({...x,email:e.target.value}),placeholder:"email@contoh.com"}))),(0,t.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Kota Domisili"),(0,t.createElement)("input",{className:"input-field",value:x.city||"",onChange:e=>v({...x,city:e.target.value}),placeholder:"Nama Kota"})),(0,t.createElement)("div",{className:"md:col-span-2"},(0,t.createElement)("label",{className:"label"},"Alamat Lengkap"),(0,t.createElement)("textarea",{className:"input-field",rows:"2",value:x.address||"",onChange:e=>v({...x,address:e.target.value}),placeholder:"Alamat lengkap kantor/rumah..."}))),(0,t.createElement)("div",{className:"bg-gray-50 p-2 rounded border-b mt-4 mb-2"},(0,t.createElement)("h4",{className:"font-bold text-sm text-gray-700"},"Status Kemitraan")),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Tipe Kemitraan"),(0,t.createElement)("div",{className:"flex gap-4 mb-2"},(0,t.createElement)("label",{className:"flex items-center gap-2 cursor-pointer p-2 border rounded hover:bg-gray-50"},(0,t.createElement)("input",{type:"radio",name:"type",value:"master",checked:"master"===x.type,onChange:e=>v({...x,type:e.target.value})}),(0,t.createElement)("span",{className:"text-sm font-medium"},"Master Agen (Pusat)")),(0,t.createElement)("label",{className:"flex items-center gap-2 cursor-pointer p-2 border rounded hover:bg-gray-50"},(0,t.createElement)("input",{type:"radio",name:"type",value:"sub",checked:"sub"===x.type,onChange:e=>v({...x,type:e.target.value})}),(0,t.createElement)("span",{className:"text-sm font-medium"},"Sub Agen (Bawahan)")))),"sub"===x.type&&(0,t.createElement)("div",{className:"bg-yellow-50 p-3 rounded border border-yellow-200 animate-fade-in"},(0,t.createElement)("label",{className:"label text-yellow-800"},"Induk Agen (Upline)"),(0,t.createElement)("select",{className:"input-field",value:x.parent_id||"",onChange:e=>v({...x,parent_id:e.target.value}),required:!0},(0,t.createElement)("option",{value:""},"-- Pilih Master Agen --"),E.map(e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.name," - ",e.city)))),(0,t.createElement)("div",{className:"bg-gray-50 p-2 rounded border-b mt-4 mb-2"},(0,t.createElement)("h4",{className:"font-bold text-sm text-gray-700"},"Keuangan")),(0,t.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Komisi per Jemaah (Rp)"),(0,t.createElement)("div",{className:"relative"},(0,t.createElement)("span",{className:"absolute left-3 top-2 text-gray-500 text-sm font-bold"},"Rp"),(0,t.createElement)("input",{type:"number",className:"input-field pl-10 font-bold text-gray-800",value:x.commission_nominal||0,onChange:e=>v({...x,commission_nominal:e.target.value}),placeholder:"0"}))),(0,t.createElement)("div",{className:"hidden md:block"})," ",(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Nama Bank"),(0,t.createElement)("input",{className:"input-field",value:x.bank_name||"",onChange:e=>v({...x,bank_name:e.target.value}),placeholder:"BCA / Mandiri / BSI"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"No. Rekening"),(0,t.createElement)("input",{className:"input-field font-mono",value:x.bank_account||"",onChange:e=>v({...x,bank_account:e.target.value}),placeholder:"1234xxxxxx"}))),(0,t.createElement)("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4"},(0,t.createElement)("button",{type:"button",onClick:()=>d(!1),className:"btn-secondary"},"Batal"),(0,t.createElement)("button",{type:"submit",className:"btn-primary w-32"},"Simpan")))))},Ba=p("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),qa=()=>{const{data:e,loading:a,fetchData:l,createItem:r,updateItem:n,deleteItem:s}=Oe("umh/v1/flights"),[i,c]=(0,t.useState)(!1),[m,o]=(0,t.useState)("create"),[d,u]=(0,t.useState)(null),[p,g]=(0,t.useState)({name:"",code:"",origin:"Jakarta (CGK)",destination:"Jeddah (JED)",transit:"",contact_info:""});(0,t.useEffect)(()=>{l()},[l]);const b=(e,a=null)=>{o(e),u(a),g(a||{name:"",code:"",origin:"Jakarta (CGK)",destination:"Jeddah (JED)",transit:"",contact_info:""}),c(!0)},h=[{header:"Maskapai",accessor:"name",render:e=>(0,t.createElement)("div",{className:"font-bold flex gap-2"},(0,t.createElement)(S,{size:16})," ",e.name)},{header:"Kode",accessor:"code"},{header:"Rute Default",accessor:"origin",render:e=>(0,t.createElement)("span",{className:"text-xs flex items-center gap-1"},e.origin,(0,t.createElement)(Ba,{size:10}),e.transit&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)("span",{className:"text-orange-600 font-semibold"},e.transit)," ",(0,t.createElement)(Ba,{size:10})," "),e.destination)},{header:"Kontak",accessor:"contact_info"}];return(0,t.createElement)(Ae,{title:"Master Maskapai"},(0,t.createElement)("div",{className:"flex justify-end mb-4"},(0,t.createElement)("button",{onClick:()=>b("create"),className:"btn-primary flex gap-2"},(0,t.createElement)(Xe,{size:18})," Tambah Maskapai")),(0,t.createElement)(We,{columns:h,data:e,loading:a,onEdit:e=>b("edit",e),onDelete:s}),(0,t.createElement)(Ze,{isOpen:i,onClose:()=>c(!1),title:"Data Maskapai"},(0,t.createElement)("form",{onSubmit:async e=>{e.preventDefault(),("create"===m?await r(p):await n(d.id,p))&&(c(!1),l())},className:"space-y-4"},(0,t.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Nama Maskapai"),(0,t.createElement)("input",{className:"input-field",value:p.name,onChange:e=>g({...p,name:e.target.value}),required:!0,placeholder:"Garuda Indonesia"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Kode Penerbangan"),(0,t.createElement)("input",{className:"input-field",value:p.code,onChange:e=>g({...p,code:e.target.value}),placeholder:"GA"}))),(0,t.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Asal (Origin)"),(0,t.createElement)("input",{className:"input-field",value:p.origin,onChange:e=>g({...p,origin:e.target.value})})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Tujuan (Dest)"),(0,t.createElement)("input",{className:"input-field",value:p.destination,onChange:e=>g({...p,destination:e.target.value})}))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Transit (Opsional)"),(0,t.createElement)("input",{className:"input-field",value:p.transit,onChange:e=>g({...p,transit:e.target.value}),placeholder:"Contoh: Dubai (DXB) atau Kuala Lumpur (KUL)"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Info Kontak"),(0,t.createElement)("input",{className:"input-field",value:p.contact_info,onChange:e=>g({...p,contact_info:e.target.value})})),(0,t.createElement)("div",{className:"flex justify-end gap-2 pt-4"},(0,t.createElement)("button",{type:"button",onClick:()=>c(!1),className:"btn-secondary"},"Batal"),(0,t.createElement)("button",{type:"submit",className:"btn-primary"},"Simpan")))))},La=p("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),Ha=()=>{const[e,a]=(0,t.useState)("hotel"),{data:l,loading:r,fetchData:n,createItem:s,updateItem:i,deleteItem:c}=Oe("umh/v1/masters",{type:e}),[m,o]=(0,t.useState)(!1),[d,u]=(0,t.useState)(null),[p,g]=(0,t.useState)({});(0,t.useEffect)(()=>{n()},[e,n]);const b=({id:l,icon:r,label:n})=>(0,t.createElement)("button",{onClick:()=>a(l),className:"flex items-center gap-2 px-4 py-2 rounded-lg border transition "+(e===l?"bg-blue-600 text-white border-blue-600 shadow":"bg-white text-gray-600 hover:bg-gray-50")},(0,t.createElement)(r,{size:16})," ",n);return(0,t.createElement)(Ae,{title:"Data Master & Referensi"},(0,t.createElement)("div",{className:"mb-6 flex flex-wrap gap-2"},(0,t.createElement)(b,{id:"hotel",icon:C,label:"Hotel"}),(0,t.createElement)(b,{id:"airline",icon:S,label:"Maskapai"}),(0,t.createElement)(b,{id:"bank",icon:ca,label:"Rekening Bank"}),(0,t.createElement)(b,{id:"promo",icon:La,label:"Jenis Promo"}),(0,t.createElement)(b,{id:"facility",icon:Te,label:"Fasilitas & Logistik"})),(0,t.createElement)("div",{className:"flex justify-between items-center mb-4 bg-white p-4 rounded-lg shadow-sm border"},(0,t.createElement)("div",null,(0,t.createElement)("h3",{className:"font-bold text-gray-800 text-lg capitalize"},"Data: ","bank"===e?"Rekening Perusahaan":e),(0,t.createElement)("p",{className:"text-sm text-gray-500"},"Data ini akan muncul otomatis saat pembuatan paket atau transaksi.")),(0,t.createElement)("button",{onClick:()=>{u(null),g({type:e,name:"",description:"",extra_data:"",status:"active"}),o(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded shadow flex items-center gap-2 hover:bg-blue-700"},(0,t.createElement)(Xe,{size:18})," Tambah Data")),r?(0,t.createElement)(Ve,null):(0,t.createElement)(We,{columns:(()=>{const a=[{header:"Nama",accessor:"name",className:"font-bold"}];return"hotel"===e?[...a,{header:"Kota Lokasi",accessor:"description"},{header:"Bintang",accessor:"extra_data"}]:"bank"===e?[...a,{header:"No. Rekening",accessor:"description"},{header:"Atas Nama",accessor:"extra_data"}]:"promo"===e?[...a,{header:"Nilai / Diskon",accessor:"description"}]:[...a,{header:"Keterangan",accessor:"description"}]})(),data:l,onEdit:e=>{g(e),u(e.id),o(!0)},onDelete:c}),(0,t.createElement)(Ze,{isOpen:m,onClose:()=>o(!1),title:`Tambah ${e.toUpperCase()}`},(0,t.createElement)("form",{onSubmit:async a=>{a.preventDefault();const t={...p,type:e};(d?await i(d,t):await s(t))&&(o(!1),g({}))},className:"space-y-4"},"hotel"===e&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-xs font-bold text-gray-500 uppercase"},"Nama Hotel"),(0,t.createElement)("input",{className:"w-full border p-2 rounded",value:p.name,onChange:e=>g({...p,name:e.target.value}),required:!0})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-xs font-bold text-gray-500 uppercase"},"Kota"),(0,t.createElement)("select",{className:"w-full border p-2 rounded",value:p.description,onChange:e=>g({...p,description:e.target.value})},(0,t.createElement)("option",{value:""},"Pilih Kota"),(0,t.createElement)("option",{value:"Makkah"},"Makkah"),(0,t.createElement)("option",{value:"Madinah"},"Madinah"),(0,t.createElement)("option",{value:"Jeddah"},"Jeddah"),(0,t.createElement)("option",{value:"Istanbul"},"Istanbul"))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-xs font-bold text-gray-500 uppercase"},"Bintang"),(0,t.createElement)("select",{className:"w-full border p-2 rounded",value:p.extra_data,onChange:e=>g({...p,extra_data:e.target.value})},(0,t.createElement)("option",{value:"5"},"5 Bintang"),(0,t.createElement)("option",{value:"4"},"4 Bintang"),(0,t.createElement)("option",{value:"3"},"3 Bintang")))),"bank"===e&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-xs font-bold text-gray-500 uppercase"},"Nama Bank"),(0,t.createElement)("input",{className:"w-full border p-2 rounded",value:p.name,onChange:e=>g({...p,name:e.target.value}),placeholder:"BCA / Mandiri",required:!0})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-xs font-bold text-gray-500 uppercase"},"Nomor Rekening"),(0,t.createElement)("input",{className:"w-full border p-2 rounded",value:p.description,onChange:e=>g({...p,description:e.target.value}),placeholder:"1234xxxx",required:!0})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-xs font-bold text-gray-500 uppercase"},"Atas Nama"),(0,t.createElement)("input",{className:"w-full border p-2 rounded",value:p.extra_data,onChange:e=>g({...p,extra_data:e.target.value}),placeholder:"PT Jannah Firdaus..."}))),("airline"===e||"promo"===e||"facility"===e)&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-xs font-bold text-gray-500 uppercase"},"Nama ",e),(0,t.createElement)("input",{className:"w-full border p-2 rounded",value:p.name,onChange:e=>g({...p,name:e.target.value}),required:!0})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-xs font-bold text-gray-500 uppercase"},"Keterangan"),(0,t.createElement)("input",{className:"w-full border p-2 rounded",value:p.description,onChange:e=>g({...p,description:e.target.value}),placeholder:"Opsional"}))),(0,t.createElement)("button",{className:"w-full bg-blue-600 text-white py-2 rounded mt-4 shadow hover:bg-blue-700"},"Simpan Data"))))},$a=()=>{const e=[{header:"Nama Akun",accessor:"name"},{header:"Tipe",accessor:"type",render:e=>(0,t.createElement)("span",{className:"px-2 py-1 text-xs rounded "+("income"===e.type?"bg-green-100 text-green-800":"bg-red-100 text-red-800")},"income"===e.type?"Pemasukan":"Pengeluaran")},{header:"Keterangan",accessor:"description"}],{data:a,loading:l,fetchData:r,createItem:n,updateItem:s,deleteItem:i}=Oe("umh/v1/categories"),[c,m]=(0,t.useState)(!1),[o,d]=(0,t.useState)(null),[u,p]=(0,t.useState)({name:"",type:"expense",description:""});return(0,t.useEffect)(()=>{r()},[r]),(0,t.createElement)(Ae,{title:"Kategori Keuangan (COA)"},(0,t.createElement)("div",{className:"flex justify-between mb-4"},(0,t.createElement)("h2",{className:"text-lg font-semibold"},"Daftar Akun Keuangan"),(0,t.createElement)("button",{onClick:()=>{d(null),m(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded"},"+ Akun Baru")),l?(0,t.createElement)(Ve,null):(0,t.createElement)(We,{columns:e,data:a,onEdit:e=>{p(e),d(e.id),m(!0)},onDelete:i}),(0,t.createElement)(Ze,{isOpen:c,onClose:()=>m(!1),title:o?"Edit Akun":"Tambah Akun Keuangan"},(0,t.createElement)("form",{onSubmit:async e=>{e.preventDefault(),(o?await s(o,u):await n(u))&&(m(!1),p({name:"",type:"expense",description:""}))},className:"space-y-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-sm font-medium"},"Nama Akun / Pos"),(0,t.createElement)("input",{className:"w-full border p-2 rounded",value:u.name,onChange:e=>p({...u,name:e.target.value}),required:!0,placeholder:"Contoh: Biaya Sewa Kantor"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-sm font-medium"},"Tipe Akun"),(0,t.createElement)("select",{className:"w-full border p-2 rounded",value:u.type,onChange:e=>p({...u,type:e.target.value})},(0,t.createElement)("option",{value:"income"},"Pemasukan (Income)"),(0,t.createElement)("option",{value:"expense"},"Pengeluaran (Expense)"))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-sm font-medium"},"Keterangan"),(0,t.createElement)("textarea",{className:"w-full border p-2 rounded",value:u.description,onChange:e=>p({...u,description:e.target.value}),rows:"2"})),(0,t.createElement)("button",{className:"w-full bg-blue-600 text-white py-2 rounded"},"Simpan Akun"))))},Oa=p("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Ua=()=>{const{user:e}=o(),{data:a,loading:l,createItem:r,updateItem:n,deleteItem:s}=Oe("umh/v1/package-categories"),[i,c]=(0,t.useState)(!1),[m,d]=(0,t.useState)("create"),[u,p]=(0,t.useState)(null),[g,b]=(0,t.useState)({}),h=(e,a=null)=>{d(e),p(a),b(a||{}),c(!0)},y=[{header:"Nama Kategori",accessor:"name",className:"font-bold text-gray-800",sortable:!0},{header:"Slug",accessor:"slug",render:e=>(0,t.createElement)("span",{className:"font-mono text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded border"},e.slug)},{header:"Deskripsi",accessor:"description",className:"text-gray-600"}];return(0,t.createElement)(Ae,{title:"Kategori Paket"},(0,t.createElement)("div",{className:"mb-6 bg-gradient-to-r from-purple-600 to-blue-600 p-6 rounded-xl text-white flex justify-between items-center shadow-lg"},(0,t.createElement)("div",null,(0,t.createElement)("h3",{className:"font-bold text-xl mb-1 flex items-center gap-2"},(0,t.createElement)(Oa,null)," Master Data Kategori"),(0,t.createElement)("p",{className:"text-blue-100 text-sm opacity-90"},"Atur varian paket seperti: Ramadhan, Awal Tahun, Furoda, atau Umroh Plus.")),(0,t.createElement)("button",{onClick:()=>h("create"),className:"bg-white text-blue-600 px-5 py-2.5 rounded-lg font-bold flex items-center gap-2 hover:bg-gray-50 shadow-md transition-transform hover:scale-105"},(0,t.createElement)(Xe,{size:18})," Tambah Kategori")),(0,t.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},(0,t.createElement)(We,{columns:y,data:a,loading:l,onEdit:e=>h("edit",e),onDelete:s,userCapabilities:e?.role,editCapability:"manage_options",deleteCapability:"manage_options"})),(0,t.createElement)(Ze,{isOpen:i,onClose:()=>c(!1),title:"create"===m?"Tambah Kategori Baru":"Edit Kategori"},(0,t.createElement)("form",{onSubmit:async e=>{e.preventDefault(),!g.slug&&g.name&&(g.slug=g.name.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"")),("create"===m?await r(g):await n(u.id,g))&&c(!1)},className:"space-y-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Nama Kategori"),(0,t.createElement)("input",{type:"text",className:"input-field",placeholder:"Contoh: Umroh Ramadhan",value:g.name||"",onChange:e=>b({...g,name:e.target.value}),required:!0})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Slug (Opsional)"),(0,t.createElement)("input",{type:"text",className:"input-field bg-gray-50",placeholder:"umroh-ramadhan (Auto generate jika kosong)",value:g.slug||"",onChange:e=>b({...g,slug:e.target.value})})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Deskripsi"),(0,t.createElement)("textarea",{className:"input-field",rows:"3",value:g.description||"",onChange:e=>b({...g,description:e.target.value})})),(0,t.createElement)("div",{className:"flex justify-end gap-2 pt-4 border-t"},(0,t.createElement)("button",{type:"button",onClick:()=>c(!1),className:"btn-secondary"},"Batal"),(0,t.createElement)("button",{type:"submit",className:"btn-primary"},"Simpan")))))},Ja=p("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Ra=()=>{const{data:e,loading:a,fetchData:l,createItem:r,updateItem:n,deleteItem:s}=Oe("umh/v1/roles"),[i,c]=(0,t.useState)(!1),[m,o]=(0,t.useState)(null),[d,u]=(0,t.useState)({name:"",display_name:"",capabilities:{}});(0,t.useEffect)(()=>{l()},[l]);const p=[{header:"Nama Peran",accessor:"display_name",className:"font-bold text-gray-800"},{header:"Slug (ID)",accessor:"name",render:e=>(0,t.createElement)("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs text-red-500"},e.name)},{header:"Akses Utama",accessor:"capabilities",render:e=>{const a=Object.keys(e.capabilities||{}).filter(a=>e.capabilities[a]).length;return(0,t.createElement)("span",{className:"text-xs text-gray-500"},a," hak akses aktif")}}];return(0,t.createElement)(Ae,{title:"Manajemen Peran & Akses"},(0,t.createElement)("div",{className:"flex justify-between items-center mb-6"},(0,t.createElement)("div",null,(0,t.createElement)("h2",{className:"text-lg font-bold text-gray-800"},"Peran Pengguna (Roles)"),(0,t.createElement)("p",{className:"text-sm text-gray-500"},"Buat peran khusus untuk staf, agen, atau manajer.")),(0,t.createElement)("button",{onClick:()=>{o(null),c(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded shadow hover:bg-blue-700 flex items-center gap-2"},(0,t.createElement)(xa,{size:18})," Buat Peran Baru")),a?(0,t.createElement)(Ve,null):(0,t.createElement)(We,{columns:p,data:e,onEdit:e=>{u(e),o(e.name),c(!0)},onDelete:e=>s(e.name)}),(0,t.createElement)(Ze,{isOpen:i,onClose:()=>c(!1),title:m?"Edit Peran":"Peran Baru"},(0,t.createElement)("form",{onSubmit:async e=>{e.preventDefault(),m||d.name||!d.display_name||(d.name=d.display_name.toLowerCase().replace(/ /g,"_")),(m?await n(m,d):await r(d))&&(c(!1),u({name:"",display_name:"",capabilities:{}}))},className:"space-y-4"},(0,t.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Nama Tampilan"),(0,t.createElement)("input",{className:"w-full px-3 py-2 border rounded-md",value:d.display_name,onChange:e=>u({...d,display_name:e.target.value}),required:!0,placeholder:"Contoh: Staf Keuangan"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Slug / ID (Unik)"),(0,t.createElement)("input",{className:"w-full px-3 py-2 border rounded-md bg-gray-50",value:d.name,onChange:e=>u({...d,name:e.target.value}),disabled:!!m,placeholder:"finance_staff"}),m&&(0,t.createElement)("p",{className:"text-xs text-gray-400 mt-1"},"Slug tidak dapat diubah setelah dibuat."))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2"},(0,t.createElement)(Ja,{size:14})," Hak Akses (Capabilities)"),(0,t.createElement)("div",{className:"grid grid-cols-2 gap-2 bg-gray-50 p-4 rounded-lg border border-gray-200 h-48 overflow-y-auto custom-scrollbar"},[{id:"read",label:"Read (Baca Data)"},{id:"edit_posts",label:"Edit Data"},{id:"upload_files",label:"Upload File"},{id:"manage_options",label:"Kelola Pengaturan"},{id:"manage_agents",label:"Kelola Agen"},{id:"manage_finance",label:"Kelola Keuangan"}].map(e=>(0,t.createElement)("label",{key:e.id,className:"flex items-center gap-2 cursor-pointer hover:bg-white p-2 rounded transition-colors"},(0,t.createElement)("input",{type:"checkbox",className:"rounded text-blue-600 focus:ring-blue-500",checked:!!d.capabilities?.[e.id],onChange:()=>{return a=e.id,void u(e=>({...e,capabilities:{...e.capabilities,[a]:!e.capabilities[a]}}));var a}}),(0,t.createElement)("span",{className:"text-sm text-gray-700"},e.label))))),(0,t.createElement)("div",{className:"flex justify-end gap-2 pt-4 border-t"},(0,t.createElement)("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded hover:bg-gray-200"},"Batal"),(0,t.createElement)("button",{type:"submit",className:"px-4 py-2 text-white bg-blue-600 rounded hover:bg-blue-700"},"Simpan Peran")))))},Fa=()=>{const{user:e,loading:a}=o(),[l,r]=(0,t.useState)("dashboard"),[n,s]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{e&&r("dashboard")},[e]),(0,t.createElement)("div",{className:"flex h-screen bg-gray-100 font-sans text-gray-900 overflow-hidden"},(0,t.createElement)(j,{isOpen:n,toggleSidebar:()=>s(!n),activePage:l,onNavigate:e=>{r(e),s(!1)}}),(0,t.createElement)("div",{className:"flex-1 flex flex-col overflow-hidden w-full relative"},(0,t.createElement)(b,{toggleSidebar:()=>s(!n),title:(e=>{for(const a of M){const t=a.items.find(a=>a.path===e);if(t)return t.label}return e.charAt(0).toUpperCase()+e.slice(1).replace("-"," ")})(l)}),(0,t.createElement)("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 p-4 md:p-6"},(0,t.createElement)("div",{className:"animate-fade-in"},(()=>{if(a)return(0,t.createElement)("div",{className:"flex items-center justify-center h-full text-gray-500"},"Memuat data pengguna...");switch(l){case"dashboard":default:return(0,t.createElement)($e,null);case"packages":return(0,t.createElement)(Qe,null);case"departures":return(0,t.createElement)(ea,null);case"jamaah":return(0,t.createElement)(ua,null);case"finance":return(0,t.createElement)(ha,null);case"marketing":return(0,t.createElement)(ya,null);case"tasks":return(0,t.createElement)(ja,null);case"hr":return(0,t.createElement)(za,null);case"logistics":return(0,t.createElement)(Ta,null);case"hotels":return(0,t.createElement)(Ea,null);case"flights":return(0,t.createElement)(qa,null);case"agents":return(0,t.createElement)(Ia,null);case"users":return(0,t.createElement)(ka,null);case"settings":return(0,t.createElement)(Sa,null);case"masters":return(0,t.createElement)(Ha,null);case"categories":return(0,t.createElement)($a,null);case"package-categories":return(0,t.createElement)(Ua,null);case"roles":return(0,t.createElement)(Ra,null)}})()))),(0,t.createElement)(De,{position:"top-right",toastOptions:{className:"",style:{borderRadius:"10px",background:"#333",color:"#fff"}}}))},Ga=()=>(0,t.createElement)(d,null,(0,t.createElement)(Fa,null)),Va=document.getElementById("umh-app-root");Va&&(0,l.H)(Va).render((0,t.createElement)(Ga,null))})();