(()=>{"use strict";var e={338:(e,t,a)=>{var l=a(795);t.H=l.createRoot,l.hydrateRoot},795:e=>{e.exports=window.ReactDOM}},t={};function a(l){var r=t[l];if(void 0!==r)return r.exports;var n=t[l]={exports:{}};return e[l](n,n.exports,a),n.exports}const l=window.React;var r,n=a(338),s=a(795);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const c="popstate";function i(e,t){if(!1===e||null==e)throw new Error(t)}function m(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,a,l){return void 0===a&&(a=null),o({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?g(t):t,{state:a,key:t&&t.key||l||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:a="",hash:l=""}=e;return a&&"?"!==a&&(t+="?"===a.charAt(0)?a:"?"+a),l&&"#"!==l&&(t+="#"===l.charAt(0)?l:"#"+l),t}function g(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substr(a),e=e.substr(0,a));let l=e.indexOf("?");l>=0&&(t.search=e.substr(l),e=e.substr(0,l)),e&&(t.pathname=e)}return t}var h;function b(e,t,a){return void 0===a&&(a="/"),function(e,t,a,l){let r=P(("string"==typeof t?g(t):t).pathname||"/",a);if(null==r)return null;let n=f(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let a=e.length===t.length&&e.slice(0,-1).every((e,a)=>e===t[a]);return a?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(n);let s=null;for(let e=0;null==s&&e<n.length;++e){let t=L(r);s=S(n[e],t,l)}return s}(e,t,a,!1)}function f(e,t,a,l){void 0===t&&(t=[]),void 0===a&&(a=[]),void 0===l&&(l="");let r=(e,r,n)=>{let s={relativePath:void 0===n?e.path||"":n,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};s.relativePath.startsWith("/")&&(i(s.relativePath.startsWith(l),'Absolute route path "'+s.relativePath+'" nested under path "'+l+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(l.length));let o=R([l,s.relativePath]),c=a.concat(s);e.children&&e.children.length>0&&(i(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),f(e.children,t,c,o)),(null!=e.path||e.index)&&t.push({path:o,score:C(o,e.index),routesMeta:c})};return e.forEach((e,t)=>{var a;if(""!==e.path&&null!=(a=e.path)&&a.includes("?"))for(let a of E(e.path))r(e,t,a);else r(e,t)}),t}function E(e){let t=e.split("/");if(0===t.length)return[];let[a,...l]=t,r=a.endsWith("?"),n=a.replace(/\?$/,"");if(0===l.length)return r?[n,""]:[n];let s=E(l.join("/")),o=[];return o.push(...s.map(e=>""===e?n:[n,e].join("/"))),r&&o.push(...s),o.map(t=>e.startsWith("/")&&""===t?"/":t)}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(h||(h={})),new Set(["lazy","caseSensitive","path","id","index","children"]);const x=/^:[\w-]+$/,v=3,y=2,N=1,w=10,k=-2,_=e=>"*"===e;function C(e,t){let a=e.split("/"),l=a.length;return a.some(_)&&(l+=k),t&&(l+=y),a.filter(e=>!_(e)).reduce((e,t)=>e+(x.test(t)?v:""===t?N:w),l)}function S(e,t,a){void 0===a&&(a=!1);let{routesMeta:l}=e,r={},n="/",s=[];for(let e=0;e<l.length;++e){let o=l[e],c=e===l.length-1,i="/"===n?t:t.slice(n.length)||"/",m=j({path:o.relativePath,caseSensitive:o.caseSensitive,end:c},i),d=o.route;if(!m&&c&&a&&!l[l.length-1].route.index&&(m=j({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},i)),!m)return null;Object.assign(r,m.params),s.push({params:r,pathname:R([n,m.pathname]),pathnameBase:T(R([n,m.pathnameBase])),route:d}),"/"!==m.pathnameBase&&(n=R([n,m.pathnameBase]))}return s}function j(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[a,l]=function(e,t,a){void 0===t&&(t=!1),void 0===a&&(a=!0),m("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let l=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,a)=>(l.push({paramName:t,isOptional:null!=a}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(l.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),l]}(e.path,e.caseSensitive,e.end),r=t.match(a);if(!r)return null;let n=r[0],s=n.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:l.reduce((e,t,a)=>{let{paramName:l,isOptional:r}=t;if("*"===l){let e=o[a]||"";s=n.slice(0,n.length-e.length).replace(/(.)\/+$/,"$1")}const c=o[a];return e[l]=r&&!c?void 0:(c||"").replace(/%2F/g,"/"),e},{}),pathname:n,pathnameBase:s,pattern:e}}function L(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return m(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,l=e.charAt(a);return l&&"/"!==l?null:e.slice(a)||"/"}const M=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function D(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?a.length>1&&a.pop():"."!==e&&a.push(e)}),a.length>1?a.join("/"):"/"}function A(e,t,a,l){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(l)+"].  Please separate it out to the `to."+a+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function B(e,t){let a=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t?a.map((e,t)=>t===a.length-1?e.pathname:e.pathnameBase):a.map(e=>e.pathnameBase)}function I(e,t,a,l){let r;void 0===l&&(l=!1),"string"==typeof e?r=g(e):(r=o({},e),i(!r.pathname||!r.pathname.includes("?"),A("?","pathname","search",r)),i(!r.pathname||!r.pathname.includes("#"),A("#","pathname","hash",r)),i(!r.search||!r.search.includes("#"),A("#","search","hash",r)));let n,s=""===e||""===r.pathname,c=s?"/":r.pathname;if(null==c)n=a;else{let e=t.length-1;if(!l&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}n=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let a,{pathname:l,search:r="",hash:n=""}="string"==typeof e?g(e):e;if(l)if(s=l,M.test(s))a=l;else{if(l.includes("//")){let e=l;l=l.replace(/\/\/+/g,"/"),m(!1,"Pathnames cannot have embedded double slashes - normalizing "+e+" -> "+l)}a=l.startsWith("/")?D(l.substring(1),"/"):D(l,t)}else a=t;var s;return{pathname:a,search:K(r),hash:$(n)}}(r,n),u=c&&"/"!==c&&c.endsWith("/"),p=(s||"."===c)&&a.endsWith("/");return d.pathname.endsWith("/")||!u&&!p||(d.pathname+="/"),d}const R=e=>e.join("/").replace(/\/\/+/g,"/"),T=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),K=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",$=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;const H=["post","put","patch","delete"],O=(new Set(H),["get",...H]);function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},U.apply(this,arguments)}new Set(O),new Set([301,302,303,307,308]),new Set([307,308]),Symbol("deferred");const z=l.createContext(null),q=l.createContext(null),W=l.createContext(null),J=l.createContext(null),V=l.createContext({outlet:null,matches:[],isDataRoute:!1}),Z=l.createContext(null);function F(){return null!=l.useContext(J)}function G(){return F()||i(!1),l.useContext(J).location}function Q(e){l.useContext(W).static||l.useLayoutEffect(e)}function X(){let{isDataRoute:e}=l.useContext(V);return e?function(){let{router:e}=function(){let e=l.useContext(z);return e||i(!1),e}(ne.UseNavigateStable),t=oe(se.UseNavigateStable),a=l.useRef(!1);return Q(()=>{a.current=!0}),l.useCallback(function(l,r){void 0===r&&(r={}),a.current&&("number"==typeof l?e.navigate(l):e.navigate(l,U({fromRouteId:t},r)))},[e,t])}():function(){F()||i(!1);let e=l.useContext(z),{basename:t,future:a,navigator:r}=l.useContext(W),{matches:n}=l.useContext(V),{pathname:s}=G(),o=JSON.stringify(B(n,a.v7_relativeSplatPath)),c=l.useRef(!1);return Q(()=>{c.current=!0}),l.useCallback(function(a,l){if(void 0===l&&(l={}),!c.current)return;if("number"==typeof a)return void r.go(a);let n=I(a,JSON.parse(o),s,"path"===l.relative);null==e&&"/"!==t&&(n.pathname="/"===n.pathname?t:R([t,n.pathname])),(l.replace?r.replace:r.push)(n,l.state,l)},[t,r,o,s,e])}()}function Y(e,t){let{relative:a}=void 0===t?{}:t,{future:r}=l.useContext(W),{matches:n}=l.useContext(V),{pathname:s}=G(),o=JSON.stringify(B(n,r.v7_relativeSplatPath));return l.useMemo(()=>I(e,JSON.parse(o),s,"path"===a),[e,o,s,a])}function ee(e,t,a,n){F()||i(!1);let{navigator:s}=l.useContext(W),{matches:o}=l.useContext(V),c=o[o.length-1],m=c?c.params:{},d=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let u,p=G();if(t){var h;let e="string"==typeof t?g(t):t;"/"===d||(null==(h=e.pathname)?void 0:h.startsWith(d))||i(!1),u=e}else u=p;let f=u.pathname||"/",E=f;if("/"!==d){let e=d.replace(/^\//,"").split("/");E="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=b(e,{pathname:E}),v=function(e,t,a,r){var n;if(void 0===t&&(t=[]),void 0===a&&(a=null),void 0===r&&(r=null),null==e){var s;if(!a)return null;if(a.errors)e=a.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!a.initialized&&a.matches.length>0))return null;e=a.matches}}let o=e,c=null==(n=a)?void 0:n.errors;if(null!=c){let e=o.findIndex(e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id]));e>=0||i(!1),o=o.slice(0,Math.min(o.length,e+1))}let m=!1,d=-1;if(a&&r&&r.v7_partialHydration)for(let e=0;e<o.length;e++){let t=o[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(d=e),t.route.id){let{loaderData:e,errors:l}=a,r=t.route.loader&&void 0===e[t.route.id]&&(!l||void 0===l[t.route.id]);if(t.route.lazy||r){m=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight((e,r,n)=>{let s,i=!1,u=null,p=null;var g;a&&(s=c&&r.route.id?c[r.route.id]:void 0,u=r.route.errorElement||ae,m&&(d<0&&0===n?(ce[g="route-fallback"]||(ce[g]=!0),i=!0,p=null):d===n&&(i=!0,p=r.route.hydrateFallbackElement||null)));let h=t.concat(o.slice(0,n+1)),b=()=>{let t;return t=s?u:i?p:r.route.Component?l.createElement(r.route.Component,null):r.route.element?r.route.element:e,l.createElement(re,{match:r,routeContext:{outlet:e,matches:h,isDataRoute:null!=a},children:t})};return a&&(r.route.ErrorBoundary||r.route.errorElement||0===n)?l.createElement(le,{location:a.location,revalidation:a.revalidation,component:u,error:s,children:b(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):b()},null)}(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},m,e.params),pathname:R([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:R([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,a,n);return t&&v?l.createElement(J.Provider,{value:{location:U({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:r.Pop}},v):v}function te(){let e=function(){var e;let t=l.useContext(Z),a=function(){let e=l.useContext(q);return e||i(!1),e}(se.UseRouteError),r=oe(se.UseRouteError);return void 0!==t?t:null==(e=a.errors)?void 0:e[r]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return l.createElement(l.Fragment,null,l.createElement("h2",null,"Unexpected Application Error!"),l.createElement("h3",{style:{fontStyle:"italic"}},t),a?l.createElement("pre",{style:r},a):null,null)}const ae=l.createElement(te,null);class le extends l.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?l.createElement(V.Provider,{value:this.props.routeContext},l.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function re(e){let{routeContext:t,match:a,children:r}=e,n=l.useContext(z);return n&&n.static&&n.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=a.route.id),l.createElement(V.Provider,{value:t},r)}var ne=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ne||{}),se=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(se||{});function oe(e){let t=function(){let e=l.useContext(V);return e||i(!1),e}(),a=t.matches[t.matches.length-1];return a.route.id||i(!1),a.route.id}const ce={};function ie(e){i(!1)}function me(e){let{basename:t="/",children:a=null,location:n,navigationType:s=r.Pop,navigator:o,static:c=!1,future:m}=e;F()&&i(!1);let d=t.replace(/^\/*/,"/"),u=l.useMemo(()=>({basename:d,navigator:o,static:c,future:U({v7_relativeSplatPath:!1},m)}),[d,m,o,c]);"string"==typeof n&&(n=g(n));let{pathname:p="/",search:h="",hash:b="",state:f=null,key:E="default"}=n,x=l.useMemo(()=>{let e=P(p,d);return null==e?null:{location:{pathname:e,search:h,hash:b,state:f,key:E},navigationType:s}},[d,p,h,b,f,E,s]);return null==x?null:l.createElement(W.Provider,{value:u},l.createElement(J.Provider,{children:a,value:x}))}function de(e){let{children:t,location:a}=e;return ee(ue(t),a)}function ue(e,t){void 0===t&&(t=[]);let a=[];return l.Children.forEach(e,(e,r)=>{if(!l.isValidElement(e))return;let n=[...t,r];if(e.type===l.Fragment)return void a.push.apply(a,ue(e.props.children,n));e.type!==ie&&i(!1),e.props.index&&e.props.children&&i(!1);let s={id:e.props.id||n.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ue(e.props.children,n)),a.push(s)}),a}function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},pe.apply(this,arguments)}l.startTransition,new Promise(()=>{}),l.Component,new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ge=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch($t){}new Map;const he=l.startTransition;function be(e){let{basename:t,children:a,future:n,window:s}=e,h=l.useRef();var b;null==h.current&&(h.current=(void 0===(b={window:s,v5Compat:!0})&&(b={}),function(e,t,a,l){void 0===l&&(l={});let{window:n=document.defaultView,v5Compat:s=!1}=l,m=n.history,g=r.Pop,h=null,b=f();function f(){return(m.state||{idx:null}).idx}function E(){g=r.Pop;let e=f(),t=null==e?null:e-b;b=e,h&&h({action:g,location:v.location,delta:t})}function x(e){let t="null"!==n.location.origin?n.location.origin:n.location.href,a="string"==typeof e?e:p(e);return a=a.replace(/ $/,"%20"),i(t,"No window.location.(origin|href) available to create URL for href: "+a),new URL(a,t)}null==b&&(b=0,m.replaceState(o({},m.state,{idx:b}),""));let v={get action(){return g},get location(){return e(n,m)},listen(e){if(h)throw new Error("A history only accepts one active listener");return n.addEventListener(c,E),h=e,()=>{n.removeEventListener(c,E),h=null}},createHref:e=>t(n,e),createURL:x,encodeLocation(e){let t=x(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){g=r.Push;let l=u(v.location,e,t);a&&a(l,e),b=f()+1;let o=d(l,b),c=v.createHref(l);try{m.pushState(o,"",c)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;n.location.assign(c)}s&&h&&h({action:g,location:v.location,delta:1})},replace:function(e,t){g=r.Replace;let l=u(v.location,e,t);a&&a(l,e),b=f();let n=d(l,b),o=v.createHref(l);m.replaceState(n,"",o),s&&h&&h({action:g,location:v.location,delta:0})},go:e=>m.go(e)};return v}(function(e,t){let{pathname:a="/",search:l="",hash:r=""}=g(e.location.hash.substr(1));return a.startsWith("/")||a.startsWith(".")||(a="/"+a),u("",{pathname:a,search:l,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let a=e.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let t=e.location.href,a=t.indexOf("#");l=-1===a?t:t.slice(0,a)}return l+"#"+("string"==typeof t?t:p(t))},function(e,t){m("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")},b)));let f=h.current,[E,x]=l.useState({action:f.action,location:f.location}),{v7_startTransition:v}=n||{},y=l.useCallback(e=>{v&&he?he(()=>x(e)):x(e)},[x,v]);return l.useLayoutEffect(()=>f.listen(y),[f,y]),l.useEffect(()=>{return null==(e=n)||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),void(t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation));var e,t},[n]),l.createElement(me,{basename:t,children:a,location:E.location,navigationType:E.action,navigator:f,future:n})}s.flushSync,l.useId;const fe="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xe=l.forwardRef(function(e,t){let a,{onClick:r,relative:n,reloadDocument:s,replace:o,state:c,target:m,to:d,preventScrollReset:u,viewTransition:g}=e,h=function(e,t){if(null==e)return{};var a,l,r={},n=Object.keys(e);for(l=0;l<n.length;l++)a=n[l],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,ge),{basename:b}=l.useContext(W),f=!1;if("string"==typeof d&&Ee.test(d)&&(a=d,fe))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),a=P(t.pathname,b);t.origin===e.origin&&null!=a?d=a+t.search+t.hash:f=!0}catch(e){}let E=function(e,t){let{relative:a}=void 0===t?{}:t;F()||i(!1);let{basename:r,navigator:n}=l.useContext(W),{hash:s,pathname:o,search:c}=Y(e,{relative:a}),m=o;return"/"!==r&&(m="/"===o?r:R([r,o])),n.createHref({pathname:m,search:c,hash:s})}(d,{relative:n}),x=function(e,t){let{target:a,replace:r,state:n,preventScrollReset:s,relative:o,viewTransition:c}=void 0===t?{}:t,i=X(),m=G(),d=Y(e,{relative:o});return l.useCallback(t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,a)){t.preventDefault();let a=void 0!==r?r:p(m)===p(d);i(e,{replace:a,state:n,preventScrollReset:s,relative:o,viewTransition:c})}},[m,i,d,r,n,a,e,s,o,c])}(d,{replace:o,state:c,target:m,preventScrollReset:u,relative:n,viewTransition:g});return l.createElement("a",pe({},h,{href:a||E,onClick:f||s?r:function(e){r&&r(e),e.defaultPrevented||x(e)},ref:t,target:m}))});var ve,ye;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ve||(ve={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(ye||(ye={}));const Ne=window.umhData||{root:"",nonce:"",user:null},we=async(e,t={})=>{const{root:a,nonce:l}=Ne,r=`${a}umh/v1/${(e.startsWith("/")?e.substring(1):e).replace("umh/v1/","")}`,n={"X-WP-Nonce":l,...t.headers};t.body instanceof FormData||(n["Content-Type"]="application/json");const s={...t,headers:n};try{const e=await fetch(r,s),t=await e.json();if(!e.ok)throw new Error(t.message||t.code||"Terjadi kesalahan pada server.");return t}catch(t){throw console.error(`API Error [${e}]:`,t),t}},ke=(e,t={})=>{const a=new URLSearchParams(t.params).toString();return we(a?`${e}?${a}`:e,{method:"GET"})},_e=(e,t)=>we(e,{method:"POST",body:t instanceof FormData?t:JSON.stringify(t)}),Ce=(e,t)=>we(e,{method:"PUT",body:JSON.stringify(t)}),Se=e=>we(e,{method:"DELETE"}),je=(0,l.createContext)(),Le=()=>(0,l.useContext)(je),Pe=({children:e})=>{const[t,a]=(0,l.useState)(null),[r,n]=(0,l.useState)(null),[s,o]=(0,l.useState)(!0),[c,i]=(0,l.useState)(null),[m,d]=(0,l.useState)(null);(0,l.useEffect)(()=>{(async()=>{o(!0),i(null);try{window.umhData&&window.umhData.user&&a(window.umhData.user);const[e,t]=await Promise.all([ke("umh/v1/stats/totals").catch(e=>({data:{}})),ke("umh/v1/departures",{params:{per_page:5,status:"scheduled",orderby:"departure_date",order:"asc"}}).catch(e=>({data:{items:[]}}))]),l=e.data||{},r=t.data,s=Array.isArray(r)?r:r&&Array.isArray(r.items)?r.items:[];n({total_jamaah:l.total_jamaah||0,active_packages:l.total_packages||0,total_revenue:l.total_revenue||0,upcoming_departures:s.map(e=>({name:e.package_name,date:e.departure_date,booked:e.slots_filled||e.total_seats-e.available_seats||0,quota:e.total_seats||0}))})}catch(e){console.error("Gagal inisialisasi aplikasi:",e),i("Gagal memuat data utama. Periksa koneksi internet Anda.")}finally{o(!1)}})()},[]);const u={user:t,stats:r,loading:s,error:c,globalError:m,clearGlobalError:()=>d(null)};return(0,l.createElement)(je.Provider,{value:u},e)};var Me={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const De=(e,t)=>{const a=(0,l.forwardRef)(({color:a="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:c,...i},m)=>{return(0,l.createElement)("svg",{ref:m,...Me,width:r,height:r,stroke:a,strokeWidth:s?24*Number(n)/Number(r):n,className:["lucide",`lucide-${d=e,d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()}`,o].join(" "),...i},[...t.map(([e,t])=>(0,l.createElement)(e,t)),...Array.isArray(c)?c:[c]]);var d});return a.displayName=`${e}`,a},Ae=De("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Be=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ie=()=>{const{globalError:e,clearGlobalError:t}=Le();return e?(0,l.createElement)("div",{className:"fixed top-20 right-6 bg-red-100 border-l-4 border-red-500 text-red-800 p-4 rounded-md shadow-lg z-50 max-w-md",role:"alert"},(0,l.createElement)("div",{className:"flex"},(0,l.createElement)("div",{className:"flex-shrink-0"},(0,l.createElement)(Ae,{size:20,className:"text-red-600"})),(0,l.createElement)("div",{className:"ml-3"},(0,l.createElement)("p",{className:"text-sm font-medium"},e)),(0,l.createElement)("div",{className:"ml-auto pl-3"},(0,l.createElement)("div",{className:"-mx-1.5 -my-1.5"},(0,l.createElement)("button",{type:"button",onClick:t,className:"inline-flex bg-red-100 rounded-md p-1.5 text-red-500 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-red-100 focus:ring-red-600"},(0,l.createElement)("span",{className:"sr-only"},"Tutup"),(0,l.createElement)(Be,{size:20})))))):null},Re=({children:e,title:t})=>((0,l.useEffect)(()=>{t&&(document.title=`${t} - Umroh Manager`)},[t]),(0,l.createElement)("div",{className:"max-w-7xl mx-auto"},(0,l.createElement)(Ie,null),(0,l.createElement)("div",{className:"animate-fade-in"},e))),Te=De("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Ke=({size:e=24,text:t})=>(0,l.createElement)("div",{className:"flex justify-center items-center py-4"},(0,l.createElement)(Te,{className:"animate-spin text-blue-600",size:e}),t&&(0,l.createElement)("span",{className:"ml-2 text-gray-600"},t));function $e({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const He=l.forwardRef($e);function Oe({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const Ue=l.forwardRef(Oe);function ze({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const qe=l.forwardRef(ze);function We({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const Je=l.forwardRef(We);function Ve({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Ze=l.forwardRef(Ve);function Fe({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const Ge=l.forwardRef(Fe),Qe=()=>{const[e,t]=(0,l.useState)(null),[a,r]=(0,l.useState)(!0);(0,l.useEffect)(()=>{(async()=>{try{const e=await ke("/umh/v1/stats/dashboard");t(e.data)}catch(e){console.error(e)}finally{r(!1)}})()},[]);const n=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(e);return a?(0,l.createElement)(Re,{title:"Dashboard"},(0,l.createElement)(Ke,null)):e?(0,l.createElement)(Re,{title:"Dashboard Eksekutif"},(0,l.createElement)("div",{className:"space-y-6"},(0,l.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},(0,l.createElement)("div",{className:"bg-white p-4 rounded-lg shadow border-l-4 border-blue-500"},(0,l.createElement)("div",{className:"flex justify-between items-start"},(0,l.createElement)("div",null,(0,l.createElement)("p",{className:"text-xs text-gray-500 uppercase font-bold"},"Total Penjualan"),(0,l.createElement)("h3",{className:"text-xl font-bold text-gray-800 mt-1"},n(e.revenue.total_sales))),(0,l.createElement)("div",{className:"p-2 bg-blue-100 rounded-full text-blue-600"},(0,l.createElement)(He,{className:"h-5 w-5"})))),(0,l.createElement)("div",{className:"bg-white p-4 rounded-lg shadow border-l-4 border-green-500"},(0,l.createElement)("div",{className:"flex justify-between items-start"},(0,l.createElement)("div",null,(0,l.createElement)("p",{className:"text-xs text-gray-500 uppercase font-bold"},"Uang Diterima (Cash In)"),(0,l.createElement)("h3",{className:"text-xl font-bold text-green-700 mt-1"},n(e.revenue.cash_in))),(0,l.createElement)("div",{className:"p-2 bg-green-100 rounded-full text-green-600"},(0,l.createElement)(Ue,{className:"h-5 w-5"})))),(0,l.createElement)("div",{className:"bg-white p-4 rounded-lg shadow border-l-4 border-red-500"},(0,l.createElement)("div",{className:"flex justify-between items-start"},(0,l.createElement)("div",null,(0,l.createElement)("p",{className:"text-xs text-gray-500 uppercase font-bold"},"Sisa Tagihan (Piutang)"),(0,l.createElement)("h3",{className:"text-xl font-bold text-red-600 mt-1"},n(e.revenue.receivable))),(0,l.createElement)("div",{className:"p-2 bg-red-100 rounded-full text-red-600"},(0,l.createElement)(qe,{className:"h-5 w-5"})))),(0,l.createElement)("div",{className:"bg-white p-4 rounded-lg shadow border-l-4 border-purple-500"},(0,l.createElement)("div",{className:"flex justify-between items-start"},(0,l.createElement)("div",null,(0,l.createElement)("p",{className:"text-xs text-gray-500 uppercase font-bold"},"Database Jemaah"),(0,l.createElement)("h3",{className:"text-xl font-bold text-purple-700 mt-1"},e.stats.total_jamaah," Orang"),(0,l.createElement)("p",{className:"text-xs text-gray-400 mt-1"},e.stats.active_bookings," Booking Aktif")),(0,l.createElement)("div",{className:"p-2 bg-purple-100 rounded-full text-purple-600"},(0,l.createElement)(Je,{className:"h-5 w-5"}))))),(0,l.createElement)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6"},(0,l.createElement)("div",{className:"bg-white p-6 rounded-lg shadow lg:col-span-2"},(0,l.createElement)("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2"},(0,l.createElement)(Ze,{className:"h-5 w-5 text-blue-500"})," Keberangkatan Terdekat"),e.next_departure?(0,l.createElement)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100 flex flex-col md:flex-row gap-6 items-center"},(0,l.createElement)("div",{className:"text-center md:text-left"},(0,l.createElement)("p",{className:"text-sm text-gray-500"},"Tanggal"),(0,l.createElement)("p",{className:"text-2xl font-bold text-blue-800"},(s=e.next_departure.departure_date,new Date(s).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}))),(0,l.createElement)("p",{className:"text-sm text-blue-600 mt-1"},e.next_departure.package_name)),(0,l.createElement)("div",{className:"flex-1 w-full"},(0,l.createElement)("div",{className:"flex justify-between text-sm mb-1"},(0,l.createElement)("span",null,"Terisi: ",(0,l.createElement)("strong",null,e.next_departure.booked_count," Pax")),(0,l.createElement)("span",null,"Kuota: ",(0,l.createElement)("strong",null,e.next_departure.quota," Pax"))),(0,l.createElement)("div",{className:"w-full bg-gray-200 rounded-full h-4"},(0,l.createElement)("div",{className:"bg-blue-500 h-4 rounded-full transition-all duration-500",style:{width:`${Math.min(e.next_departure.booked_count/e.next_departure.quota*100,100)}%`}}))),(0,l.createElement)("div",null,(0,l.createElement)(xe,{to:"/rooming",className:"bg-white text-blue-600 border border-blue-600 px-4 py-2 rounded text-sm font-bold hover:bg-blue-50"},"Atur Rooming"))):(0,l.createElement)("div",{className:"text-center py-8 text-gray-400 bg-gray-50 rounded border-2 border-dashed"},"Tidak ada jadwal keberangkatan mendatang."),(0,l.createElement)("div",{className:"mt-8"},(0,l.createElement)("h4",{className:"font-bold text-sm text-gray-600 mb-4"},"Tren Penjualan (6 Bulan Terakhir)"),(0,l.createElement)("div",{className:"flex items-end gap-2 h-40 border-b pb-2"},e.chart.series.map((t,a)=>{const r=Math.max(...e.chart.series)||1,s=Math.round(t/r*100);return(0,l.createElement)("div",{key:a,className:"flex-1 flex flex-col items-center group"},(0,l.createElement)("div",{className:"w-full bg-blue-400 rounded-t hover:bg-blue-600 transition-all relative",style:{height:`${s}%`}},(0,l.createElement)("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-black text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap"},n(t))),(0,l.createElement)("span",{className:"text-xs text-gray-500 mt-2 truncate w-full text-center"},e.chart.labels[a]))})))),(0,l.createElement)("div",{className:"bg-white p-6 rounded-lg shadow"},(0,l.createElement)("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2"},(0,l.createElement)(Ge,{className:"h-5 w-5 text-orange-500"})," Tugas Prioritas (7 Hari)"),(0,l.createElement)("div",{className:"space-y-3"},e.pending_tasks.length>0?e.pending_tasks.map(e=>(0,l.createElement)("div",{key:e.id,className:"p-3 border rounded-lg hover:bg-gray-50 bg-white"},(0,l.createElement)("div",{className:"text-sm font-bold text-gray-800"},e.task_name),(0,l.createElement)("div",{className:"text-xs text-gray-500 mt-1 flex justify-between"},(0,l.createElement)("span",null,e.package_name),(0,l.createElement)("span",{className:"text-red-600 font-bold"},"Due: ",e.due_date)))):(0,l.createElement)("p",{className:"text-sm text-gray-500 text-center py-4"},"Tidak ada tugas mendesak. Kerja bagus!"),(0,l.createElement)(xe,{to:"/tasks",className:"block text-center text-sm text-blue-600 font-medium mt-4 hover:underline"},"Lihat Semua Tugas â†’")))))):(0,l.createElement)(Re,{title:"Dashboard"},(0,l.createElement)("div",{className:"p-6"},"Gagal memuat data."));var s},Xe=De("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Ye=De("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),et=De("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),tt={warning:(0,l.createElement)(Ae,{size:20}),success:(0,l.createElement)(Xe,{size:20}),error:(0,l.createElement)(Ye,{size:20}),info:(0,l.createElement)(et,{size:20})},at={warning:"bg-yellow-100 border-yellow-400 text-yellow-800",success:"bg-green-100 border-green-400 text-green-800",error:"bg-red-100 border-red-400 text-red-800",info:"bg-blue-100 border-blue-400 text-blue-800"},lt=({type:e="info",message:t})=>t?(0,l.createElement)("div",{className:`border-l-4 p-4 rounded-md ${at[e]}`,role:"alert"},(0,l.createElement)("div",{className:"flex items-center"},(0,l.createElement)("div",{className:"flex-shrink-0"},tt[e]),(0,l.createElement)("div",{className:"ml-3"},(0,l.createElement)("p",{className:"text-sm font-medium"},t)))):null,rt=()=>{const[e,t]=(0,l.useState)(!1),[a,r]=(0,l.useState)(null),[n,s]=(0,l.useState)(null),[o,c]=(0,l.useState)([]),[i,m]=(0,l.useState)([]),[d,u]=(0,l.useState)(null),[p,g]=(0,l.useState)({departure_id:"",agent_id:"",contact_name:"",contact_phone:"",contact_email:"",passengers:[{full_name:"",nik:"",gender:"L",phone:"",room_type:"quad",existing_id:""}]});(0,l.useEffect)(()=>{h()},[]);const h=async()=>{try{const e=await ke("/umh/v1/bookings/departures");e.data&&c(e.data);const t=await ke("/umh/v1/bookings/agents-list");t.data&&m(t.data)}catch(e){console.error("Gagal load data",e)}},b=e=>{g({...p,[e.target.name]:e.target.value})},f=(e,t,a)=>{const l=[...p.passengers];l[e][t]=a,g({...p,passengers:l})},E=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(e);return(0,l.createElement)(Re,{title:"Buat Booking Baru (Group)"},(0,l.createElement)("div",{className:"max-w-6xl mx-auto"},a&&(0,l.createElement)(lt,{type:"error",message:a}),n&&(0,l.createElement)(lt,{type:"success",message:n}),(0,l.createElement)("form",{onSubmit:async e=>{e.preventDefault(),t(!0),r(null);try{const e=await _e("/umh/v1/bookings/create",p);e.data&&e.data.success&&s(`Booking Berhasil! Kode: ${e.data.booking_code}`)}catch(e){r(e.response?.data?.message||"Terjadi kesalahan sistem")}finally{t(!1)}},className:"space-y-6"},(0,l.createElement)("div",{className:"bg-white p-6 rounded shadow"},(0,l.createElement)("h3",{className:"text-lg font-bold mb-4 border-b pb-2"},"1. Jadwal & Referensi"),(0,l.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Paket & Tanggal"),(0,l.createElement)("select",{className:"w-full border rounded p-2",onChange:e=>{const t=e.target.value,a=o.find(e=>e.id==t);u(a),g({...p,departure_id:t})},required:!0},(0,l.createElement)("option",{value:""},"-- Pilih Keberangkatan --"),o.map(e=>(0,l.createElement)("option",{key:e.id,value:e.id},e.departure_date," - ",e.package_name," (Sisa: ",e.available_seats,")")))),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Agen / Mitra (Opsional)"),(0,l.createElement)("select",{name:"agent_id",className:"w-full border rounded p-2 bg-yellow-50",onChange:b},(0,l.createElement)("option",{value:""},"-- Tanpa Agen (Penjualan Pusat) --"),i.map(e=>(0,l.createElement)("option",{key:e.id,value:e.id},e.display_name," (",e.agent_code,")"))),(0,l.createElement)("p",{className:"text-xs text-gray-500 mt-1"},"Komisi akan dihitung otomatis sesuai level agen.")),d&&(0,l.createElement)("div",{className:"col-span-2 bg-blue-50 p-4 rounded text-sm grid grid-cols-3 gap-4"},(0,l.createElement)("p",null,(0,l.createElement)("strong",null,"Quad:")," ",E(d.price_quad)),(0,l.createElement)("p",null,(0,l.createElement)("strong",null,"Triple:")," ",E(d.price_triple)),(0,l.createElement)("p",null,(0,l.createElement)("strong",null,"Double:")," ",E(d.price_double))))),(0,l.createElement)("div",{className:"bg-white p-6 rounded shadow"},(0,l.createElement)("h3",{className:"text-lg font-bold mb-4 border-b pb-2"},"2. Penanggung Jawab (Ketua Rombongan)"),(0,l.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium"},"Nama Lengkap"),(0,l.createElement)("input",{name:"contact_name",onChange:b,className:"w-full border p-2 rounded",required:!0})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium"},"No. WhatsApp"),(0,l.createElement)("input",{name:"contact_phone",onChange:b,className:"w-full border p-2 rounded",required:!0})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium"},"Email"),(0,l.createElement)("input",{name:"contact_email",type:"email",onChange:b,className:"w-full border p-2 rounded"})))),(0,l.createElement)("div",{className:"bg-white p-6 rounded shadow"},(0,l.createElement)("div",{className:"flex justify-between items-center mb-4 border-b pb-2"},(0,l.createElement)("h3",{className:"text-lg font-bold"},"3. Daftar Jemaah"),(0,l.createElement)("button",{type:"button",onClick:()=>{g({...p,passengers:[...p.passengers,{full_name:"",nik:"",gender:"L",phone:"",room_type:"quad"}]})},className:"bg-green-600 text-white px-3 py-1 rounded text-sm"},"+ Tambah Jemaah")),p.passengers.map((e,t)=>(0,l.createElement)("div",{key:t,className:"mb-4 p-4 border rounded bg-gray-50 relative"},(0,l.createElement)("span",{className:"absolute top-2 left-2 bg-gray-200 px-2 py-0.5 text-xs rounded font-bold"},"#",t+1),p.passengers.length>1&&(0,l.createElement)("button",{type:"button",onClick:()=>(e=>{if(1===p.passengers.length)return;const t=p.passengers.filter((t,a)=>a!==e);g({...p,passengers:t})})(t),className:"absolute top-2 right-2 text-red-500 text-sm"},"Hapus"),(0,l.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-xs font-bold text-gray-500 uppercase"},"NIK"),(0,l.createElement)("input",{value:e.nik,onChange:e=>f(t,"nik",e.target.value),className:"w-full border p-2 rounded",placeholder:"NIK"})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-xs font-bold text-gray-500 uppercase"},"Nama Lengkap"),(0,l.createElement)("input",{value:e.full_name,onChange:e=>f(t,"full_name",e.target.value),className:"w-full border p-2 rounded",required:!0})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-xs font-bold text-gray-500 uppercase"},"Gender"),(0,l.createElement)("select",{value:e.gender,onChange:e=>f(t,"gender",e.target.value),className:"w-full border p-2 rounded"},(0,l.createElement)("option",{value:"L"},"Laki-laki"),(0,l.createElement)("option",{value:"P"},"Perempuan"))),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-xs font-bold text-gray-500 uppercase"},"Tipe Kamar"),(0,l.createElement)("select",{value:e.room_type,onChange:e=>f(t,"room_type",e.target.value),className:"w-full border p-2 rounded"},(0,l.createElement)("option",{value:"quad"},"Quad"),(0,l.createElement)("option",{value:"triple"},"Triple"),(0,l.createElement)("option",{value:"double"},"Double"))))))),(0,l.createElement)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t p-4 shadow-lg md:pl-64 z-10"},(0,l.createElement)("div",{className:"max-w-6xl mx-auto flex justify-between items-center"},(0,l.createElement)("div",null,(0,l.createElement)("p",{className:"text-gray-500 text-sm"},"Total Estimasi (",p.passengers.length," Pax):"),(0,l.createElement)("p",{className:"text-2xl font-bold text-blue-600"},E((()=>{if(!d)return 0;let e=0;return p.passengers.forEach(t=>{"quad"===t.room_type&&(e+=parseInt(d.price_quad)),"triple"===t.room_type&&(e+=parseInt(d.price_triple)),"double"===t.room_type&&(e+=parseInt(d.price_double))}),e})()))),(0,l.createElement)("button",{type:"submit",disabled:e||!d,className:"px-6 py-3 rounded font-bold text-white "+(e?"bg-gray-400":"bg-blue-600 hover:bg-blue-700")},e?"Memproses...":"Buat Booking Sekarang"))),(0,l.createElement)("div",{className:"h-24"}))))};function nt({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const st=l.forwardRef(nt);function ot({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const ct=l.forwardRef(ot);function it({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const mt=l.forwardRef(it),dt=()=>{const[e,t]=(0,l.useState)([]),[a,r]=(0,l.useState)(!0);(0,l.useEffect)(()=>{n()},[]);const n=async()=>{r(!0);try{const e=await ke("/umh/v1/bookings");t(e.data)}catch(e){console.error("Gagal load data",e)}finally{r(!1)}},s=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(e),o=e=>e?new Date(e).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"-";return(0,l.createElement)(Re,{title:"Data Transaksi Booking"},(0,l.createElement)("div",{className:"bg-white rounded shadow p-6"},(0,l.createElement)("div",{className:"flex justify-between items-center mb-6"},(0,l.createElement)("div",{className:"flex items-center gap-2 text-gray-600"},(0,l.createElement)(st,{className:"h-6 w-6"}),(0,l.createElement)("span",null,"Daftar seluruh transaksi masuk.")),(0,l.createElement)(xe,{to:"/bookings/create",className:"bg-blue-600 text-white px-4 py-2 rounded flex items-center gap-2 hover:bg-blue-700"},(0,l.createElement)(ct,{className:"h-5 w-5"})," Buat Booking Baru")),a?(0,l.createElement)(Ke,null):(0,l.createElement)("div",{className:"overflow-x-auto"},(0,l.createElement)("table",{className:"w-full border-collapse text-sm"},(0,l.createElement)("thead",null,(0,l.createElement)("tr",{className:"bg-gray-100 text-left text-gray-600 border-b"},(0,l.createElement)("th",{className:"p-3"},"Kode Booking"),(0,l.createElement)("th",{className:"p-3"},"Tgl Booking"),(0,l.createElement)("th",{className:"p-3"},"Kontak (Ketua)"),(0,l.createElement)("th",{className:"p-3"},"Paket & Keberangkatan"),(0,l.createElement)("th",{className:"p-3 text-center"},"Jemaah"),(0,l.createElement)("th",{className:"p-3 text-right"},"Total Tagihan"),(0,l.createElement)("th",{className:"p-3 text-right"},"Sudah Bayar"),(0,l.createElement)("th",{className:"p-3 text-center"},"Status Bayar"),(0,l.createElement)("th",{className:"p-3 text-center"},"Aksi"))),(0,l.createElement)("tbody",null,0===e.length?(0,l.createElement)("tr",null,(0,l.createElement)("td",{colSpan:"9",className:"p-6 text-center text-gray-500"},"Belum ada data transaksi.")):e.map(e=>{return(0,l.createElement)("tr",{key:e.id,className:"border-b hover:bg-gray-50"},(0,l.createElement)("td",{className:"p-3 font-mono font-bold text-blue-600"},e.booking_code),(0,l.createElement)("td",{className:"p-3"},o(e.booking_date)),(0,l.createElement)("td",{className:"p-3"},(0,l.createElement)("div",{className:"font-bold"},e.contact_name),(0,l.createElement)("div",{className:"text-xs text-gray-500"},e.contact_phone)),(0,l.createElement)("td",{className:"p-3"},(0,l.createElement)("div",{className:"font-medium"},e.package_name),(0,l.createElement)("div",{className:"text-xs text-gray-500"},"Tgl: ",o(e.departure_date))),(0,l.createElement)("td",{className:"p-3 text-center"},(0,l.createElement)("span",{className:"bg-gray-200 px-2 py-1 rounded text-xs font-bold"},e.total_pax," Pax")),(0,l.createElement)("td",{className:"p-3 text-right font-medium"},s(e.total_price)),(0,l.createElement)("td",{className:"p-3 text-right text-gray-600"},s(e.total_paid)),(0,l.createElement)("td",{className:"p-3 text-center"},(t=e.payment_status,(0,l.createElement)("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase ${{unpaid:"bg-red-100 text-red-800",partial:"bg-yellow-100 text-yellow-800",paid:"bg-green-100 text-green-800",overpaid:"bg-purple-100 text-purple-800"}[t]||"bg-gray-100"}`},t))),(0,l.createElement)("td",{className:"p-3 text-center"},(0,l.createElement)("button",{className:"text-blue-600 hover:text-blue-800",title:"Lihat Detail"},(0,l.createElement)(mt,{className:"h-5 w-5"}))));var t}))))))};function ut({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const pt=l.forwardRef(ut);function gt({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const ht=l.forwardRef(gt);function bt({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const ft=l.forwardRef(bt);function Et({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const xt=l.forwardRef(Et);function vt({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const yt=l.forwardRef(vt);function Nt({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const wt=l.forwardRef(Nt),kt=()=>{const[e,t]=(0,l.useState)("list"),[a,r]=(0,l.useState)(!1),[n,s]=(0,l.useState)([]),[o,c]=(0,l.useState)(null),[i,m]=(0,l.useState)(null),d={name:"",type:"umrah",duration_days:9,description:"",included_facilities:["Tiket Pesawat PP","Visa Umrah","Hotel","Makan 3x Sehari","Transportasi Bus AC","Muthawif Profesional"],excluded_facilities:["Pembuatan Paspor","Vaksin Meningitis","Pengeluaran Pribadi","Laundry"],itinerary:[],status:"active"},[u,p]=(0,l.useState)(d),[g,h]=(0,l.useState)(null);(0,l.useEffect)(()=>{"list"===e&&b()},[e]);const b=async()=>{r(!0);try{const e=await ke("/umh/v1/packages");s(e.data)}catch(e){console.error(e)}finally{r(!1)}},f=e=>p({...u,[e.target.name]:e.target.value}),E=(e,t,a)=>{const l=[...u[e]];l[t]=a,p({...u,[e]:l})},x=e=>p({...u,[e]:[...u[e],""]}),v=(e,t)=>{const a=u[e].filter((e,a)=>a!==t);p({...u,[e]:a})},y=(e,t,a)=>{const l=[...u.itinerary];l[e][t]=a,p({...u,itinerary:l})};return"list"===e?(0,l.createElement)(Re,{title:"Katalog Paket Travel"},(0,l.createElement)("div",{className:"bg-white rounded shadow p-6"},(0,l.createElement)("div",{className:"flex justify-between items-center mb-6"},(0,l.createElement)("div",{className:"flex items-center gap-2 text-gray-600"},(0,l.createElement)(pt,{className:"h-6 w-6"}),(0,l.createElement)("span",null,"Kelola template produk paket Anda di sini.")),(0,l.createElement)("button",{onClick:()=>{p(d);const e=Array.from({length:9},(e,t)=>({day_number:t+1,title:`Hari ke-${t+1}`,description:"",meal_plan:"B/L/D"}));p(t=>({...t,itinerary:e})),h(null),t("create")},className:"bg-blue-600 text-white px-4 py-2 rounded flex items-center gap-2 hover:bg-blue-700"},(0,l.createElement)(ct,{className:"h-5 w-5"})," Buat Paket Baru")),a?(0,l.createElement)(Ke,null):(0,l.createElement)("div",{className:"overflow-x-auto"},(0,l.createElement)("table",{className:"w-full border-collapse"},(0,l.createElement)("thead",null,(0,l.createElement)("tr",{className:"bg-gray-100 text-left text-sm text-gray-600"},(0,l.createElement)("th",{className:"p-3 border-b"},"Nama Paket"),(0,l.createElement)("th",{className:"p-3 border-b"},"Tipe"),(0,l.createElement)("th",{className:"p-3 border-b"},"Durasi"),(0,l.createElement)("th",{className:"p-3 border-b"},"Status"),(0,l.createElement)("th",{className:"p-3 border-b text-center"},"Aksi"))),(0,l.createElement)("tbody",null,0===n.length?(0,l.createElement)("tr",null,(0,l.createElement)("td",{colSpan:"5",className:"p-4 text-center text-gray-500"},"Belum ada paket.")):n.map(e=>(0,l.createElement)("tr",{key:e.id,className:"border-b hover:bg-gray-50"},(0,l.createElement)("td",{className:"p-3 font-medium"},e.name),(0,l.createElement)("td",{className:"p-3 uppercase text-xs font-bold text-gray-500"},e.type),(0,l.createElement)("td",{className:"p-3"},e.duration_days," Hari"),(0,l.createElement)("td",{className:"p-3"},(0,l.createElement)("span",{className:"px-2 py-1 rounded text-xs "+("active"===e.status?"bg-green-100 text-green-800":"bg-gray-200")},e.status)),(0,l.createElement)("td",{className:"p-3 flex justify-center gap-2"},(0,l.createElement)("button",{onClick:()=>(async e=>{r(!0);try{const a=await ke(`/umh/v1/packages/${e}`);p(a.data),h(e),t("edit")}catch(e){c("Gagal mengambil data paket")}finally{r(!1)}})(e.id),className:"text-blue-600 hover:text-blue-800"},(0,l.createElement)(ht,{className:"h-5 w-5"})),(0,l.createElement)("button",{onClick:()=>(async e=>{if(window.confirm("Yakin hapus paket ini? Jadwal keberangkatan terkait mungkin akan error."))try{await Se(`/umh/v1/packages/${e}`),b()}catch(e){alert("Gagal menghapus")}})(e.id),className:"text-red-600 hover:text-red-800"},(0,l.createElement)(ft,{className:"h-5 w-5"})))))))))):(0,l.createElement)(Re,{title:"create"===e?"Buat Paket Baru":"Edit Paket"},(0,l.createElement)("div",{className:"max-w-5xl mx-auto bg-white rounded shadow-lg p-6"},(0,l.createElement)("button",{onClick:()=>t("list"),className:"mb-4 text-gray-500 flex items-center gap-1 hover:text-gray-800"},(0,l.createElement)(xt,{className:"h-4 w-4"})," Kembali ke Daftar"),o&&(0,l.createElement)(lt,{type:"error",message:o}),i&&(0,l.createElement)(lt,{type:"success",message:i}),(0,l.createElement)("form",{onSubmit:async a=>{a.preventDefault(),r(!0);try{"create"===e?(await _e("/umh/v1/packages",u),m("Paket berhasil dibuat!")):(await Ce(`/umh/v1/packages/${g}`,u),m("Paket berhasil diupdate!")),setTimeout(()=>{m(null),t("list")},1500)}catch(e){c(e.response?.data?.message||"Terjadi kesalahan")}finally{r(!1)}},className:"space-y-8"},(0,l.createElement)("div",{className:"border-b pb-6"},(0,l.createElement)("h3",{className:"text-lg font-bold mb-4 text-gray-800"},"1. Informasi Dasar"),(0,l.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,l.createElement)("div",{className:"col-span-2"},(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Nama Paket"),(0,l.createElement)("input",{name:"name",value:u.name,onChange:f,className:"w-full border p-2 rounded",placeholder:"Contoh: Umrah Reguler 9 Hari Hemat",required:!0})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Tipe Paket"),(0,l.createElement)("select",{name:"type",value:u.type,onChange:f,className:"w-full border p-2 rounded"},(0,l.createElement)("option",{value:"umrah"},"Umrah"),(0,l.createElement)("option",{value:"haji"},"Haji"),(0,l.createElement)("option",{value:"tour"},"Wisata Halal"))),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Durasi (Hari)"),(0,l.createElement)("div",{className:"flex gap-2"},(0,l.createElement)("input",{type:"number",name:"duration_days",value:u.duration_days,onChange:f,className:"w-full border p-2 rounded",min:"1"}),(0,l.createElement)("button",{type:"button",onClick:()=>{if(!window.confirm("Reset Itinerary sesuai durasi hari? Data lama akan hilang."))return;const e=Array.from({length:u.duration_days},(e,t)=>({day_number:t+1,title:`Hari ke-${t+1}`,description:"",meal_plan:"B/L/D"}));p({...u,itinerary:e})},className:"bg-yellow-100 text-yellow-800 px-3 text-xs rounded whitespace-nowrap hover:bg-yellow-200"},"Reset Itinerary"))),(0,l.createElement)("div",{className:"col-span-2"},(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Deskripsi Singkat"),(0,l.createElement)("textarea",{name:"description",value:u.description,onChange:f,className:"w-full border p-2 rounded h-20"})))),(0,l.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 border-b pb-6"},(0,l.createElement)("div",null,(0,l.createElement)("h3",{className:"text-md font-bold mb-2 flex items-center gap-2 text-green-700"},(0,l.createElement)(yt,{className:"h-5 w-5"})," Termasuk (Included)"),u.included_facilities.map((e,t)=>(0,l.createElement)("div",{key:t,className:"flex gap-2 mb-2"},(0,l.createElement)("input",{value:e,onChange:e=>E("included_facilities",t,e.target.value),className:"w-full border p-2 rounded text-sm"}),(0,l.createElement)("button",{type:"button",onClick:()=>v("included_facilities",t),className:"text-red-500"},"x"))),(0,l.createElement)("button",{type:"button",onClick:()=>x("included_facilities"),className:"text-sm text-blue-600 hover:underline"},"+ Tambah Item")),(0,l.createElement)("div",null,(0,l.createElement)("h3",{className:"text-md font-bold mb-2 flex items-center gap-2 text-red-700"},(0,l.createElement)(wt,{className:"h-5 w-5"})," Tidak Termasuk (Excluded)"),u.excluded_facilities.map((e,t)=>(0,l.createElement)("div",{key:t,className:"flex gap-2 mb-2"},(0,l.createElement)("input",{value:e,onChange:e=>E("excluded_facilities",t,e.target.value),className:"w-full border p-2 rounded text-sm"}),(0,l.createElement)("button",{type:"button",onClick:()=>v("excluded_facilities",t),className:"text-red-500"},"x"))),(0,l.createElement)("button",{type:"button",onClick:()=>x("excluded_facilities"),className:"text-sm text-blue-600 hover:underline"},"+ Tambah Item"))),(0,l.createElement)("div",null,(0,l.createElement)("h3",{className:"text-lg font-bold mb-4 text-gray-800"},"3. Rencana Perjalanan (Itinerary)"),(0,l.createElement)("div",{className:"space-y-4"},u.itinerary.map((e,t)=>(0,l.createElement)("div",{key:t,className:"bg-gray-50 border p-4 rounded flex gap-4 items-start"},(0,l.createElement)("div",{className:"bg-blue-600 text-white w-12 h-12 flex items-center justify-center rounded-full font-bold text-lg flex-shrink-0"},e.day_number),(0,l.createElement)("div",{className:"flex-grow grid grid-cols-1 md:grid-cols-2 gap-3"},(0,l.createElement)("div",{className:"col-span-2 md:col-span-1"},(0,l.createElement)("label",{className:"text-xs font-bold text-gray-500"},"Judul Kegiatan"),(0,l.createElement)("input",{value:e.title,onChange:e=>y(t,"title",e.target.value),className:"w-full border p-2 rounded",placeholder:"Contoh: Tiba di Jeddah"})),(0,l.createElement)("div",{className:"col-span-2 md:col-span-1"},(0,l.createElement)("label",{className:"text-xs font-bold text-gray-500"},"Meal Plan (Makan)"),(0,l.createElement)("input",{value:e.meal_plan,onChange:e=>y(t,"meal_plan",e.target.value),className:"w-full border p-2 rounded",placeholder:"B/L/D"})),(0,l.createElement)("div",{className:"col-span-2"},(0,l.createElement)("label",{className:"text-xs font-bold text-gray-500"},"Deskripsi Detail"),(0,l.createElement)("textarea",{value:e.description,onChange:e=>y(t,"description",e.target.value),className:"w-full border p-2 rounded h-20 text-sm",placeholder:"Jelaskan aktivitas jamaah hari ini..."}))))))),(0,l.createElement)("div",{className:"sticky bottom-0 bg-white p-4 border-t flex justify-end gap-3"},(0,l.createElement)("button",{type:"button",onClick:()=>t("list"),className:"px-4 py-2 border rounded text-gray-600 hover:bg-gray-100"},"Batal"),(0,l.createElement)("button",{type:"submit",disabled:a,className:"px-6 py-2 bg-blue-600 text-white rounded font-bold hover:bg-blue-700"},a?"Menyimpan...":"Simpan Paket")))))},_t=De("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),Ct=De("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),St=De("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]),jt=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Lt=({columns:e,data:t=[],loading:a,sortBy:r,onSort:n,onEdit:s,onDelete:o,renderRowActions:c,userCapabilities:i=[],editCapability:m,deleteCapability:d})=>{const u=Array.isArray(t)?t:[],p=e=>!e||!!i&&(!!("super_admin"===i||Array.isArray(i)&&i.includes("manage_options"))||Array.isArray(i)&&i.includes(e)),g=p(m),h=p(d);return a&&0===u.length?(0,l.createElement)("div",{className:"flex justify-center items-center p-12 bg-white rounded-lg shadow"},(0,l.createElement)(Ke,{text:"Sedang memuat data..."})):0===u.length?(0,l.createElement)("div",{className:"text-center p-12 bg-white rounded-lg shadow border border-gray-100"},(0,l.createElement)("p",{className:"text-gray-500"},"Tidak ada data ditemukan.")):(0,l.createElement)("div",{className:"overflow-x-auto bg-white rounded-lg shadow border border-gray-200"},(0,l.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,l.createElement)("thead",{className:"bg-gray-50"},(0,l.createElement)("tr",null,e.map(e=>(0,l.createElement)("th",{key:e.accessor||e.header,scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>e.sortable&&n&&n(e.accessor)},(0,l.createElement)("div",{className:"flex items-center gap-1"},e.Header||e.header,e.sortable&&r&&(0,l.createElement)("span",{className:"inline-block"},r.field===e.accessor?"asc"===r.order?(0,l.createElement)(_t,{size:14}):(0,l.createElement)(Ct,{size:14}):(0,l.createElement)(_t,{size:14,className:"text-gray-300"}))))),(s||o||c)&&(0,l.createElement)("th",{scope:"col",className:"relative px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi"))),(0,l.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},a&&(0,l.createElement)("tr",null,(0,l.createElement)("td",{colSpan:e.length+1,className:"p-2 bg-blue-50"},(0,l.createElement)("div",{className:"flex justify-center items-center text-blue-600 text-xs"},(0,l.createElement)(Ke,{size:16,text:"Memperbarui data..."})))),u.map((t,a)=>(0,l.createElement)("tr",{key:t.id||a,className:"hover:bg-gray-50 transition-colors"},e.map(e=>(0,l.createElement)("td",{key:e.accessor||a,className:`px-6 py-4 whitespace-nowrap text-sm text-gray-700 ${e.className||""}`},e.render?e.render(t,a):void 0!==t[e.accessor]&&null!==t[e.accessor]?t[e.accessor]:"-")),(s||o||c)&&(0,l.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-3"},c&&c(t),s&&g&&(0,l.createElement)("button",{onClick:()=>s(t),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"Edit"},(0,l.createElement)(St,{size:18})),o&&h&&(0,l.createElement)("button",{onClick:()=>o(t),className:"text-red-600 hover:text-red-900 transition-colors",title:"Hapus"},(0,l.createElement)(jt,{size:18}))))))))};function Pt({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const Mt=l.forwardRef(Pt),Dt=()=>{const[e,t]=(0,l.useState)([]),[a,r]=(0,l.useState)([]),[n,s]=(0,l.useState)([]);(0,l.useEffect)(()=>{(async()=>{try{const e=await ke("/umh/v1/packages"),a=await ke("/umh/v1/hotels"),l=await ke("/umh/v1/masters/airlines");e.data&&t(e.data.map(e=>({value:e.id,label:e.name}))),a.data&&r(a.data.map(e=>({value:e.id,label:`${e.name} (${e.city})`}))),l.data&&s(l.data.map(e=>({value:e.id,label:`${e.name} (${e.code})`})))}catch(e){console.error("Gagal load referensi",e)}})()},[]);const o=[{header:"Tanggal",accessor:"departure_date",render:(e,t)=>(0,l.createElement)("div",null,(0,l.createElement)("div",{className:"font-bold flex items-center gap-1"},(0,l.createElement)(Ze,{className:"h-4 w-4 text-gray-500"})," ",e),(0,l.createElement)("div",{className:"text-xs text-gray-500"},"Pulang: ",t.return_date))},{header:"Paket",accessor:"package_name"},{header:"Hotel & Maskapai",accessor:"id",render:(e,t)=>(0,l.createElement)("div",{className:"text-xs"},(0,l.createElement)("div",{className:"flex items-center gap-1"},(0,l.createElement)(Mt,{className:"h-3 w-3"})," Mk: ",t.hotel_makkah_name||"-"),(0,l.createElement)("div",{className:"flex items-center gap-1"},(0,l.createElement)(Mt,{className:"h-3 w-3"})," Md: ",t.hotel_madinah_name||"-"),(0,l.createElement)("div",{className:"mt-1 font-semibold text-blue-600"},t.airline_name||"-"))},{header:"Harga (Quad)",accessor:"price_quad",render:e=>(0,l.createElement)("span",{className:"font-bold text-green-700"},(e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(e))(e))},{header:"Seat",accessor:"available_seats",render:(e,t)=>(0,l.createElement)("div",{className:"text-center"},(0,l.createElement)("span",{className:"px-2 py-1 rounded text-xs font-bold "+(e>10?"bg-green-100 text-green-800":"bg-red-100 text-red-800")},e," / ",t.quota))},{header:"Status",accessor:"status",render:e=>"open"===e?(0,l.createElement)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs uppercase"},"Open"):(0,l.createElement)("span",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded text-xs uppercase"},e)}],c=[{name:"package_id",label:"Pilih Paket Dasar",type:"select",options:e,required:!0},{name:"departure_date",label:"Tanggal Berangkat",type:"date",required:!0},{name:"return_date",label:"Tanggal Pulang",type:"date",required:!0},{name:"airline_id",label:"Maskapai Penerbangan",type:"select",options:n},{name:"hotel_makkah_id",label:"Hotel Makkah",type:"select",options:a.filter(e=>e.label.includes("Makkah"))},{name:"hotel_madinah_id",label:"Hotel Madinah",type:"select",options:a.filter(e=>e.label.includes("Madinah"))},{name:"quota",label:"Total Kuota Seat",type:"number",defaultValue:45},{name:"price_quad",label:"Harga Quad (Sekamar Ber-4)",type:"number",placeholder:"Contoh: 28500000",required:!0},{name:"price_triple",label:"Harga Triple (Sekamar Ber-3)",type:"number",placeholder:"Contoh: 30500000"},{name:"price_double",label:"Harga Double (Sekamar Ber-2)",type:"number",placeholder:"Contoh: 32500000"},{name:"status",label:"Status Penjualan",type:"select",options:[{value:"open",label:"Open (Buka)"},{value:"closed",label:"Closed (Tutup)"},{value:"departed",label:"Departed (Sudah Berangkat)"}]}];return(0,l.createElement)(Re,{title:"Jadwal Keberangkatan (Inventory)"},(0,l.createElement)("div",{className:"bg-white rounded-lg shadow p-6"},(0,l.createElement)("div",{className:"mb-6 flex items-start gap-4 bg-blue-50 p-4 rounded-lg text-sm text-blue-800"},(0,l.createElement)(Je,{className:"h-6 w-6 flex-shrink-0"}),(0,l.createElement)("div",null,(0,l.createElement)("p",{className:"font-bold"},"Manajemen Inventory"),(0,l.createElement)("p",null,"Di sini Anda mengatur tanggal keberangkatan spesifik. Pastikan Anda sudah membuat ",(0,l.createElement)("strong",null,"Master Paket"),", ",(0,l.createElement)("strong",null,"Hotel"),", dan ",(0,l.createElement)("strong",null,"Maskapai")," terlebih dahulu agar muncul di pilihan."))),(0,l.createElement)(Lt,{endpoint:"/umh/v1/departures",columns:o,formFields:c,title:"Daftar Keberangkatan"})))};function At({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const Bt=l.forwardRef(At);function It({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const Rt=l.forwardRef(It),Tt=()=>{const e=[{header:"Nama Hotel",accessor:"name",render:(e,t)=>(0,l.createElement)("div",null,(0,l.createElement)("div",{className:"font-bold text-gray-800"},e),t.map_url&&(0,l.createElement)("a",{href:t.map_url,target:"_blank",rel:"noreferrer",className:"text-xs text-blue-500 flex items-center hover:underline"},(0,l.createElement)(Rt,{className:"h-3 w-3 mr-1"})," Lihat Peta"))},{header:"Kota",accessor:"city",render:e=>"Makkah"===e?(0,l.createElement)("span",{className:"bg-black text-white px-2 py-1 rounded text-xs"},"Makkah"):(0,l.createElement)("span",{className:"bg-green-600 text-white px-2 py-1 rounded text-xs"},"Madinah")},{header:"Bintang",accessor:"star_rating",render:e=>{return t=e,(0,l.createElement)("div",{className:"flex text-yellow-400"},[...Array(parseInt(t))].map((e,t)=>(0,l.createElement)(Bt,{key:t,className:"h-4 w-4"})));var t}},{header:"Jarak ke Haram",accessor:"distance_to_haram",render:e=>e>0?`${e} meter`:"-"}];return(0,l.createElement)(Re,{title:"Data Hotel Rekanan"},(0,l.createElement)("div",{className:"bg-white rounded-lg shadow p-6"},(0,l.createElement)("div",{className:"mb-6 bg-yellow-50 border-l-4 border-yellow-400 p-4 text-sm text-yellow-800"},(0,l.createElement)("p",{className:"font-bold"},"Tips:"),(0,l.createElement)("p",null,"Masukkan data hotel dengan lengkap (termasuk jarak). Data ini akan otomatis muncul saat Anda membuat Paket Umrah atau Jadwal Keberangkatan.")),(0,l.createElement)(Lt,{endpoint:"/umh/v1/hotels",columns:e,formFields:[{name:"name",label:"Nama Hotel",type:"text",required:!0,placeholder:"Contoh: Anjum Hotel Makkah"},{name:"city",label:"Lokasi Kota",type:"select",options:[{value:"Makkah",label:"Makkah"},{value:"Madinah",label:"Madinah"},{value:"Jeddah",label:"Jeddah"},{value:"Lainnya",label:"Lainnya"}],required:!0},{name:"star_rating",label:"Rating Bintang",type:"select",options:[{value:"5",label:"â­â­â­â­â­ (5 Bintang)"},{value:"4",label:"â­â­â­â­ (4 Bintang)"},{value:"3",label:"â­â­â­ (3 Bintang)"}]},{name:"distance_to_haram",label:"Jarak ke Masjid (Meter)",type:"number",placeholder:"0"},{name:"map_url",label:"Link Google Maps (Opsional)",type:"text",placeholder:"https://maps.google.com/..."}],title:"Daftar Hotel"})))},Kt=({isOpen:e,onClose:t,title:a,children:r,size:n="max-w-2xl",footer:s})=>((0,l.useEffect)(()=>{const e=e=>{27===e.keyCode&&t()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t]),e?(0,l.createElement)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-start pt-10",onClick:e=>{e.target===e.currentTarget&&t()}},(0,l.createElement)("div",{className:`bg-white rounded-lg shadow-xl w-full ${n} m-4 flex flex-col max-h-[90vh]`},(0,l.createElement)("div",{className:"flex justify-between items-center p-4 border-b"},(0,l.createElement)("h3",{className:"text-xl font-semibold text-gray-800"},a),(0,l.createElement)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100 transition-colors"},(0,l.createElement)(Be,{size:20}))),(0,l.createElement)("div",{className:"p-6 overflow-y-auto"},r),s&&(0,l.createElement)("div",{className:"flex justify-end items-center p-4 border-t space-x-2 bg-gray-50 rounded-b-lg"},s))):null);let $t={data:""},Ht=e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||$t},Ot=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ut=/\/\*[^]*?\*\/|  +/g,zt=/\n+/g,qt=(e,t)=>{let a="",l="",r="";for(let n in e){let s=e[n];"@"==n[0]?"i"==n[1]?a=n+" "+s+";":l+="f"==n[1]?qt(s,n):n+"{"+qt(s,"k"==n[1]?"":t)+"}":"object"==typeof s?l+=qt(s,t?t.replace(/([^,])+/g,e=>n.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):n):null!=s&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=qt.p?qt.p(n,s):n+":"+s+";")}return a+(t&&r?t+"{"+r+"}":r)+l},Wt={},Jt=e=>{if("object"==typeof e){let t="";for(let a in e)t+=a+Jt(e[a]);return t}return e},Vt=(e,t,a,l,r)=>{let n=Jt(e),s=Wt[n]||(Wt[n]=(e=>{let t=0,a=11;for(;t<e.length;)a=101*a+e.charCodeAt(t++)>>>0;return"go"+a})(n));if(!Wt[s]){let t=n!==e?e:(e=>{let t,a,l=[{}];for(;t=Ot.exec(e.replace(Ut,""));)t[4]?l.shift():t[3]?(a=t[3].replace(zt," ").trim(),l.unshift(l[0][a]=l[0][a]||{})):l[0][t[1]]=t[2].replace(zt," ").trim();return l[0]})(e);Wt[s]=qt(r?{["@keyframes "+s]:t}:t,a?"":"."+s)}let o=a&&Wt.g?Wt.g:null;return a&&(Wt.g=Wt[s]),((e,t,a,l)=>{l?t.data=t.data.replace(l,e):-1===t.data.indexOf(e)&&(t.data=a?e+t.data:t.data+e)})(Wt[s],t,l,o),s};function Zt(e){let t=this||{},a=e.call?e(t.p):e;return Vt(a.unshift?a.raw?((e,t,a)=>e.reduce((e,l,r)=>{let n=t[r];if(n&&n.call){let e=n(a),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;n=t?"."+t:e&&"object"==typeof e?e.props?"":qt(e,""):!1===e?"":e}return e+l+(null==n?"":n)},""))(a,[].slice.call(arguments,1),t.p):a.reduce((e,a)=>Object.assign(e,a&&a.call?a(t.p):a),{}):a,Ht(t.target),t.g,t.o,t.k)}Zt.bind({g:1});let Ft,Gt,Qt,Xt=Zt.bind({k:1});function Yt(e,t){let a=this||{};return function(){let l=arguments;function r(n,s){let o=Object.assign({},n),c=o.className||r.className;a.p=Object.assign({theme:Gt&&Gt()},o),a.o=/ *go\d+/.test(c),o.className=Zt.apply(a,l)+(c?" "+c:""),t&&(o.ref=s);let i=e;return e[0]&&(i=o.as||e,delete o.as),Qt&&i[0]&&Qt(o),Ft(i,o)}return t?t(r):r}}var ea=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,ta=(()=>{let e=0;return()=>(++e).toString()})(),aa=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),la="default",ra=(e,t)=>{let{toastLimit:a}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,a)};case 1:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case 2:let{toast:l}=t;return ra(e,{type:e.toasts.find(e=>e.id===l.id)?1:0,toast:l});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,dismissed:!0,visible:!1}:e)};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let n=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+n}))}}},na=[],sa={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},oa={},ca=(e,t=la)=>{oa[t]=ra(oa[t]||sa,e),na.forEach(([e,a])=>{e===t&&a(oa[t])})},ia=e=>Object.keys(oa).forEach(t=>ca(e,t)),ma=(e=la)=>t=>{ca(t,e)},da=e=>(t,a)=>{let l=((e,t="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...a,id:(null==a?void 0:a.id)||ta()}))(t,e,a);return ma(l.toasterId||(e=>Object.keys(oa).find(t=>oa[t].toasts.some(t=>t.id===e)))(l.id))({type:2,toast:l}),l.id},ua=(e,t)=>da("blank")(e,t);ua.error=da("error"),ua.success=da("success"),ua.loading=da("loading"),ua.custom=da("custom"),ua.dismiss=(e,t)=>{let a={type:3,toastId:e};t?ma(t)(a):ia(a)},ua.dismissAll=e=>ua.dismiss(void 0,e),ua.remove=(e,t)=>{let a={type:4,toastId:e};t?ma(t)(a):ia(a)},ua.removeAll=e=>ua.remove(void 0,e),ua.promise=(e,t,a)=>{let l=ua.loading(t.loading,{...a,...null==a?void 0:a.loading});return"function"==typeof e&&(e=e()),e.then(e=>{let r=t.success?ea(t.success,e):void 0;return r?ua.success(r,{id:l,...a,...null==a?void 0:a.success}):ua.dismiss(l),e}).catch(e=>{let r=t.error?ea(t.error,e):void 0;r?ua.error(r,{id:l,...a,...null==a?void 0:a.error}):ua.dismiss(l)}),e};var pa=Xt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ga=Xt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ha=Xt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ba=Yt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pa} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ga} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ha} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,fa=Xt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Ea=Yt("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${fa} 1s linear infinite;
`,xa=Xt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,va=Xt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ya=Yt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${xa} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${va} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Na=Yt("div")`
  position: absolute;
`,wa=Yt("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ka=Xt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_a=Yt("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ka} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Ca=({toast:e})=>{let{icon:t,type:a,iconTheme:r}=e;return void 0!==t?"string"==typeof t?l.createElement(_a,null,t):t:"blank"===a?null:l.createElement(wa,null,l.createElement(Ea,{...r}),"loading"!==a&&l.createElement(Na,null,"error"===a?l.createElement(ba,{...r}):l.createElement(ya,{...r})))},Sa=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,ja=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,La=Yt("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Pa=Yt("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`;l.memo(({toast:e,position:t,style:a,children:r})=>{let n=e.height?((e,t)=>{let a=e.includes("top")?1:-1,[l,r]=aa()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Sa(a),ja(a)];return{animation:t?`${Xt(l)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Xt(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(e.position||t||"top-center",e.visible):{opacity:0},s=l.createElement(Ca,{toast:e}),o=l.createElement(Pa,{...e.ariaProps},ea(e.message,e));return l.createElement(La,{className:e.className,style:{...n,...a,...e.style}},"function"==typeof r?r({icon:s,message:o}):l.createElement(l.Fragment,null,s,o))}),function(e){qt.p=void 0,Ft=e,Gt=void 0,Qt=void 0}(l.createElement),Zt`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var Ma=ua;const Da=(e,t={})=>{const[a,r]=(0,l.useState)([]),[n,s]=(0,l.useState)({current_page:1,total_pages:1,total_items:0}),[o,c]=(0,l.useState)(!1),[i,m]=(0,l.useState)(null),d=(0,l.useCallback)(async(a={})=>{c(!0),m(null);try{const l={...t,...a},n=await ke(e,{params:l});console.log(`[useCRUD] Fetch ${e}:`,n),n&&Array.isArray(n)?r(n):n&&n.items&&Array.isArray(n.items)?(r(n.items),s({current_page:parseInt(n.current_page||1),total_pages:parseInt(n.total_pages||1),total_items:parseInt(n.total_items||0)})):n&&n.data&&Array.isArray(n.data)?r(n.data):(console.warn("[useCRUD] Format data tidak dikenali, set ke array kosong."),r([]))}catch(e){const t=e.response?.data?.message||e.message||"Gagal memuat data";m(t),console.error("Fetch Error:",e)}finally{c(!1)}},[e,JSON.stringify(t)]);return{data:a,pagination:n,loading:o,error:i,fetchData:d,createItem:async t=>{c(!0);const a=Ma.loading("Menyimpan data...");try{return await _e(e,t),Ma.success("Data berhasil disimpan!",{id:a}),await d(),!0}catch(e){const t=e.message||"Gagal menyimpan data";return Ma.error(t,{id:a}),!1}finally{c(!1)}},updateItem:async(t,a)=>{c(!0);const l=Ma.loading("Memperbarui data...");try{return await _e(`${e}/${t}`,a),Ma.success("Data berhasil diperbarui!",{id:l}),await d(),!0}catch(e){const t=e.message||"Gagal memperbarui data";return Ma.error(t,{id:l}),!1}finally{c(!1)}},deleteItem:async t=>{if(!window.confirm("Apakah Anda yakin ingin menghapus data ini?"))return!1;c(!0);const a=Ma.loading("Menghapus data...");try{return await Se(`${e}/${t}`),Ma.success("Data dihapus",{id:a}),r(e=>e.filter(e=>e.id!==t)),await d(),!0}catch(e){const t=e.message||"Gagal menghapus data";return Ma.error(t,{id:a}),!1}finally{c(!1)}}}},Aa=De("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Ba=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ia=()=>{const{user:e}=Le(),{data:t,loading:a,createItem:r,updateItem:n,deleteItem:s}=Da("umh/v1/package-categories"),[o,c]=(0,l.useState)(!1),[i,m]=(0,l.useState)("create"),[d,u]=(0,l.useState)(null),[p,g]=(0,l.useState)({}),h=(e,t=null)=>{m(e),u(t),g(t||{}),c(!0)},b=[{header:"Nama Kategori",accessor:"name",className:"font-bold text-gray-800",sortable:!0},{header:"Slug",accessor:"slug",render:e=>(0,l.createElement)("span",{className:"font-mono text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded border"},e.slug)},{header:"Deskripsi",accessor:"description",className:"text-gray-600"}];return(0,l.createElement)(Re,{title:"Kategori Paket"},(0,l.createElement)("div",{className:"mb-6 bg-gradient-to-r from-purple-600 to-blue-600 p-6 rounded-xl text-white flex justify-between items-center shadow-lg"},(0,l.createElement)("div",null,(0,l.createElement)("h3",{className:"font-bold text-xl mb-1 flex items-center gap-2"},(0,l.createElement)(Aa,null)," Master Data Kategori"),(0,l.createElement)("p",{className:"text-blue-100 text-sm opacity-90"},"Atur varian paket seperti: Ramadhan, Awal Tahun, Furoda, atau Umroh Plus.")),(0,l.createElement)("button",{onClick:()=>h("create"),className:"bg-white text-blue-600 px-5 py-2.5 rounded-lg font-bold flex items-center gap-2 hover:bg-gray-50 shadow-md transition-transform hover:scale-105"},(0,l.createElement)(Ba,{size:18})," Tambah Kategori")),(0,l.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},(0,l.createElement)(Lt,{columns:b,data:t,loading:a,onEdit:e=>h("edit",e),onDelete:s,userCapabilities:e?.role,editCapability:"manage_options",deleteCapability:"manage_options"})),(0,l.createElement)(Kt,{isOpen:o,onClose:()=>c(!1),title:"create"===i?"Tambah Kategori Baru":"Edit Kategori"},(0,l.createElement)("form",{onSubmit:async e=>{e.preventDefault(),!p.slug&&p.name&&(p.slug=p.name.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"")),("create"===i?await r(p):await n(d.id,p))&&c(!1)},className:"space-y-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Nama Kategori"),(0,l.createElement)("input",{type:"text",className:"input-field",placeholder:"Contoh: Umroh Ramadhan",value:p.name||"",onChange:e=>g({...p,name:e.target.value}),required:!0})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Slug (Opsional)"),(0,l.createElement)("input",{type:"text",className:"input-field bg-gray-50",placeholder:"umroh-ramadhan (Auto generate jika kosong)",value:p.slug||"",onChange:e=>g({...p,slug:e.target.value})})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Deskripsi"),(0,l.createElement)("textarea",{className:"input-field",rows:"3",value:p.description||"",onChange:e=>g({...p,description:e.target.value})})),(0,l.createElement)("div",{className:"flex justify-end gap-2 pt-4 border-t"},(0,l.createElement)("button",{type:"button",onClick:()=>c(!1),className:"btn-secondary"},"Batal"),(0,l.createElement)("button",{type:"submit",className:"btn-primary"},"Simpan")))))},Ra=De("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]),Ta=De("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Ka=()=>{const{data:e,loading:t,fetchData:a,createItem:r,updateItem:n,deleteItem:s}=Da("umh/v1/flights"),[o,c]=(0,l.useState)(!1),[i,m]=(0,l.useState)("create"),[d,u]=(0,l.useState)(null),[p,g]=(0,l.useState)({name:"",code:"",origin:"Jakarta (CGK)",destination:"Jeddah (JED)",transit:"",contact_info:""});(0,l.useEffect)(()=>{a()},[a]);const h=(e,t=null)=>{m(e),u(t),g(t||{name:"",code:"",origin:"Jakarta (CGK)",destination:"Jeddah (JED)",transit:"",contact_info:""}),c(!0)},b=[{header:"Maskapai",accessor:"name",render:e=>(0,l.createElement)("div",{className:"font-bold flex gap-2"},(0,l.createElement)(Ra,{size:16})," ",e.name)},{header:"Kode",accessor:"code"},{header:"Rute Default",accessor:"origin",render:e=>(0,l.createElement)("span",{className:"text-xs flex items-center gap-1"},e.origin,(0,l.createElement)(Ta,{size:10}),e.transit&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)("span",{className:"text-orange-600 font-semibold"},e.transit)," ",(0,l.createElement)(Ta,{size:10})," "),e.destination)},{header:"Kontak",accessor:"contact_info"}];return(0,l.createElement)(Re,{title:"Master Maskapai"},(0,l.createElement)("div",{className:"flex justify-end mb-4"},(0,l.createElement)("button",{onClick:()=>h("create"),className:"btn-primary flex gap-2"},(0,l.createElement)(Ba,{size:18})," Tambah Maskapai")),(0,l.createElement)(Lt,{columns:b,data:e,loading:t,onEdit:e=>h("edit",e),onDelete:s}),(0,l.createElement)(Kt,{isOpen:o,onClose:()=>c(!1),title:"Data Maskapai"},(0,l.createElement)("form",{onSubmit:async e=>{e.preventDefault(),("create"===i?await r(p):await n(d.id,p))&&(c(!1),a())},className:"space-y-4"},(0,l.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Nama Maskapai"),(0,l.createElement)("input",{className:"input-field",value:p.name,onChange:e=>g({...p,name:e.target.value}),required:!0,placeholder:"Garuda Indonesia"})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Kode Penerbangan"),(0,l.createElement)("input",{className:"input-field",value:p.code,onChange:e=>g({...p,code:e.target.value}),placeholder:"GA"}))),(0,l.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Asal (Origin)"),(0,l.createElement)("input",{className:"input-field",value:p.origin,onChange:e=>g({...p,origin:e.target.value})})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Tujuan (Dest)"),(0,l.createElement)("input",{className:"input-field",value:p.destination,onChange:e=>g({...p,destination:e.target.value})}))),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Transit (Opsional)"),(0,l.createElement)("input",{className:"input-field",value:p.transit,onChange:e=>g({...p,transit:e.target.value}),placeholder:"Contoh: Dubai (DXB) atau Kuala Lumpur (KUL)"})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Info Kontak"),(0,l.createElement)("input",{className:"input-field",value:p.contact_info,onChange:e=>g({...p,contact_info:e.target.value})})),(0,l.createElement)("div",{className:"flex justify-end gap-2 pt-4"},(0,l.createElement)("button",{type:"button",onClick:()=>c(!1),className:"btn-secondary"},"Batal"),(0,l.createElement)("button",{type:"submit",className:"btn-primary"},"Simpan")))))},$a=De("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Ha=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Oa=({pagination:e,onPageChange:t})=>{const{current_page:a,total_pages:r,total_items:n}=e;if(r<=1)return(0,l.createElement)("div",{className:"text-sm text-gray-600 mt-4"},"Total ",n," items");const s=[];let o=Math.max(1,a-Math.floor(2.5)),c=Math.min(r,o+5-1);c-o+1<5&&(o=Math.max(1,c-5+1));for(let e=o;e<=c;e++)s.push(e);return(0,l.createElement)("div",{className:"flex justify-between items-center mt-4"},(0,l.createElement)("span",{className:"text-sm text-gray-600"},"Menampilkan halaman ",a," dari ",r," (Total ",n," item)"),(0,l.createElement)("div",{className:"flex items-center space-x-1"},a>1&&(0,l.createElement)("button",{onClick:()=>t(1),className:"px-3 py-1 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-100 disabled:opacity-50"},"Awal"),(0,l.createElement)("button",{onClick:()=>t(a-1),disabled:1===a,className:"px-3 py-1 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-100 disabled:opacity-50"},(0,l.createElement)($a,{size:16})),o>1&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)("button",{onClick:()=>t(1),className:"px-3 py-1 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-100"},"1"),(0,l.createElement)("span",{className:"px-3 py-1 text-sm"},"...")),s.map(e=>(0,l.createElement)("button",{key:e,onClick:()=>t(e),className:"px-3 py-1 rounded-md text-sm font-medium "+(e===a?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100")},e)),c<r&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)("span",{className:"px-3 py-1 text-sm"},"..."),(0,l.createElement)("button",{onClick:()=>t(r),className:"px-3 py-1 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-100"},r)),(0,l.createElement)("button",{onClick:()=>t(a+1),disabled:a===r,className:"px-3 py-1 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-100 disabled:opacity-50"},(0,l.createElement)(Ha,{size:16})),a<r&&(0,l.createElement)("button",{onClick:()=>t(r),className:"px-3 py-1 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-100 disabled:opacity-50"},"Akhir")))};function Ua({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const za=l.forwardRef(Ua);function qa({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Wa=l.forwardRef(qa);function Ja({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"}))}const Va=l.forwardRef(Ja);function Za({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const Fa=l.forwardRef(Za),Ga=()=>{const[e,t]=(0,l.useState)("list"),[a,r]=(0,l.useState)(!1),[n,s]=(0,l.useState)([]),[o,c]=(0,l.useState)(null),[i,m]=(0,l.useState)(""),[d,u]=(0,l.useState)(1),[p,g]=(0,l.useState)(1),[h,b]=(0,l.useState)(0),f={full_name:"",full_name_ar:"",nik:"",passport_number:"",gender:"L",birth_place:"",birth_date:"",phone:"",email:"",address:"",city:"",job_title:"",father_name:"",disease_history:"",clothing_size:"L"},[E,x]=(0,l.useState)(f),[v,y]=(0,l.useState)(null),[N,w]=(0,l.useState)([]);(0,l.useEffect)(()=>{"list"===e&&k()},[e,d,i]);const k=async()=>{r(!0);try{const e=await ke(`/umh/v1/jamaah?page=${d}&search=${i}`);s(e.data),g(e.total_pages),b(e.total)}catch(e){console.error(e)}finally{r(!1)}},_=e=>x({...E,[e.target.name]:e.target.value});return"list"===e?(0,l.createElement)(Re,{title:"Database Jemaah (CRM)"},(0,l.createElement)("div",{className:"bg-white rounded shadow p-6"},(0,l.createElement)("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4"},(0,l.createElement)("form",{onSubmit:e=>{e.preventDefault(),u(1),k()},className:"relative w-full md:w-1/2"},(0,l.createElement)("input",{type:"text",placeholder:"Cari Nama / NIK / Paspor...",className:"w-full border p-2 pl-10 rounded",value:i,onChange:e=>m(e.target.value)}),(0,l.createElement)(za,{className:"h-5 w-5 text-gray-400 absolute left-3 top-2.5"})),(0,l.createElement)("button",{onClick:()=>{x(f),y(null),w([]),t("form")},className:"bg-blue-600 text-white px-4 py-2 rounded flex items-center gap-2 hover:bg-blue-700"},(0,l.createElement)(ct,{className:"h-5 w-5"})," Jemaah Baru")),o&&(0,l.createElement)(lt,{type:o.type,message:o.text}),a?(0,l.createElement)(Ke,null):(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"overflow-x-auto"},(0,l.createElement)("table",{className:"w-full border-collapse text-sm"},(0,l.createElement)("thead",null,(0,l.createElement)("tr",{className:"bg-gray-100 border-b text-left text-gray-600"},(0,l.createElement)("th",{className:"p-3"},"Nama Lengkap"),(0,l.createElement)("th",{className:"p-3"},"Identitas (NIK/Paspor)"),(0,l.createElement)("th",{className:"p-3"},"Kontak & Kota"),(0,l.createElement)("th",{className:"p-3 text-center"},"L/P"),(0,l.createElement)("th",{className:"p-3 text-center"},"Aksi"))),(0,l.createElement)("tbody",null,0===n.length?(0,l.createElement)("tr",null,(0,l.createElement)("td",{colSpan:"5",className:"p-6 text-center text-gray-500"},"Data tidak ditemukan.")):n.map(e=>(0,l.createElement)("tr",{key:e.id,className:"border-b hover:bg-gray-50"},(0,l.createElement)("td",{className:"p-3 font-medium text-blue-700"},e.full_name),(0,l.createElement)("td",{className:"p-3"},(0,l.createElement)("div",{className:"text-xs text-gray-500"},"NIK: ",e.nik||"-"),(0,l.createElement)("div",{className:"text-xs text-gray-500"},"Paspor: ",e.passport_number||"-")),(0,l.createElement)("td",{className:"p-3"},(0,l.createElement)("div",null,e.phone),(0,l.createElement)("div",{className:"text-xs text-gray-500"},e.city)),(0,l.createElement)("td",{className:"p-3 text-center font-bold"},(0,l.createElement)("span",{className:"px-2 py-1 rounded text-xs "+("L"===e.gender?"bg-blue-100 text-blue-800":"bg-pink-100 text-pink-800")},e.gender)),(0,l.createElement)("td",{className:"p-3 flex justify-center gap-2"},(0,l.createElement)("button",{onClick:()=>(async e=>{r(!0);try{const a=await ke(`/umh/v1/jamaah/${e}`);x(a.data),w(a.data.history||[]),y(e),t("form")}catch(e){c({type:"error",text:"Gagal mengambil data"})}finally{r(!1)}})(e.id),className:"text-blue-600 hover:text-blue-800",title:"Edit Detail"},(0,l.createElement)(ht,{className:"h-5 w-5"})),(0,l.createElement)("button",{onClick:()=>(async e=>{if(window.confirm("Yakin hapus data jemaah ini?"))try{await Se(`/umh/v1/jamaah/${e}`),k()}catch(e){alert("Gagal menghapus")}})(e.id),className:"text-red-600 hover:text-red-800",title:"Hapus"},(0,l.createElement)(ft,{className:"h-5 w-5"})))))))),(0,l.createElement)("div",{className:"mt-4"},(0,l.createElement)(Oa,{currentPage:d,totalPages:p,onPageChange:u}),(0,l.createElement)("div",{className:"text-xs text-center text-gray-500 mt-2"},"Total Data: ",h," Jemaah"))))):(0,l.createElement)(Re,{title:v?"Edit Data Jemaah":"Input Jemaah Baru"},(0,l.createElement)("div",{className:"max-w-5xl mx-auto"},(0,l.createElement)("button",{onClick:()=>t("list"),className:"mb-4 text-gray-500 flex items-center gap-1 hover:text-gray-800"},(0,l.createElement)(xt,{className:"h-4 w-4"})," Kembali ke Daftar"),o&&(0,l.createElement)(lt,{type:o.type,message:o.text}),(0,l.createElement)("form",{onSubmit:async e=>{e.preventDefault(),r(!0);try{v?(await Ce(`/umh/v1/jamaah/${v}`,E),c({type:"success",text:"Data Jemaah berhasil diupdate!"})):(await _e("/umh/v1/jamaah",E),c({type:"success",text:"Jemaah baru berhasil ditambahkan!"})),setTimeout(()=>{c(null),t("list")},1500)}catch(e){c({type:"error",text:e.response?.data?.message||"Gagal menyimpan"})}finally{r(!1)}},className:"grid grid-cols-1 md:grid-cols-3 gap-6"},(0,l.createElement)("div",{className:"md:col-span-2 space-y-6"},(0,l.createElement)("div",{className:"bg-white p-6 rounded shadow border-t-4 border-blue-500"},(0,l.createElement)("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2"},(0,l.createElement)(Wa,{className:"h-6 w-6 text-blue-500"})," Identitas Pribadi"),(0,l.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Nama Lengkap (Sesuai KTP/Paspor)"),(0,l.createElement)("input",{name:"full_name",value:E.full_name,onChange:_,className:"w-full border p-2 rounded",required:!0})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Nama Ayah Kandung"),(0,l.createElement)("input",{name:"father_name",value:E.father_name,onChange:_,className:"w-full border p-2 rounded"})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Nomor Induk Kependudukan (NIK)"),(0,l.createElement)("input",{name:"nik",value:E.nik,onChange:_,className:"w-full border p-2 rounded",placeholder:"16 Digit"})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Jenis Kelamin"),(0,l.createElement)("select",{name:"gender",value:E.gender,onChange:_,className:"w-full border p-2 rounded"},(0,l.createElement)("option",{value:"L"},"Laki-laki"),(0,l.createElement)("option",{value:"P"},"Perempuan"))),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Tempat Lahir"),(0,l.createElement)("input",{name:"birth_place",value:E.birth_place,onChange:_,className:"w-full border p-2 rounded"})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Tanggal Lahir"),(0,l.createElement)("input",{type:"date",name:"birth_date",value:E.birth_date,onChange:_,className:"w-full border p-2 rounded"})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Pekerjaan"),(0,l.createElement)("input",{name:"job_title",value:E.job_title,onChange:_,className:"w-full border p-2 rounded"})))),(0,l.createElement)("div",{className:"bg-white p-6 rounded shadow border-t-4 border-green-500"},(0,l.createElement)("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2"},(0,l.createElement)(Rt,{className:"h-6 w-6 text-green-500"})," Kontak & Domisili"),(0,l.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"No. Handphone (WA)"),(0,l.createElement)("input",{name:"phone",value:E.phone,onChange:_,className:"w-full border p-2 rounded"})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Email (Opsional)"),(0,l.createElement)("input",{type:"email",name:"email",value:E.email,onChange:_,className:"w-full border p-2 rounded"})),(0,l.createElement)("div",{className:"col-span-2"},(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Alamat Lengkap"),(0,l.createElement)("textarea",{name:"address",value:E.address,onChange:_,className:"w-full border p-2 rounded h-20"})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Kota / Kabupaten"),(0,l.createElement)("input",{name:"city",value:E.city,onChange:_,className:"w-full border p-2 rounded"})))),(0,l.createElement)("div",{className:"bg-white p-6 rounded shadow border-t-4 border-purple-500"},(0,l.createElement)("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2"},(0,l.createElement)(Va,{className:"h-6 w-6 text-purple-500"})," Dokumen Imigrasi"),(0,l.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Nomor Paspor"),(0,l.createElement)("input",{name:"passport_number",value:E.passport_number,onChange:_,className:"w-full border p-2 rounded"})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Nama di Paspor (3 Kata)"),(0,l.createElement)("input",{name:"full_name_ar",value:E.full_name_ar,onChange:_,className:"w-full border p-2 rounded",placeholder:"Opsional (Untuk Visa)"}))))),(0,l.createElement)("div",{className:"space-y-6"},(0,l.createElement)("div",{className:"bg-white p-6 rounded shadow border-t-4 border-red-500"},(0,l.createElement)("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2"},(0,l.createElement)(Fa,{className:"h-6 w-6 text-red-500"})," Kesehatan & Logistik"),(0,l.createElement)("div",{className:"space-y-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Riwayat Penyakit"),(0,l.createElement)("textarea",{name:"disease_history",value:E.disease_history,onChange:_,className:"w-full border p-2 rounded h-20",placeholder:"Diabetes, Jantung, Asma..."})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Ukuran Pakaian (Batik/Jaket)"),(0,l.createElement)("select",{name:"clothing_size",value:E.clothing_size,onChange:_,className:"w-full border p-2 rounded"},(0,l.createElement)("option",{value:"S"},"S"),(0,l.createElement)("option",{value:"M"},"M"),(0,l.createElement)("option",{value:"L"},"L"),(0,l.createElement)("option",{value:"XL"},"XL"),(0,l.createElement)("option",{value:"XXL"},"XXL"))))),v&&(0,l.createElement)("div",{className:"bg-white p-6 rounded shadow"},(0,l.createElement)("h3",{className:"font-bold text-lg mb-4 text-gray-700"},"Riwayat Perjalanan"),0===N.length?(0,l.createElement)("p",{className:"text-sm text-gray-500"},"Belum ada riwayat booking."):(0,l.createElement)("ul",{className:"space-y-3"},N.map((e,t)=>(0,l.createElement)("li",{key:t,className:"text-sm border-b pb-2"},(0,l.createElement)("div",{className:"font-bold text-blue-600"},e.package_name),(0,l.createElement)("div",{className:"text-gray-500"},e.departure_date),(0,l.createElement)("div",{className:"text-xs mt-1 uppercase inline-block px-2 py-0.5 rounded "+("active"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800")},e.status))))),(0,l.createElement)("div",{className:"sticky top-4"},(0,l.createElement)("button",{type:"submit",disabled:a,className:"w-full py-3 bg-blue-600 text-white font-bold rounded shadow hover:bg-blue-700 mb-2"},a?"Menyimpan...":"Simpan Data Jemaah"),(0,l.createElement)("button",{type:"button",onClick:()=>t("list"),className:"w-full py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300"},"Batal"))))))};function Qa({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const Xa=l.forwardRef(Qa);function Ya({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const el=l.forwardRef(Ya),tl=()=>{const[e,t]=(0,l.useState)([]),[a,r]=(0,l.useState)(""),[n,s]=(0,l.useState)([]),[o,c]=(0,l.useState)(!1),[i,m]=(0,l.useState)(null),[d,u]=(0,l.useState)([]),[p,g]=(0,l.useState)("visa_status"),[h,b]=(0,l.useState)("");(0,l.useEffect)(()=>{ke("/umh/v1/bookings/departures").then(e=>t(e.data))},[]),(0,l.useEffect)(()=>{a&&f()},[a]);const f=async()=>{c(!0);try{const e=await ke(`/umh/v1/documents/manifest/${a}`);s(e.data),u([])}catch(e){console.error(e)}finally{c(!1)}},E=(e,t)=>{let a="bg-gray-100 text-gray-600";return"issued"!==e&&"received"!==e||(a="bg-green-100 text-green-800"),"submitted"!==e&&"processing"!==e||(a="bg-yellow-100 text-yellow-800"),"rejected"!==e&&"missing"!==e||(a="bg-red-100 text-red-800"),(0,l.createElement)("span",{className:`px-2 py-1 rounded text-xs uppercase font-bold ${a}`},e)};return(0,l.createElement)(Re,{title:"Handling Dokumen & Manifest"},(0,l.createElement)("div",{className:"bg-white rounded shadow p-6 min-h-[500px]"},(0,l.createElement)("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4"},(0,l.createElement)("div",{className:"w-full md:w-1/3"},(0,l.createElement)("label",{className:"block text-xs font-bold text-gray-500 mb-1"},"PILIH KEBERANGKATAN"),(0,l.createElement)("select",{className:"w-full border p-2 rounded",value:a,onChange:e=>r(e.target.value)},(0,l.createElement)("option",{value:""},"-- Pilih Jadwal --"),e.map(e=>(0,l.createElement)("option",{key:e.id,value:e.id},e.departure_date," - ",e.package_name)))),a&&(0,l.createElement)("button",{onClick:()=>{if(0===n.length)return;let e="data:text/csv;charset=utf-8,";e+="Nama Lengkap,No. Paspor,NIK,Status Visa,Status Paspor\n",n.forEach(t=>{const a=`"${t.full_name}","${t.passport_number||""}","${t.nik||""}","${t.visa_status}","${t.passport_status}"`;e+=a+"\n"});const t=encodeURI(e),l=document.createElement("a");l.setAttribute("href",t),l.setAttribute("download",`manifest_umrah_${a}.csv`),document.body.appendChild(l),l.click()},className:"border border-green-600 text-green-600 px-4 py-2 rounded flex items-center gap-2 hover:bg-green-50"},(0,l.createElement)(Xa,{className:"h-5 w-5"})," Export Excel (CSV)")),i&&(0,l.createElement)(lt,{type:i.type,message:i.text}),d.length>0&&(0,l.createElement)("div",{className:"bg-blue-50 p-3 rounded border border-blue-200 mb-4 flex flex-col md:flex-row items-center gap-4 animate-pulse"},(0,l.createElement)("div",{className:"font-bold text-blue-800 flex items-center gap-2"},(0,l.createElement)(yt,{className:"h-5 w-5"})," ",d.length," Jemaah Dipilih"),(0,l.createElement)("div",{className:"flex gap-2 items-center flex-1"},(0,l.createElement)("span",{className:"text-sm"},"Ubah:"),(0,l.createElement)("select",{className:"border p-1 rounded text-sm",value:p,onChange:e=>g(e.target.value)},(0,l.createElement)("option",{value:"visa_status"},"Status Visa"),(0,l.createElement)("option",{value:"passport_status"},"Status Paspor")),(0,l.createElement)("span",{className:"text-sm"},"Menjadi:"),(0,l.createElement)("select",{className:"border p-1 rounded text-sm min-w-[150px]",value:h,onChange:e=>b(e.target.value)},(0,l.createElement)("option",{value:""},"-- Pilih Status --"),"visa_status"===p?(0,l.createElement)(l.Fragment,null,(0,l.createElement)("option",{value:"pending"},"Pending"),(0,l.createElement)("option",{value:"submitted"},"Submitted (Proses)"),(0,l.createElement)("option",{value:"issued"},"Issued (Terbit)"),(0,l.createElement)("option",{value:"rejected"},"Rejected (Ditolak)")):(0,l.createElement)(l.Fragment,null,(0,l.createElement)("option",{value:"not_received"},"Belum Diterima"),(0,l.createElement)("option",{value:"received"},"Diterima di Kantor"),(0,l.createElement)("option",{value:"returned"},"Dikembalikan ke Jemaah"))),(0,l.createElement)("button",{onClick:async()=>{if(!h)return alert("Pilih status baru dulu!");if(window.confirm(`Update ${d.length} jemaah terpilih?`)){c(!0);try{const e={ids:d,field:p,value:h},t=await _e("/umh/v1/documents/bulk-update",e);m({type:"success",text:t.data.message}),f()}catch(e){m({type:"error",text:"Gagal update data"})}finally{c(!1)}}},className:"bg-blue-600 text-white px-4 py-1 rounded hover:bg-blue-700 text-sm font-bold"},"UPDATE STATUS"))),a?o?(0,l.createElement)(Ke,null):(0,l.createElement)("div",{className:"overflow-x-auto"},(0,l.createElement)("table",{className:"w-full border-collapse text-sm"},(0,l.createElement)("thead",null,(0,l.createElement)("tr",{className:"bg-gray-100 border-b text-left"},(0,l.createElement)("th",{className:"p-3 w-10 text-center"},(0,l.createElement)("input",{type:"checkbox",onChange:e=>{e.target.checked?u(n.map(e=>e.id)):u([])},checked:n.length>0&&d.length===n.length})),(0,l.createElement)("th",{className:"p-3"},"Nama Jemaah"),(0,l.createElement)("th",{className:"p-3"},"Paspor"),(0,l.createElement)("th",{className:"p-3 text-center"},"Status Paspor"),(0,l.createElement)("th",{className:"p-3 text-center"},"Status Visa"),(0,l.createElement)("th",{className:"p-3"},"Nomor Visa"))),(0,l.createElement)("tbody",null,n.map(e=>(0,l.createElement)("tr",{key:e.id,className:"border-b hover:bg-gray-50 "+(d.includes(e.id)?"bg-blue-50":"")},(0,l.createElement)("td",{className:"p-3 text-center"},(0,l.createElement)("input",{type:"checkbox",checked:d.includes(e.id),onChange:()=>{return t=e.id,void(d.includes(t)?u(d.filter(e=>e!==t)):u([...d,t]));var t}})),(0,l.createElement)("td",{className:"p-3"},(0,l.createElement)("div",{className:"font-bold"},e.full_name),(0,l.createElement)("div",{className:"text-xs text-gray-500"},e.full_name_ar||"-")),(0,l.createElement)("td",{className:"p-3 font-mono"},e.passport_number||(0,l.createElement)("span",{className:"text-red-400 italic"},"Belum Ada")),(0,l.createElement)("td",{className:"p-3 text-center"},E(e.passport_status)),(0,l.createElement)("td",{className:"p-3 text-center"},E(e.visa_status)),(0,l.createElement)("td",{className:"p-3 text-gray-600 text-xs"},e.visa_number||"-"))),0===n.length&&(0,l.createElement)("tr",null,(0,l.createElement)("td",{colSpan:"6",className:"p-6 text-center text-gray-400"},"Belum ada jemaah di keberangkatan ini."))))):(0,l.createElement)("div",{className:"text-center py-20 bg-gray-50 border-2 border-dashed rounded"},(0,l.createElement)(el,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),(0,l.createElement)("p",{className:"text-gray-500"},"Pilih Keberangkatan untuk mengelola manifest."))))},al=()=>{const[e,t]=(0,l.useState)([]),[a,r]=(0,l.useState)(""),[n,s]=(0,l.useState)(!1),[o,c]=(0,l.useState)([]),[i,m]=(0,l.useState)([]),[d,u]=(0,l.useState)([]),[p,g]=(0,l.useState)(!1),[h,b]=(0,l.useState)({hotel_id:"",room_number:"",capacity:4,room_gender:"family",notes:""});(0,l.useEffect)(()=>{ke("/umh/v1/bookings/departures").then(e=>t(e.data))},[]),(0,l.useEffect)(()=>{a&&f()},[a]);const f=async()=>{s(!0);try{await ke(`/umh/v1/departures/${a}`);const e=await ke(`/umh/v1/rooming/${a}`);c(e.data.rooms),m(e.data.unassigned),ke("/umh/v1/departures").then(e=>{const t=e.data.find(e=>e.id==a);if(t){const e=[];t.hotel_makkah_name&&e.push({id:t.hotel_makkah_id,name:`Makkah - ${t.hotel_makkah_name}`}),t.hotel_madinah_name&&e.push({id:t.hotel_madinah_id,name:`Madinah - ${t.hotel_madinah_name}`}),u(e),e.length>0&&b(t=>({...t,hotel_id:e[0].id}))}})}catch(e){console.error(e)}finally{s(!1)}},E=e=>{e.preventDefault()},x=e=>(0,l.createElement)("span",{className:"text-xs font-bold px-1 rounded "+("L"===e?"bg-blue-100 text-blue-800":"bg-pink-100 text-pink-800")},e);return(0,l.createElement)(Re,{title:"Rooming List (Pengaturan Kamar)"},(0,l.createElement)("div",{className:"bg-white p-4 rounded shadow mb-4 flex items-center justify-between"},(0,l.createElement)("div",{className:"flex items-center gap-4 w-full md:w-1/2"},(0,l.createElement)(Je,{className:"h-6 w-6 text-gray-500"}),(0,l.createElement)("select",{className:"w-full border p-2 rounded font-bold",value:a,onChange:e=>r(e.target.value)},(0,l.createElement)("option",{value:""},"-- Pilih Keberangkatan --"),e.map(e=>(0,l.createElement)("option",{key:e.id,value:e.id},e.departure_date," - ",e.package_name)))),a&&(0,l.createElement)("button",{onClick:()=>g(!0),className:"bg-green-600 text-white px-4 py-2 rounded flex items-center gap-2 hover:bg-green-700"},(0,l.createElement)(ct,{className:"h-5 w-5"})," Tambah Kamar")),a?(0,l.createElement)("div",{className:"flex flex-col md:flex-row gap-6 h-[calc(100vh-200px)]"},(0,l.createElement)("div",{className:"w-full md:w-1/4 bg-white rounded shadow flex flex-col"},(0,l.createElement)("div",{className:"p-4 border-b bg-gray-50 flex justify-between items-center"},(0,l.createElement)("h3",{className:"font-bold text-gray-700"},"Belum Dapat Kamar"),(0,l.createElement)("span",{className:"bg-red-500 text-white px-2 rounded-full text-xs"},i.length)),(0,l.createElement)("div",{className:"p-4 overflow-y-auto flex-1 space-y-2 bg-gray-100"},i.map(e=>(0,l.createElement)("div",{key:e.id,draggable:!0,onDragStart:t=>((e,t)=>{e.dataTransfer.setData("passengerId",t)})(t,e.id),className:"bg-white p-3 rounded border shadow-sm cursor-move hover:shadow-md border-l-4 border-l-gray-400"},(0,l.createElement)("div",{className:"font-bold text-sm truncate"},e.full_name),(0,l.createElement)("div",{className:"flex justify-between items-center mt-1"},x(e.gender),(0,l.createElement)("span",{className:"text-xs text-gray-500"},e.package_room_type)))),0===i.length&&(0,l.createElement)("div",{className:"text-center text-gray-400 text-sm mt-10"},"Semua jemaah sudah masuk kamar âœ…"))),(0,l.createElement)("div",{className:"w-full md:w-3/4 overflow-y-auto"},n&&(0,l.createElement)(Ke,null),(0,l.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},o.map(e=>{const t=e.occupants.length>=e.capacity;return(0,l.createElement)("div",{key:e.id,onDragOver:E,onDrop:t=>(async(e,t)=>{e.preventDefault();const a=e.dataTransfer.getData("passengerId"),l=parseInt(a);try{await _e("/umh/v1/rooming/assign",{passenger_id:l,room_id:t}),f()}catch(e){alert("Gagal memindahkan jemaah")}})(t,e.id),className:"bg-white rounded shadow border-t-4 flex flex-col "+(t?"border-green-500":"border-blue-500")},(0,l.createElement)("div",{className:"p-3 border-b flex justify-between items-start bg-gray-50"},(0,l.createElement)("div",null,(0,l.createElement)("div",{className:"font-bold text-lg"},"Kamar ",e.room_number),(0,l.createElement)("div",{className:"text-xs text-gray-500"},e.hotel_name)),(0,l.createElement)("div",{className:"text-right"},(0,l.createElement)("div",{className:"text-xs font-bold px-2 py-0.5 rounded "+(t?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800")},e.occupants.length," / ",e.capacity),(0,l.createElement)("button",{onClick:()=>(async e=>{if(window.confirm("Hapus kamar ini? Jemaah di dalamnya akan menjadi 'Unassigned'."))try{await Se(`/umh/v1/rooming/rooms/${e}`),f()}catch(e){alert("Gagal hapus kamar")}})(e.id),className:"text-red-400 hover:text-red-600 mt-1"},(0,l.createElement)(ft,{className:"h-4 w-4"})))),(0,l.createElement)("div",{className:"p-3 flex-1 space-y-2 min-h-[100px]"},e.occupants.map(e=>(0,l.createElement)("div",{key:e.id,className:"flex justify-between items-center text-sm bg-gray-50 p-2 rounded border"},(0,l.createElement)("div",{className:"truncate w-3/4"},(0,l.createElement)("span",{className:"mr-2"},x(e.gender)),e.full_name),(0,l.createElement)("button",{onClick:()=>(async e=>{if(window.confirm("Keluarkan jemaah dari kamar?"))try{await _e("/umh/v1/rooming/assign",{passenger_id:e,room_id:null}),f()}catch(e){alert("Gagal")}})(e.id),className:"text-gray-400 hover:text-red-500"},"Ã—"))),0===e.occupants.length&&(0,l.createElement)("div",{className:"text-center text-xs text-gray-400 py-4 border-2 border-dashed rounded"},"Tarik Jemaah ke Sini")))})),0===o.length&&!n&&(0,l.createElement)("div",{className:"text-center py-20 bg-white rounded shadow"},(0,l.createElement)(Mt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,l.createElement)("h3",{className:"text-xl font-bold text-gray-600"},"Belum ada kamar dibuat"),(0,l.createElement)("p",{className:"text-gray-500 mb-6"},"Silakan buat kamar hotel (Quad/Triple/Double) terlebih dahulu."),(0,l.createElement)("button",{onClick:()=>g(!0),className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700"},"Buat Kamar Pertama")))):(0,l.createElement)("div",{className:"text-center py-20 bg-gray-50 rounded border-2 border-dashed border-gray-300"},(0,l.createElement)("p",{className:"text-gray-500 text-lg"},"Pilih Keberangkatan di atas untuk mulai mengatur Rooming List.")),p&&(0,l.createElement)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},(0,l.createElement)("div",{className:"bg-white p-6 rounded shadow-lg w-96"},(0,l.createElement)("h3",{className:"font-bold text-lg mb-4"},"Tambah Kamar Baru"),(0,l.createElement)("form",{onSubmit:async e=>{e.preventDefault();try{await _e("/umh/v1/rooming/rooms",{...h,departure_id:a}),g(!1),f(),b({...h,room_number:""})}catch(e){alert("Gagal buat kamar")}},className:"space-y-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Hotel"),(0,l.createElement)("select",{className:"w-full border p-2 rounded",value:h.hotel_id,onChange:e=>b({...h,hotel_id:e.target.value}),required:!0},(0,l.createElement)("option",{value:""},"-- Pilih Hotel --"),d.map(e=>(0,l.createElement)("option",{key:e.id,value:e.id},e.name)))),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Nomor Kamar"),(0,l.createElement)("input",{className:"w-full border p-2 rounded",value:h.room_number,onChange:e=>b({...h,room_number:e.target.value}),placeholder:"Contoh: 101",required:!0})),(0,l.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Kapasitas"),(0,l.createElement)("select",{className:"w-full border p-2 rounded",value:h.capacity,onChange:e=>b({...h,capacity:e.target.value})},(0,l.createElement)("option",{value:"4"},"4 (Quad)"),(0,l.createElement)("option",{value:"3"},"3 (Triple)"),(0,l.createElement)("option",{value:"2"},"2 (Double)"),(0,l.createElement)("option",{value:"1"},"1 (Single)"))),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Jenis"),(0,l.createElement)("select",{className:"w-full border p-2 rounded",value:h.room_gender,onChange:e=>b({...h,room_gender:e.target.value})},(0,l.createElement)("option",{value:"family"},"Campur/Keluarga"),(0,l.createElement)("option",{value:"male"},"Ikhwan (Laki)"),(0,l.createElement)("option",{value:"female"},"Akhwat (Perempuan)")))),(0,l.createElement)("div",{className:"flex justify-end gap-2 mt-4"},(0,l.createElement)("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded"},"Batal"),(0,l.createElement)("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700"},"Simpan"))))))};function ll({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const rl=l.forwardRef(ll),nl=[{key:"koper",label:"Koper Hardcase"},{key:"tas_paspor",label:"Tas Paspor"},{key:"batik",label:"Bahan Batik"},{key:"ihram",label:"Kain Ihram / Mukena"},{key:"buku_doa",label:"Buku Doa & Panduan"},{key:"id_card",label:"ID Card & Siskopatuh"}],sl=()=>{const[e,t]=(0,l.useState)([]),[a,r]=(0,l.useState)(""),[n,s]=(0,l.useState)(!1),[o,c]=(0,l.useState)([]),[i,m]=(0,l.useState)("");(0,l.useEffect)(()=>{ke("/umh/v1/bookings/departures").then(e=>t(e.data))},[]),(0,l.useEffect)(()=>{a&&d()},[a]);const d=async()=>{s(!0);try{const e=await ke(`/umh/v1/logistics/${a}`);c(e.data)}catch(e){console.error(e)}finally{s(!1)}},u=o.filter(e=>e.full_name.toLowerCase().includes(i.toLowerCase())||e.booking_code.toLowerCase().includes(i.toLowerCase()));return(0,l.createElement)(Re,{title:"Distribusi Logistik & Perlengkapan"},(0,l.createElement)("div",{className:"bg-white rounded shadow p-6"},(0,l.createElement)("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4"},(0,l.createElement)("div",{className:"w-full md:w-1/3"},(0,l.createElement)("label",{className:"block text-xs font-bold text-gray-500 mb-1 uppercase"},"Pilih Keberangkatan"),(0,l.createElement)("select",{className:"w-full border p-2 rounded",value:a,onChange:e=>r(e.target.value)},(0,l.createElement)("option",{value:""},"-- Pilih Jadwal --"),e.map(e=>(0,l.createElement)("option",{key:e.id,value:e.id},e.departure_date," - ",e.package_name)))),a&&(0,l.createElement)("div",{className:"w-full md:w-1/3"},(0,l.createElement)("label",{className:"block text-xs font-bold text-gray-500 mb-1 uppercase"},"Cari Jemaah"),(0,l.createElement)("input",{type:"text",placeholder:"Nama Jemaah...",className:"w-full border p-2 rounded",value:i,onChange:e=>m(e.target.value)}))),a?n?(0,l.createElement)(Ke,null):(0,l.createElement)("div",{className:"overflow-x-auto"},(0,l.createElement)("table",{className:"w-full border-collapse text-sm"},(0,l.createElement)("thead",null,(0,l.createElement)("tr",{className:"bg-gray-100 border-b text-left"},(0,l.createElement)("th",{className:"p-3 w-64 min-w-[200px]"},"Nama Jemaah"),(0,l.createElement)("th",{className:"p-3 w-24 text-center"},"Ukuran"),(0,l.createElement)("th",{className:"p-3 w-32 text-center"},"Kelengkapan"),nl.map(e=>(0,l.createElement)("th",{key:e.key,className:"p-3 text-center min-w-[100px] border-l"},e.label)))),(0,l.createElement)("tbody",null,u.map(e=>{const t=(e=>{const t=nl.filter(t=>e&&e[t.key]).length;return Math.round(t/nl.length*100)})(e.items);return(0,l.createElement)("tr",{key:e.passenger_id,className:"border-b hover:bg-gray-50"},(0,l.createElement)("td",{className:"p-3"},(0,l.createElement)("div",{className:"font-bold text-gray-800"},e.full_name),(0,l.createElement)("div",{className:"text-xs text-gray-500"},e.booking_code," â€¢ ","L"===e.gender?"Laki-laki":"Perempuan")),(0,l.createElement)("td",{className:"p-3 text-center"},e.clothing_size?(0,l.createElement)("span",{className:"bg-gray-200 text-gray-700 px-2 py-1 rounded text-xs font-bold"},e.clothing_size):"-"),(0,l.createElement)("td",{className:"p-3 text-center"},(0,l.createElement)("div",{className:"flex items-center gap-2 justify-center"},(0,l.createElement)("div",{className:"w-full bg-gray-200 rounded-full h-2.5 max-w-[60px]"},(0,l.createElement)("div",{className:"h-2.5 rounded-full "+(100===t?"bg-green-600":"bg-blue-600"),style:{width:`${t}%`}})),(0,l.createElement)("span",{className:"text-xs font-bold"},t,"%"))),nl.map(t=>{const a=e.items&&e.items[t.key];return(0,l.createElement)("td",{key:t.key,className:"p-3 text-center border-l bg-gray-50/30"},(0,l.createElement)("input",{type:"checkbox",className:"w-5 h-5 text-blue-600 rounded cursor-pointer",checked:!!a,onChange:()=>(async(e,t,a)=>{const l=o.map(l=>{if(l.passenger_id===e){const e={...l.items};return a?delete e[t]:e[t]={status:"taken",taken_date:(new Date).toISOString()},{...l,items:e}}return l});c(l);try{await _e("/umh/v1/logistics/update",{passenger_id:e,item_name:t,action:a?"return":"take"})}catch(e){console.error("Gagal sync status"),d()}})(e.passenger_id,t.key,!!a)}),a&&(0,l.createElement)("div",{className:"text-[10px] text-green-600 mt-1"},new Date(a.taken_date).toLocaleDateString("id-ID",{day:"numeric",month:"short"})))}))}),0===u.length&&(0,l.createElement)("tr",null,(0,l.createElement)("td",{colSpan:3+nl.length,className:"p-6 text-center text-gray-500"},"Tidak ada data jemaah."))))):(0,l.createElement)("div",{className:"text-center py-20 bg-gray-50 border-2 border-dashed rounded"},(0,l.createElement)(rl,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),(0,l.createElement)("p",{className:"text-gray-500"},"Silakan pilih keberangkatan untuk melihat checklist logistik."))))},ol=()=>{const[e,t]=(0,l.useState)([]),[a,r]=(0,l.useState)(""),[n,s]=(0,l.useState)([]),[o,c]=(0,l.useState)({task_name:"",category:"document",due_date:""});(0,l.useEffect)(()=>{ke("/umh/v1/bookings/departures").then(e=>t(e.data))},[]),(0,l.useEffect)(()=>{a&&i()},[a]);const i=async()=>{const e=await ke(`/umh/v1/tasks?departure_id=${a}`);s(e.data)};return(0,l.createElement)(Re,{title:"Manajemen Tugas Tim"},(0,l.createElement)("div",{className:"bg-white p-6 rounded shadow"},(0,l.createElement)("div",{className:"mb-6 w-full md:w-1/3"},(0,l.createElement)("label",{className:"font-bold text-sm"},"Pilih Keberangkatan"),(0,l.createElement)("select",{className:"w-full border p-2 rounded",onChange:e=>r(e.target.value),value:a},(0,l.createElement)("option",{value:""},"-- Pilih --"),e.map(e=>(0,l.createElement)("option",{key:e.id,value:e.id},e.departure_date," - ",e.package_name)))),a&&(0,l.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8"},(0,l.createElement)("div",null,(0,l.createElement)("h3",{className:"font-bold mb-4"},"Daftar Checklist"),(0,l.createElement)("div",{className:"space-y-2"},n.map(e=>(0,l.createElement)("div",{key:e.id,className:"p-3 border rounded flex justify-between items-center "+("completed"===e.status?"bg-green-50 border-green-200":"bg-white")},(0,l.createElement)("div",{className:"flex items-center gap-3"},(0,l.createElement)("button",{onClick:()=>(async(e,t)=>{const a="completed"===t?"pending":"completed";await _e(`/umh/v1/tasks/toggle/${e}`,{status:a}),i()})(e.id,e.status),className:"h-6 w-6 rounded-full border-2 flex items-center justify-center "+("completed"===e.status?"bg-green-500 border-green-500 text-white":"border-gray-300")},"completed"===e.status&&(0,l.createElement)(yt,{className:"h-4 w-4"})),(0,l.createElement)("div",null,(0,l.createElement)("div",{className:"font-medium "+("completed"===e.status?"line-through text-gray-400":"")},e.task_name),(0,l.createElement)("div",{className:"text-xs text-gray-500 uppercase"},e.category," â€¢ Due: ",e.due_date))))),0===n.length&&(0,l.createElement)("p",{className:"text-gray-400 text-sm"},"Belum ada tugas."))),(0,l.createElement)("div",{className:"bg-gray-50 p-4 rounded h-fit"},(0,l.createElement)("h3",{className:"font-bold mb-3"},"Tambah Tugas Baru"),(0,l.createElement)("form",{onSubmit:async e=>{e.preventDefault(),await _e("/umh/v1/tasks",{...o,departure_id:a}),c({task_name:"",category:"document",due_date:""}),i()},className:"space-y-3"},(0,l.createElement)("input",{className:"w-full border p-2 rounded",placeholder:"Nama Tugas (e.g. Booking Bus)",value:o.task_name,onChange:e=>c({...o,task_name:e.target.value}),required:!0}),(0,l.createElement)("select",{className:"w-full border p-2 rounded",value:o.category,onChange:e=>c({...o,category:e.target.value})},(0,l.createElement)("option",{value:"document"},"Dokumen"),(0,l.createElement)("option",{value:"logistics"},"Logistik"),(0,l.createElement)("option",{value:"transport"},"Transport"),(0,l.createElement)("option",{value:"finance"},"Keuangan")),(0,l.createElement)("input",{type:"date",className:"w-full border p-2 rounded",value:o.due_date,onChange:e=>c({...o,due_date:e.target.value}),required:!0}),(0,l.createElement)("button",{type:"submit",className:"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700 font-bold"},"Simpan"))))))};function cl({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z"}))}const il=l.forwardRef(cl);function ml({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"}))}const dl=l.forwardRef(ml);function ul({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25M9 16.5v.75m3-3v3M15 12v5.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const pl=l.forwardRef(ul),gl=()=>{const[e,t]=(0,l.useState)("cashier"),[a,r]=(0,l.useState)(!1),[n,s]=(0,l.useState)(null),[o,c]=(0,l.useState)(""),[i,m]=(0,l.useState)([]),[d,u]=(0,l.useState)(null),[p,g]=(0,l.useState)({amount:"",method:"transfer",bank_name:"",transaction_date:(new Date).toISOString().split("T")[0],notes:""}),[h,b]=(0,l.useState)([]),[f,E]=(0,l.useState)({description:"",amount:"",account_id:"",transaction_date:(new Date).toISOString().split("T")[0],type:"expense"}),[x,v]=(0,l.useState)(null),[y,N]=(0,l.useState)([]),[w,k]=(0,l.useState)("this_month");(0,l.useEffect)(()=>{ke("/umh/v1/finance/accounts").then(e=>b(e.data))},[]),(0,l.useEffect)(()=>{"report"===e&&_()},[e,w]);const _=async()=>{r(!0);try{const e=await ke(`/umh/v1/finance/summary?period=${w}`),t=await ke("/umh/v1/finance/transactions?type=all");v(e.data),N(t.data)}catch(e){console.error(e)}finally{r(!1)}};(0,l.useEffect)(()=>{const e=setTimeout(async()=>{if(o.length>=3)try{const e=await ke(`/umh/v1/payments/search-booking?term=${o}`);m(e.data)}catch(e){}else m([])},500);return()=>clearTimeout(e)},[o]);const C=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(e);return(0,l.createElement)(Re,{title:"Pusat Keuangan"},(0,l.createElement)("div",{className:"bg-white rounded shadow min-h-[500px]"},(0,l.createElement)("div",{className:"flex border-b overflow-x-auto"},(0,l.createElement)("button",{onClick:()=>t("cashier"),className:"px-6 py-4 font-bold flex items-center gap-2 whitespace-nowrap "+("cashier"===e?"border-b-2 border-green-500 text-green-700":"text-gray-500")},(0,l.createElement)(il,{className:"h-5 w-5"})," Kasir (Pemasukan)"),(0,l.createElement)("button",{onClick:()=>t("expense"),className:"px-6 py-4 font-bold flex items-center gap-2 whitespace-nowrap "+("expense"===e?"border-b-2 border-red-500 text-red-700":"text-gray-500")},(0,l.createElement)(dl,{className:"h-5 w-5"})," Catat Pengeluaran"),(0,l.createElement)("button",{onClick:()=>t("report"),className:"px-6 py-4 font-bold flex items-center gap-2 whitespace-nowrap "+("report"===e?"border-b-2 border-blue-500 text-blue-700":"text-gray-500")},(0,l.createElement)(pl,{className:"h-5 w-5"})," Laporan & Buku Besar")),(0,l.createElement)("div",{className:"p-6"},n&&(0,l.createElement)(lt,{type:n.type,message:n.text}),"cashier"===e&&(0,l.createElement)("div",{className:"max-w-3xl mx-auto"},d?(0,l.createElement)("form",{onSubmit:async e=>{e.preventDefault(),r(!0);try{await _e("/umh/v1/payments",{booking_id:d.id,...p}),s({type:"success",text:"Pembayaran Diterima!"}),u(null),g({...p,amount:"",notes:""})}catch(e){s({type:"error",text:"Gagal proses pembayaran"})}finally{r(!1)}},className:"bg-gray-50 p-6 rounded border"},(0,l.createElement)("h3",{className:"font-bold mb-4 border-b pb-2"},"Input Pembayaran: ",d.booking_code),(0,l.createElement)("div",{className:"grid grid-cols-2 gap-4 mb-4"},(0,l.createElement)("input",{type:"date",className:"border p-2 rounded",value:p.transaction_date,onChange:e=>g({...p,transaction_date:e.target.value}),required:!0}),(0,l.createElement)("input",{type:"number",className:"border p-2 rounded",placeholder:"Nominal (Rp)",value:p.amount,onChange:e=>g({...p,amount:e.target.value}),required:!0}),(0,l.createElement)("select",{className:"border p-2 rounded",value:p.method,onChange:e=>g({...p,method:e.target.value})},(0,l.createElement)("option",{value:"transfer"},"Transfer Bank"),(0,l.createElement)("option",{value:"cash"},"Tunai")),(0,l.createElement)("input",{type:"text",className:"border p-2 rounded",placeholder:"Nama Bank (Opsional)",value:p.bank_name,onChange:e=>g({...p,bank_name:e.target.value})})),(0,l.createElement)("textarea",{className:"w-full border p-2 rounded mb-4",placeholder:"Catatan...",value:p.notes,onChange:e=>g({...p,notes:e.target.value})}),(0,l.createElement)("div",{className:"flex gap-2"},(0,l.createElement)("button",{type:"button",onClick:()=>u(null),className:"px-4 py-2 bg-gray-200 rounded"},"Batal"),(0,l.createElement)("button",{type:"submit",disabled:a,className:"px-4 py-2 bg-green-600 text-white rounded font-bold hover:bg-green-700 flex-1"},"Simpan"))):(0,l.createElement)("div",{className:"text-center py-10"},(0,l.createElement)("h3",{className:"text-lg font-bold mb-4"},"Terima Pembayaran Jemaah"),(0,l.createElement)("input",{type:"text",className:"w-full max-w-md border p-3 rounded text-center",placeholder:"ðŸ” Cari Kode Booking / Nama Jemaah...",value:o,onChange:e=>c(e.target.value)}),i.length>0&&(0,l.createElement)("div",{className:"mt-2 border rounded max-w-md mx-auto bg-white shadow text-left"},i.map(e=>(0,l.createElement)("div",{key:e.id,onClick:()=>u(e),className:"p-3 hover:bg-green-50 cursor-pointer border-b"},(0,l.createElement)("div",{className:"font-bold text-blue-600"},e.booking_code),(0,l.createElement)("div",{className:"text-sm"},e.contact_name," ",(0,l.createElement)("span",{className:"text-red-500 font-bold ml-2"},"Sisa: ",C(e.remaining)))))))),"expense"===e&&(0,l.createElement)("div",{className:"max-w-2xl mx-auto"},(0,l.createElement)("form",{onSubmit:async e=>{e.preventDefault(),r(!0);try{await _e("/umh/v1/finance/transactions",f),s({type:"success",text:"Pengeluaran Tercatat!"}),E({...f,description:"",amount:""})}catch(e){s({type:"error",text:"Gagal simpan pengeluaran"})}finally{r(!1)}},className:"bg-red-50 p-6 rounded border border-red-200"},(0,l.createElement)("h3",{className:"font-bold text-red-800 mb-6 flex items-center gap-2"},(0,l.createElement)(dl,{className:"h-6 w-6"})," Form Pengeluaran Operasional"),(0,l.createElement)("div",{className:"space-y-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-bold mb-1"},"Tanggal"),(0,l.createElement)("input",{type:"date",className:"w-full border p-2 rounded",value:f.transaction_date,onChange:e=>E({...f,transaction_date:e.target.value}),required:!0})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-bold mb-1"},"Kategori Biaya"),(0,l.createElement)("select",{className:"w-full border p-2 rounded",value:f.account_id,onChange:e=>E({...f,account_id:e.target.value}),required:!0},(0,l.createElement)("option",{value:""},"-- Pilih Kategori --"),h.filter(e=>"expense"===e.type).map(e=>(0,l.createElement)("option",{key:e.id,value:e.id},e.name)))),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-bold mb-1"},"Keterangan"),(0,l.createElement)("input",{type:"text",className:"w-full border p-2 rounded",placeholder:"Contoh: Bayar Listrik Bulan Nov",value:f.description,onChange:e=>E({...f,description:e.target.value}),required:!0})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-bold mb-1"},"Nominal (Rp)"),(0,l.createElement)("input",{type:"number",className:"w-full border p-2 rounded text-lg font-bold text-red-700",placeholder:"0",value:f.amount,onChange:e=>E({...f,amount:e.target.value}),required:!0})),(0,l.createElement)("button",{type:"submit",disabled:a,className:"w-full bg-red-600 text-white font-bold py-3 rounded hover:bg-red-700 mt-4"},"CATAT PENGELUARAN")))),"report"===e&&(0,l.createElement)("div",null,(0,l.createElement)("div",{className:"flex justify-end mb-4"},(0,l.createElement)("select",{value:w,onChange:e=>k(e.target.value),className:"border p-2 rounded bg-gray-50 font-medium"},(0,l.createElement)("option",{value:"this_month"},"Bulan Ini"),(0,l.createElement)("option",{value:"last_month"},"Bulan Lalu"),(0,l.createElement)("option",{value:"year"},"Tahun Ini"))),x&&(0,l.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8"},(0,l.createElement)("div",{className:"bg-green-50 p-4 rounded border border-green-200"},(0,l.createElement)("p",{className:"text-green-800 text-xs font-bold uppercase"},"Total Pemasukan"),(0,l.createElement)("h3",{className:"text-2xl font-bold text-green-700"},C(x.income))),(0,l.createElement)("div",{className:"bg-red-50 p-4 rounded border border-red-200"},(0,l.createElement)("p",{className:"text-red-800 text-xs font-bold uppercase"},"Total Pengeluaran"),(0,l.createElement)("h3",{className:"text-2xl font-bold text-red-700"},C(x.expense))),(0,l.createElement)("div",{className:"bg-blue-50 p-4 rounded border border-blue-200"},(0,l.createElement)("p",{className:"text-blue-800 text-xs font-bold uppercase"},"Laba / Rugi Bersih"),(0,l.createElement)("h3",{className:"text-2xl font-bold "+(x.profit>=0?"text-blue-700":"text-red-600")},C(x.profit)))),(0,l.createElement)("h4",{className:"font-bold text-gray-700 mb-3"},"Jurnal Transaksi (Buku Besar)"),a?(0,l.createElement)(Ke,null):(0,l.createElement)("div",{className:"overflow-x-auto"},(0,l.createElement)("table",{className:"w-full border-collapse text-sm"},(0,l.createElement)("thead",null,(0,l.createElement)("tr",{className:"bg-gray-100 border-b text-left"},(0,l.createElement)("th",{className:"p-3"},"Tanggal"),(0,l.createElement)("th",{className:"p-3"},"Kategori"),(0,l.createElement)("th",{className:"p-3"},"Keterangan"),(0,l.createElement)("th",{className:"p-3 text-right"},"Debit (Masuk)"),(0,l.createElement)("th",{className:"p-3 text-right"},"Kredit (Keluar)"))),(0,l.createElement)("tbody",null,y.map(e=>(0,l.createElement)("tr",{key:e.id,className:"border-b hover:bg-gray-50"},(0,l.createElement)("td",{className:"p-3"},e.transaction_date),(0,l.createElement)("td",{className:"p-3"},(0,l.createElement)("span",{className:"px-2 py-1 rounded text-xs "+("income"===e.type?"bg-green-100 text-green-800":"bg-red-100 text-red-800")},e.category||"Umum")),(0,l.createElement)("td",{className:"p-3"},e.description),(0,l.createElement)("td",{className:"p-3 text-right text-green-700 font-medium"},"income"===e.type?C(e.amount):"-"),(0,l.createElement)("td",{className:"p-3 text-right text-red-700 font-medium"},"expense"===e.type?C(e.amount):"-"))))))))))};function hl({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const bl=l.forwardRef(hl);function fl({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const El=l.forwardRef(fl);function xl({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const vl=l.forwardRef(xl),yl=()=>{const[e,t]=(0,l.useState)("attendance"),[a,r]=(0,l.useState)(!1),[n,s]=(0,l.useState)(null),[o,c]=(0,l.useState)([]),[i,m]=(0,l.useState)({lat:null,lng:null,error:null}),[d,u]=(0,l.useState)(!1),[p,g]=(0,l.useState)(!1),[h,b]=(0,l.useState)("");(0,l.useEffect)(()=>{"attendance"===e&&f()},[e]);const f=async()=>{r(!0);try{const e=await ke("/umh/v1/hr/attendance");c(e.data)}catch(e){console.error(e)}finally{r(!1)}},E=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{m({lat:e.coords.latitude,lng:e.coords.longitude,error:null})},e=>{m({...i,error:"Gagal mengambil lokasi. Pastikan GPS aktif."})}):m({...i,error:"Browser tidak support GPS"})},x=async e=>{if(!i.lat)return alert("Sedang mengambil lokasi... Silakan tunggu sebentar."),void E();u(!0);try{const t={latitude:i.lat,longitude:i.lng,type:e,qr_token:"office_qr"===e?h:null},a=await _e("/umh/v1/hr/attendance/submit",t);s({type:"success",text:a.data.message}),f(),g(!1)}catch(e){s({type:"error",text:e.response?.data?.message||"Gagal absen"})}finally{u(!1)}},v=[{header:"Nama Staff",accessor:"display_name"},{header:"Email",accessor:"user_email"},{header:"Jabatan",accessor:"position"},{header:"Gaji Pokok",accessor:"basic_salary",render:e=>e?`Rp ${parseInt(e).toLocaleString()}`:"-"}],y=[{header:"Nama Kantor",accessor:"name"},{header:"Koordinat",accessor:"latitude",render:(e,t)=>`${e}, ${t.longitude}`},{header:"Radius",accessor:"radius_meter",render:e=>`${e}m`},{header:"QR Code",accessor:"qr_token",render:(e,t)=>(0,l.createElement)("button",{onClick:()=>window.open(`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${e}`,"_blank"),className:"text-blue-600 underline text-xs flex items-center gap-1"},(0,l.createElement)(bl,{className:"h-4 w-4"})," Lihat QR")}];return(0,l.createElement)(Re,{title:"HR & Absensi Cerdas"},(0,l.createElement)("div",{className:"bg-white rounded shadow min-h-[500px]"},(0,l.createElement)("div",{className:"flex border-b overflow-x-auto"},(0,l.createElement)("button",{onClick:()=>t("attendance"),className:"px-6 py-4 font-bold flex items-center gap-2 whitespace-nowrap "+("attendance"===e?"border-b-2 border-green-500 text-green-700":"text-gray-500")},(0,l.createElement)(El,{className:"h-5 w-5"})," Absensi Hari Ini"),(0,l.createElement)("button",{onClick:()=>t("employees"),className:"px-6 py-4 font-bold flex items-center gap-2 whitespace-nowrap "+("employees"===e?"border-b-2 border-blue-500 text-blue-700":"text-gray-500")},(0,l.createElement)(vl,{className:"h-5 w-5"})," Data Karyawan"),(0,l.createElement)("button",{onClick:()=>t("offices"),className:"px-6 py-4 font-bold flex items-center gap-2 whitespace-nowrap "+("offices"===e?"border-b-2 border-purple-500 text-purple-700":"text-gray-500")},(0,l.createElement)(Rt,{className:"h-5 w-5"})," Lokasi Kantor & QR")),(0,l.createElement)("div",{className:"p-6"},n&&(0,l.createElement)(lt,{type:n.type,message:n.text}),"attendance"===e&&(0,l.createElement)("div",null,(0,l.createElement)("div",{className:"bg-gray-50 p-4 rounded-lg border mb-6 flex flex-col md:flex-row justify-between items-center gap-4"},(0,l.createElement)("div",null,(0,l.createElement)("h3",{className:"font-bold text-gray-800"},"Halo, Staff! Belum absen hari ini?"),(0,l.createElement)("p",{className:"text-sm text-gray-500"},"Lokasi Anda: ",i.lat?`${i.lat}, ${i.lng}`:i.error||"Mengambil lokasi..."),!i.lat&&(0,l.createElement)("button",{onClick:E,className:"text-xs text-blue-600 underline mt-1"},"Refresh Lokasi GPS")),(0,l.createElement)("div",{className:"flex gap-2"},(0,l.createElement)("button",{onClick:()=>g(!0),className:"bg-blue-600 text-white px-4 py-2 rounded shadow hover:bg-blue-700 flex items-center gap-2"},(0,l.createElement)(bl,{className:"h-5 w-5"})," Scan QR Kantor"),(0,l.createElement)("button",{onClick:()=>x("remote_gps"),className:"bg-green-600 text-white px-4 py-2 rounded shadow hover:bg-green-700 flex items-center gap-2"},(0,l.createElement)(Rt,{className:"h-5 w-5"})," Absen Remote"))),(0,l.createElement)("h4",{className:"font-bold mb-3 text-gray-600"},"Log Kehadiran Hari Ini"),a?(0,l.createElement)(Ke,null):(0,l.createElement)("div",{className:"overflow-x-auto"},(0,l.createElement)("table",{className:"w-full border-collapse text-sm"},(0,l.createElement)("thead",null,(0,l.createElement)("tr",{className:"bg-gray-100 border-b text-left"},(0,l.createElement)("th",{className:"p-3"},"Nama Staff"),(0,l.createElement)("th",{className:"p-3"},"Masuk"),(0,l.createElement)("th",{className:"p-3"},"Pulang"),(0,l.createElement)("th",{className:"p-3"},"Tipe"),(0,l.createElement)("th",{className:"p-3"},"Catatan"))),(0,l.createElement)("tbody",null,o.map(e=>(0,l.createElement)("tr",{key:e.id,className:"border-b"},(0,l.createElement)("td",{className:"p-3 font-medium"},e.display_name),(0,l.createElement)("td",{className:"p-3 text-green-700 font-bold"},e.check_in_time?e.check_in_time.split(" ")[1]:"-"),(0,l.createElement)("td",{className:"p-3 text-red-700 font-bold"},e.check_out_time?e.check_out_time.split(" ")[1]:"-"),(0,l.createElement)("td",{className:"p-3"},(0,l.createElement)("span",{className:"px-2 py-1 rounded text-xs "+("office_qr"===e.type?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800")},"office_qr"===e.type?"Kantor":"Remote")),(0,l.createElement)("td",{className:"p-3 text-gray-500 text-xs"},e.notes))),0===o.length&&(0,l.createElement)("tr",null,(0,l.createElement)("td",{colSpan:"5",className:"p-4 text-center text-gray-400"},"Belum ada data absen hari ini.")))))),"employees"===e&&(0,l.createElement)(Lt,{endpoint:"/umh/v1/hr/employees",columns:v,formFields:[{name:"user_id",label:"User ID (WP)",type:"number",required:!0,placeholder:"ID User WordPress"},{name:"position",label:"Jabatan",type:"text",required:!0},{name:"basic_salary",label:"Gaji Pokok",type:"number"},{name:"allowance_transport",label:"Tunjangan Transport",type:"number"},{name:"allowance_meal",label:"Tunjangan Makan",type:"number"}],title:"Database Karyawan"}),"offices"===e&&(0,l.createElement)("div",null,(0,l.createElement)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4 text-sm text-yellow-800"},(0,l.createElement)("p",{className:"font-bold"},"Cara Kerja Absen QR:"),(0,l.createElement)("ul",{className:"list-disc ml-4 mt-1"},(0,l.createElement)("li",null,"Tambahkan lokasi kantor beserta koordinat Latitude & Longitude yang akurat."),(0,l.createElement)("li",null,'Klik "Lihat QR" pada tabel, lalu cetak QR Code tersebut dan tempel di dinding kantor.'),(0,l.createElement)("li",null,"Karyawan hanya bisa absen jika scan QR tersebut DAN posisi GPS mereka berada dalam radius yang ditentukan."))),(0,l.createElement)(Lt,{endpoint:"/umh/v1/hr/offices",columns:y,formFields:[{name:"name",label:"Nama Kantor",type:"text",required:!0},{name:"latitude",label:"Latitude",type:"text",placeholder:"-6.200000"},{name:"longitude",label:"Longitude",type:"text",placeholder:"106.816666"},{name:"radius_meter",label:"Radius Toleransi (Meter)",type:"number",defaultValue:50}],title:"Lokasi Kantor"}))),p&&(0,l.createElement)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50"},(0,l.createElement)("div",{className:"bg-white p-6 rounded-lg w-96 text-center"},(0,l.createElement)("h3",{className:"text-lg font-bold mb-4"},"Scan QR Code Kantor"),(0,l.createElement)("div",{className:"bg-gray-100 p-4 rounded mb-4 border-2 border-dashed border-gray-300"},(0,l.createElement)(bl,{className:"h-20 w-20 mx-auto text-gray-400 mb-2"}),(0,l.createElement)("p",{className:"text-xs text-gray-500"},"Kamera Scanner Aktif...")),(0,l.createElement)("div",{className:"mb-4"},(0,l.createElement)("label",{className:"block text-xs text-left font-bold text-gray-500 mb-1"},"Simulasi Hasil Scan (Isi Token QR):"),(0,l.createElement)("input",{type:"text",className:"w-full border p-2 rounded text-sm",placeholder:"Masukkan Token dari Data Kantor...",value:h,onChange:e=>b(e.target.value)})),(0,l.createElement)("button",{onClick:()=>x("office_qr"),disabled:d,className:"w-full bg-blue-600 text-white py-2 rounded font-bold hover:bg-blue-700 mb-2"},d?"Memvalidasi...":"Verifikasi & Absen"),(0,l.createElement)("button",{onClick:()=>g(!1),className:"w-full bg-gray-200 text-gray-700 py-2 rounded hover:bg-gray-300"},"Batal")))))};function Nl({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m3.75 9v7.5m2.25-6.466a9.016 9.016 0 0 0-3.461-.203c-.536.072-.974.478-1.021 1.017a4.559 4.559 0 0 0-.018.402c0 .464.336.844.775.994l2.95 1.012c.44.15.775.53.775.994 0 .136-.006.27-.018.402-.047.539-.485.945-1.021 1.017a9.077 9.077 0 0 1-3.461-.203M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const wl=l.forwardRef(Nl);function kl({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const _l=l.forwardRef(kl),Cl=()=>{const[e,t]=(0,l.useState)("payroll"),[a,r]=(0,l.useState)(!1),[n,s]=(0,l.useState)(null),[o,c]=(0,l.useState)((new Date).toISOString().slice(0,7)),[i,m]=(0,l.useState)([]),[d,u]=(0,l.useState)([]);(0,l.useEffect)(()=>{ke("/umh/v1/hr/employees").then(e=>u(e.data))},[]),(0,l.useEffect)(()=>{"payroll"===e&&p()},[e,o]);const p=async()=>{r(!0);try{const e=await ke(`/umh/v1/hr/payroll?period=${o}`);m(e.data)}catch(e){console.error(e)}finally{r(!1)}},g=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(e),h=[{header:"Nama Karyawan",accessor:"display_name"},{header:"Jumlah Pinjaman",accessor:"amount",render:e=>g(e)},{header:"Sisa Hutang",accessor:"remaining_amount",render:e=>(0,l.createElement)("span",{className:"text-red-600 font-bold"},g(e))},{header:"Tenor",accessor:"repayment_months",render:e=>`${e} Bulan`},{header:"Status",accessor:"status",render:e=>(0,l.createElement)("span",{className:"px-2 py-1 rounded text-xs uppercase font-bold "+("approved"===e?"bg-green-100 text-green-800":"paid_off"===e?"bg-gray-200 text-gray-500 line-through":"bg-yellow-100 text-yellow-800")},e)}],b=[{name:"employee_id",label:"Karyawan",type:"select",options:d.map(e=>({value:e.id,label:e.display_name})),required:!0},{name:"amount",label:"Nominal Pinjaman (Rp)",type:"number",required:!0},{name:"repayment_months",label:"Dicicil Berapa Kali?",type:"number",defaultValue:1},{name:"reason",label:"Alasan",type:"textarea"},{name:"status",label:"Status Persetujuan",type:"select",options:[{value:"pending",label:"Pending Review"},{value:"approved",label:"Disetujui (Cairkan)"},{value:"rejected",label:"Ditolak"}]}];return(0,l.createElement)(Re,{title:"Payroll & Keuangan Karyawan"},(0,l.createElement)("div",{className:"bg-white rounded shadow min-h-[500px]"},(0,l.createElement)("div",{className:"flex border-b"},(0,l.createElement)("button",{onClick:()=>t("payroll"),className:"px-6 py-4 font-bold flex items-center gap-2 "+("payroll"===e?"border-b-2 border-green-500 text-green-700":"text-gray-500")},(0,l.createElement)(wl,{className:"h-5 w-5"})," Penggajian (Payroll)"),(0,l.createElement)("button",{onClick:()=>t("loans"),className:"px-6 py-4 font-bold flex items-center gap-2 "+("loans"===e?"border-b-2 border-red-500 text-red-700":"text-gray-500")},(0,l.createElement)(Ue,{className:"h-5 w-5"})," Kasbon & Pinjaman")),(0,l.createElement)("div",{className:"p-6"},n&&(0,l.createElement)(lt,{type:n.type,message:n.text}),"payroll"===e&&(0,l.createElement)("div",null,(0,l.createElement)("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 bg-gray-50 p-4 rounded border"},(0,l.createElement)("div",{className:"flex items-center gap-4"},(0,l.createElement)("label",{className:"font-bold text-gray-700"},"Periode Gaji:"),(0,l.createElement)("input",{type:"month",value:o,onChange:e=>c(e.target.value),className:"border p-2 rounded"})),(0,l.createElement)("button",{onClick:async()=>{if(window.confirm(`Generate gaji untuk periode ${o}? Data yang sudah ada tidak akan ditimpa.`)){r(!0);try{const e=await _e("/umh/v1/hr/payroll/generate",{period:o});s({type:"success",text:e.data.message}),p()}catch(e){s({type:"error",text:"Gagal generate payroll."})}finally{r(!1)}}},disabled:a,className:"bg-blue-600 text-white px-4 py-2 rounded font-bold hover:bg-blue-700 flex items-center gap-2"},(0,l.createElement)(wl,{className:"h-5 w-5"}),"Generate Gaji ",o)),a?(0,l.createElement)(Ke,null):(0,l.createElement)("div",{className:"overflow-x-auto"},(0,l.createElement)("table",{className:"w-full border-collapse text-sm"},(0,l.createElement)("thead",null,(0,l.createElement)("tr",{className:"bg-gray-100 border-b text-left text-gray-600"},(0,l.createElement)("th",{className:"p-3"},"Karyawan"),(0,l.createElement)("th",{className:"p-3 text-right"},"Gaji Pokok"),(0,l.createElement)("th",{className:"p-3 text-right"},"Tunjangan"),(0,l.createElement)("th",{className:"p-3 text-right text-red-600"},"Potongan (Kasbon)"),(0,l.createElement)("th",{className:"p-3 text-right font-bold text-green-700"},"Gaji Bersih"),(0,l.createElement)("th",{className:"p-3 text-center"},"Status"),(0,l.createElement)("th",{className:"p-3 text-center"},"Aksi"))),(0,l.createElement)("tbody",null,i.map(e=>(0,l.createElement)("tr",{key:e.id,className:"border-b hover:bg-gray-50"},(0,l.createElement)("td",{className:"p-3"},(0,l.createElement)("div",{className:"font-bold"},e.display_name),(0,l.createElement)("div",{className:"text-xs text-gray-500"},e.position)),(0,l.createElement)("td",{className:"p-3 text-right"},g(e.basic_salary)),(0,l.createElement)("td",{className:"p-3 text-right"},g(e.total_allowance)),(0,l.createElement)("td",{className:"p-3 text-right text-red-600"},e.total_deductions>0?`(${g(e.total_deductions)})`:"-"),(0,l.createElement)("td",{className:"p-3 text-right font-bold text-green-700 text-lg"},g(e.net_salary)),(0,l.createElement)("td",{className:"p-3 text-center"},(0,l.createElement)("span",{className:"px-2 py-1 rounded text-xs uppercase font-bold "+("paid"===e.status?"bg-green-100 text-green-800":"bg-gray-200 text-gray-600")},e.status)),(0,l.createElement)("td",{className:"p-3 text-center flex justify-center gap-2"},"draft"===e.status&&(0,l.createElement)("button",{onClick:()=>(async e=>{if(window.confirm("Tandai gaji ini SUDAH DIBAYAR? Status tidak bisa dikembalikan."))try{await _e("/umh/v1/hr/payroll/pay",{id:e}),p(),s({type:"success",text:"Status berhasil diupdate."})}catch(e){alert("Gagal update status")}})(e.id),className:"bg-green-600 text-white px-2 py-1 rounded text-xs hover:bg-green-700 flex items-center gap-1",title:"Tandai Sudah Dibayar"},(0,l.createElement)(yt,{className:"h-4 w-4"})," Bayar"),(0,l.createElement)("button",{className:"text-gray-500 hover:text-blue-600",title:"Cetak Slip"},(0,l.createElement)(_l,{className:"h-5 w-5"}))))),0===i.length&&(0,l.createElement)("tr",null,(0,l.createElement)("td",{colSpan:"7",className:"p-8 text-center text-gray-400"},"Belum ada data gaji untuk periode ini. Klik Generate.")))))),"loans"===e&&(0,l.createElement)("div",null,(0,l.createElement)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6 text-sm text-red-800"},(0,l.createElement)("strong",null,"Info Kasbon:"),' Jika status kasbon "Approved", sistem akan otomatis memotong gaji karyawan tersebut pada saat Generate Payroll bulan berikutnya sampai lunas.'),(0,l.createElement)(Lt,{endpoint:"/umh/v1/hr/loans",columns:h,formFields:b,title:"Data Peminjaman Karyawan"})))))};function Sl({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"}))}const jl=l.forwardRef(Sl),Ll=()=>{const[e,t]=(0,l.useState)("list"),[a,r]=(0,l.useState)([]),[n,s]=(0,l.useState)(!1),o=[{header:"Nama Agen",accessor:"display_name",render:(e,t)=>(0,l.createElement)("div",null,(0,l.createElement)("div",{className:"font-bold text-blue-900"},e),(0,l.createElement)("div",{className:"text-xs text-gray-500"},t.agent_code))},{header:"Level",accessor:"level",render:e=>(0,l.createElement)("span",{className:"px-2 py-1 rounded text-xs uppercase font-bold "+("gold"===e?"bg-yellow-100 text-yellow-800":"bg-gray-200 text-gray-700")},e)},{header:"Fee/Pax",accessor:"fixed_commission",render:e=>e>0?`Rp ${parseInt(e).toLocaleString()}`:"-"},{header:"Pending Komisi",accessor:"pending_commission",render:e=>e>0?(0,l.createElement)("span",{className:"text-red-600 font-bold"},"Rp ",parseInt(e).toLocaleString()):"-"},{header:"Total Sales",accessor:"total_sales",render:e=>`${e} Booking`}];(0,l.useEffect)(()=>{"commissions"===e&&c()},[e]);const c=async()=>{s(!0);try{const e=await ke("/umh/v1/agents/commissions");r(e.data)}catch(e){console.error(e)}finally{s(!1)}};return(0,l.createElement)(Re,{title:"Kemitraan & Keagenan"},(0,l.createElement)("div",{className:"bg-white rounded shadow min-h-[500px]"},(0,l.createElement)("div",{className:"flex border-b"},(0,l.createElement)("button",{onClick:()=>t("list"),className:"px-6 py-4 font-bold flex items-center gap-2 "+("list"===e?"border-b-2 border-blue-500 text-blue-700":"text-gray-500")},(0,l.createElement)(Wa,{className:"h-5 w-5"})," Data Mitra Agen"),(0,l.createElement)("button",{onClick:()=>t("commissions"),className:"px-6 py-4 font-bold flex items-center gap-2 "+("commissions"===e?"border-b-2 border-green-500 text-green-700":"text-gray-500")},(0,l.createElement)(Ue,{className:"h-5 w-5"})," Riwayat Komisi")),(0,l.createElement)("div",{className:"p-6"},"list"===e&&(0,l.createElement)("div",null,(0,l.createElement)("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mb-4 text-sm text-blue-800"},(0,l.createElement)("p",{className:"font-bold"},"Info:"),(0,l.createElement)("p",null,"Daftarkan User WordPress sebagai Agen di sini. Level agen menentukan besaran komisi default mereka.")),(0,l.createElement)(Lt,{endpoint:"/umh/v1/agents",columns:o,formFields:[{name:"user_id",label:"User ID (WP)",type:"number",required:!0,placeholder:"ID User WordPress"},{name:"level",label:"Level Kemitraan",type:"select",options:[{value:"silver",label:"Silver"},{value:"gold",label:"Gold"},{value:"platinum",label:"Platinum"}]},{name:"fixed_commission",label:"Komisi Tetap per Jemaah (Rp)",type:"number",placeholder:"500000"},{name:"commission_rate",label:"Atau Komisi Persen (%)",type:"number",placeholder:"0"},{name:"bank_name",label:"Nama Bank",type:"text"},{name:"bank_account_number",label:"No. Rekening",type:"text"},{name:"bank_account_holder",label:"Atas Nama",type:"text"}],title:"Database Agen"})),"commissions"===e&&(0,l.createElement)("div",null,(0,l.createElement)("h3",{className:"font-bold text-gray-700 mb-4"},"Laporan Komisi Agen"),n?(0,l.createElement)(Ke,null):(0,l.createElement)("div",{className:"overflow-x-auto"},(0,l.createElement)("table",{className:"w-full border-collapse text-sm"},(0,l.createElement)("thead",null,(0,l.createElement)("tr",{className:"bg-gray-100 border-b text-left"},(0,l.createElement)("th",{className:"p-3"},"Tanggal"),(0,l.createElement)("th",{className:"p-3"},"Nama Agen"),(0,l.createElement)("th",{className:"p-3"},"Sumber (Booking)"),(0,l.createElement)("th",{className:"p-3 text-right"},"Nominal"),(0,l.createElement)("th",{className:"p-3 text-center"},"Status"),(0,l.createElement)("th",{className:"p-3 text-center"},"Aksi"))),(0,l.createElement)("tbody",null,a.map(e=>(0,l.createElement)("tr",{key:e.id,className:"border-b hover:bg-gray-50"},(0,l.createElement)("td",{className:"p-3"},new Date(e.created_at).toLocaleDateString()),(0,l.createElement)("td",{className:"p-3 font-medium"},e.agent_name),(0,l.createElement)("td",{className:"p-3"},(0,l.createElement)("span",{className:"bg-gray-100 px-2 py-1 rounded text-xs"},e.booking_code),(0,l.createElement)("div",{className:"text-xs text-gray-500 mt-1"},e.description)),(0,l.createElement)("td",{className:"p-3 text-right font-bold text-green-600"},"Rp ",parseInt(e.amount).toLocaleString()),(0,l.createElement)("td",{className:"p-3 text-center"},(0,l.createElement)("span",{className:"px-2 py-1 rounded text-xs uppercase "+("paid"===e.status?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800")},e.status)),(0,l.createElement)("td",{className:"p-3 text-center"},"pending"===e.status&&(0,l.createElement)("button",{onClick:()=>(async e=>{if(window.confirm("Tandai komisi ini sudah dibayarkan ke agen?"))try{await _e("/umh/v1/agents/payout",{id:e}),c()}catch(e){alert("Gagal proses payout")}})(e.id),className:"text-xs bg-blue-600 text-white px-2 py-1 rounded hover:bg-blue-700 flex items-center gap-1 mx-auto"},(0,l.createElement)(jl,{className:"h-3 w-3"})," Bayar"),"paid"===e.status&&(0,l.createElement)("span",{className:"text-xs text-gray-400"},"Selesai")))),0===a.length&&(0,l.createElement)("tr",null,(0,l.createElement)("td",{colSpan:"6",className:"p-6 text-center text-gray-400"},"Belum ada data komisi.")))))))))},Pl=()=>{const e=[{header:"Nama Prospek",accessor:"name"},{header:"No. WA",accessor:"phone"},{header:"Sumber",accessor:"source",render:e=>(0,l.createElement)("span",{className:"bg-gray-200 px-2 py-1 rounded text-xs"},e)},{header:"Minat",accessor:"interest_level",render:e=>(0,l.createElement)("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase ${{hot:"bg-red-100 text-red-800",warm:"bg-yellow-100 text-yellow-800",cold:"bg-blue-100 text-blue-800"}[e]}`},e)},{header:"Status",accessor:"status"},{header:"Follow Up",accessor:"next_follow_up"}];return(0,l.createElement)(Re,{title:"Marketing Pipeline (Leads)"},(0,l.createElement)("div",{className:"bg-white p-6 rounded shadow"},(0,l.createElement)("div",{className:"mb-4 bg-purple-50 p-4 border-l-4 border-purple-500 text-purple-800 text-sm"},(0,l.createElement)("p",null,(0,l.createElement)("strong",null,"Database Calon Jemaah:")," Catat semua orang yang menghubungi travel Anda di sini. Jangan biarkan prospek hilang tanpa di-follow up.")),(0,l.createElement)(Lt,{endpoint:"/umh/v1/marketing/leads",columns:e,formFields:[{name:"name",label:"Nama Calon Jemaah",type:"text",required:!0},{name:"phone",label:"No. WhatsApp",type:"text",required:!0},{name:"source",label:"Sumber Info",type:"select",options:[{value:"ig",label:"Instagram"},{value:"fb",label:"Facebook Ads"},{value:"wa",label:"WhatsApp"},{value:"walkin",label:"Datang Langsung"}]},{name:"interest_level",label:"Tingkat Minat",type:"select",options:[{value:"cold",label:"Cold (Tanya-tanya)"},{value:"warm",label:"Warm (Tertarik)"},{value:"hot",label:"Hot (Siap Bayar)"}]},{name:"status",label:"Status",type:"select",options:[{value:"new",label:"Baru"},{value:"contacted",label:"Sudah Dihubungi"},{value:"converted",label:"Closing (Booking)"},{value:"lost",label:"Batal"}]},{name:"next_follow_up",label:"Jadwal Follow Up",type:"date"},{name:"notes",label:"Catatan",type:"textarea"}],title:"Daftar Prospek"})))},Ml=()=>{const[e,t]=(0,l.useState)("locations"),a=[{header:"Nama Lokasi",accessor:"name"},{header:"Kode (IATA)",accessor:"code"},{header:"Tipe",accessor:"type",render:e=>"airport"===e?(0,l.createElement)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs"},"Bandara"):(0,l.createElement)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs"},"Kota")},{header:"Negara",accessor:"country"}],r=[{header:"Nama Maskapai",accessor:"name"},{header:"Kode",accessor:"code"},{header:"Logo",accessor:"logo_url",render:e=>e?(0,l.createElement)("img",{src:e,alt:"logo",className:"h-8"}):"-"}];return(0,l.createElement)(Re,{title:"Master Data Umum"},(0,l.createElement)("div",{className:"bg-white rounded-lg shadow"},(0,l.createElement)("div",{className:"flex border-b"},(0,l.createElement)("button",{className:"px-6 py-4 font-medium "+("locations"===e?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"),onClick:()=>t("locations")},"Lokasi & Bandara"),(0,l.createElement)("button",{className:"px-6 py-4 font-medium "+("airlines"===e?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"),onClick:()=>t("airlines")},"Maskapai Penerbangan")),(0,l.createElement)("div",{className:"p-6"},"locations"===e&&(0,l.createElement)("div",null,(0,l.createElement)("div",{className:"mb-4 bg-blue-50 p-4 rounded text-sm text-blue-800"},"ðŸ’¡ Masukkan data Bandara (CGK, JED, MED) dan Kota (Makkah, Madinah) di sini untuk digunakan pada Jadwal Keberangkatan."),(0,l.createElement)(Lt,{endpoint:"/umh/v1/masters/locations",columns:a,formFields:[{name:"name",label:"Nama Lokasi",type:"text",required:!0},{name:"code",label:"Kode (Misal: CGK/JED)",type:"text"},{name:"type",label:"Tipe",type:"select",options:[{value:"city",label:"Kota"},{value:"airport",label:"Bandara"}]},{name:"country",label:"Negara",type:"text",defaultValue:"Saudi Arabia"}],title:"Data Lokasi"})),"airlines"===e&&(0,l.createElement)("div",null,(0,l.createElement)("div",{className:"mb-4 bg-green-50 p-4 rounded text-sm text-green-800"},"ðŸ’¡ Data Maskapai (Garuda, Saudia, Qatar) akan muncul di detail paket dan itinerary."),(0,l.createElement)(Lt,{endpoint:"/umh/v1/masters/airlines",columns:r,formFields:[{name:"name",label:"Nama Maskapai",type:"text",required:!0},{name:"code",label:"Kode (Misal: SV/GA)",type:"text"},{name:"logo_url",label:"URL Logo",type:"text"}],title:"Data Maskapai"})))))},Dl=De("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Al=({onSearch:e,placeholder:t="Cari..."})=>{const[a,r]=(0,l.useState)("");return(0,l.createElement)("form",{onSubmit:t=>{t.preventDefault(),e(a)},className:"relative w-full max-w-xs"},(0,l.createElement)("input",{type:"text",value:a,onChange:t=>{r(t.target.value),""===t.target.value&&e("")},placeholder:t,className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,l.createElement)("button",{type:"submit",className:"absolute inset-y-0 right-0 flex items-center justify-center px-3 text-gray-400 hover:text-blue-600"},(0,l.createElement)(Dl,{size:18})))},Bl=De("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Il=De("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Rl=De("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),Tl=De("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Kl=De("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),$l=De("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Hl=()=>{const{user:e}=Le(),{data:t,loading:a,pagination:r,fetchData:n,createItem:s,updateItem:o,deleteItem:c,changePage:i,changeLimit:m}=Da("umh/v1/users"),[d,u]=(0,l.useState)(!1),[p,g]=(0,l.useState)(null),[h,b]=(0,l.useState)({}),[f,E]=(0,l.useState)(""),[x,v]=(0,l.useState)("");(0,l.useEffect)(()=>{n()},[n]);const y=(e=null)=>{e?(b({...e,password:""}),g(e.id)):(b({role:"subscriber",status:"active"}),g(null)),E(""),u(!0)},N=[{header:"User Info",accessor:"username",render:e=>(0,l.createElement)("div",{className:"flex items-center gap-3"},(0,l.createElement)("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-600 font-bold text-lg"},e.full_name?e.full_name.charAt(0).toUpperCase():"U"),(0,l.createElement)("div",null,(0,l.createElement)("div",{className:"font-bold text-gray-900"},e.full_name),(0,l.createElement)("div",{className:"text-xs text-gray-500"},"@",e.username)))},{header:"Kontak",accessor:"email",render:e=>(0,l.createElement)("div",{className:"text-sm"},(0,l.createElement)("div",{className:"flex items-center gap-1"},(0,l.createElement)(Bl,{size:12,className:"text-gray-400"})," ",e.email),(0,l.createElement)("div",{className:"flex items-center gap-1"},(0,l.createElement)(Il,{size:12,className:"text-gray-400"})," ",e.phone||"-"))},{header:"Role",accessor:"role",render:e=>{const t=e.role;let a="bg-gray-100 text-gray-800";return"administrator"===t&&(a="bg-purple-100 text-purple-800"),"agent"===t&&(a="bg-blue-100 text-blue-800"),"editor"===t&&(a="bg-yellow-100 text-yellow-800"),(0,l.createElement)("span",{className:`px-2 py-1 rounded-full text-xs font-semibold capitalize flex w-fit items-center gap-1 ${a}`},"administrator"===t&&(0,l.createElement)(Rl,{size:10}),t)}},{header:"Status",accessor:"status",render:e=>(0,l.createElement)("span",{className:"px-2 py-0.5 rounded text-[10px] font-bold uppercase "+("active"===e.status?"bg-green-100 text-green-700":"bg-red-100 text-red-700")},e.status)}];return(0,l.createElement)(Re,{title:"Manajemen Pengguna"},(0,l.createElement)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 mb-4 flex flex-col md:flex-row justify-between items-center gap-4"},(0,l.createElement)("div",{className:"w-full md:w-1/3"},(0,l.createElement)(Al,{placeholder:"Cari nama, username atau email...",onSearch:e=>{v(e),n(1,r.limit,e)}})),(0,l.createElement)("button",{onClick:()=>y(),className:"btn-primary flex items-center gap-2 shadow-sm hover:shadow-md transition-all"},(0,l.createElement)(Tl,{size:18})," Tambah User")),(0,l.createElement)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden"},(0,l.createElement)(Lt,{columns:N,data:t,loading:a,onEdit:y,onDelete:async t=>{if(e&&t.id===e.id)return Ma.error("Anda tidak dapat menghapus akun Anda sendiri!");window.confirm(`Apakah Anda yakin ingin menghapus user "${t.username}"?`)&&await c(t.id)}}),(0,l.createElement)(Oa,{pagination:r,onPageChange:i,onLimitChange:m})),(0,l.createElement)(Kt,{isOpen:d,onClose:()=>u(!1),title:p?"Edit User":"Tambah User Baru"},(0,l.createElement)("form",{onSubmit:async e=>{if(e.preventDefault(),!p&&h.password!==f)return Ma.error("Password dan Konfirmasi Password tidak sama!");if(p&&h.password&&h.password!==f)return Ma.error("Password baru dan konfirmasi tidak sama!");const t={...h};p&&!t.password&&delete t.password,(p?await o(p,t):await s(t))&&(u(!1),E(""),Ma.success(p?"User berhasil diperbarui":"User baru berhasil dibuat"))},className:"space-y-5"},(0,l.createElement)("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-100"},(0,l.createElement)("h4",{className:"text-sm font-bold text-blue-800 mb-3 flex items-center gap-2"},(0,l.createElement)(Kl,{size:14})," Informasi Login"),(0,l.createElement)("div",{className:"grid grid-cols-2 gap-3"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Username"),(0,l.createElement)("input",{className:"input-field "+(p?"bg-gray-100":""),value:h.username||"",onChange:e=>b({...h,username:e.target.value}),required:!0,disabled:!!p,placeholder:"johndoe"})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Email"),(0,l.createElement)("input",{type:"email",className:"input-field",value:h.email||"",onChange:e=>b({...h,email:e.target.value}),required:!0,placeholder:"user@email.com"})))),(0,l.createElement)("div",null,(0,l.createElement)("h4",{className:"text-sm font-bold text-gray-700 mb-2 flex items-center gap-2"},(0,l.createElement)($l,{size:14})," Profil Pengguna"),(0,l.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,l.createElement)("div",{className:"md:col-span-2"},(0,l.createElement)("label",{className:"label"},"Nama Lengkap"),(0,l.createElement)("input",{className:"input-field",value:h.full_name||"",onChange:e=>b({...h,full_name:e.target.value}),required:!0,placeholder:"Nama Lengkap User"})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"No. Telepon"),(0,l.createElement)("input",{className:"input-field",value:h.phone||"",onChange:e=>b({...h,phone:e.target.value}),placeholder:"0812..."})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Role / Peran"),(0,l.createElement)("select",{className:"input-field capitalize",value:h.role||"subscriber",onChange:e=>b({...h,role:e.target.value})},(0,l.createElement)("option",{value:"subscriber"},"Subscriber (Jemaah)"),(0,l.createElement)("option",{value:"administrator"},"Administrator (Full)"),(0,l.createElement)("option",{value:"admin_staff"},"Admin Staff"),(0,l.createElement)("option",{value:"finance_staff"},"Finance Staff"),(0,l.createElement)("option",{value:"marketing_staff"},"Marketing Staff"),(0,l.createElement)("option",{value:"agent"},"Agent (Mitra)"))),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Status Akun"),(0,l.createElement)("select",{className:"input-field",value:h.status||"active",onChange:e=>b({...h,status:e.target.value})},(0,l.createElement)("option",{value:"active"},"Aktif"),(0,l.createElement)("option",{value:"inactive"},"Non-Aktif / Blokir"))))),(0,l.createElement)("div",{className:"border-t pt-4 mt-2"},(0,l.createElement)("div",{className:"flex items-center justify-between mb-2"},(0,l.createElement)("h4",{className:"text-sm font-bold text-gray-700 flex items-center gap-2"},(0,l.createElement)(Rl,{size:14})," ",p?"Ubah Password (Opsional)":"Buat Password")),p&&(0,l.createElement)("div",{className:"text-xs text-yellow-600 bg-yellow-50 p-2 rounded mb-2"},"Kosongkan jika tidak ingin mengubah password."),(0,l.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Password"),(0,l.createElement)("input",{type:"password",className:"input-field",value:h.password||"",onChange:e=>b({...h,password:e.target.value}),placeholder:"********",required:!p,minLength:6})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Konfirmasi"),(0,l.createElement)("input",{type:"password",className:"input-field "+(f&&h.password!==f?"border-red-500":""),value:f,onChange:e=>E(e.target.value),placeholder:"********",required:!p||h.password})))),(0,l.createElement)("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4"},(0,l.createElement)("button",{type:"button",onClick:()=>u(!1),className:"btn-secondary"},"Batal"),(0,l.createElement)("button",{type:"submit",className:"btn-primary w-32",disabled:!(p||h.password&&h.password===f)},"Simpan")))))},Ol=De("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Ul=()=>{const{data:e,loading:t,fetchData:a,createItem:r,updateItem:n,deleteItem:s}=Da("umh/v1/roles"),[o,c]=(0,l.useState)(!1),[i,m]=(0,l.useState)(null),[d,u]=(0,l.useState)({name:"",display_name:"",capabilities:{}});(0,l.useEffect)(()=>{a()},[a]);const p=[{header:"Nama Peran",accessor:"display_name",className:"font-bold text-gray-800"},{header:"Slug (ID)",accessor:"name",render:e=>(0,l.createElement)("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs text-red-500"},e.name)},{header:"Akses Utama",accessor:"capabilities",render:e=>{const t=Object.keys(e.capabilities||{}).filter(t=>e.capabilities[t]).length;return(0,l.createElement)("span",{className:"text-xs text-gray-500"},t," hak akses aktif")}}];return(0,l.createElement)(Re,{title:"Manajemen Peran & Akses"},(0,l.createElement)("div",{className:"flex justify-between items-center mb-6"},(0,l.createElement)("div",null,(0,l.createElement)("h2",{className:"text-lg font-bold text-gray-800"},"Peran Pengguna (Roles)"),(0,l.createElement)("p",{className:"text-sm text-gray-500"},"Buat peran khusus untuk staf, agen, atau manajer.")),(0,l.createElement)("button",{onClick:()=>{m(null),c(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded shadow hover:bg-blue-700 flex items-center gap-2"},(0,l.createElement)(Rl,{size:18})," Buat Peran Baru")),t?(0,l.createElement)(Ke,null):(0,l.createElement)(Lt,{columns:p,data:e,onEdit:e=>{u(e),m(e.name),c(!0)},onDelete:e=>s(e.name)}),(0,l.createElement)(Kt,{isOpen:o,onClose:()=>c(!1),title:i?"Edit Peran":"Peran Baru"},(0,l.createElement)("form",{onSubmit:async e=>{e.preventDefault(),i||d.name||!d.display_name||(d.name=d.display_name.toLowerCase().replace(/ /g,"_")),(i?await n(i,d):await r(d))&&(c(!1),u({name:"",display_name:"",capabilities:{}}))},className:"space-y-4"},(0,l.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Nama Tampilan"),(0,l.createElement)("input",{className:"w-full px-3 py-2 border rounded-md",value:d.display_name,onChange:e=>u({...d,display_name:e.target.value}),required:!0,placeholder:"Contoh: Staf Keuangan"})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Slug / ID (Unik)"),(0,l.createElement)("input",{className:"w-full px-3 py-2 border rounded-md bg-gray-50",value:d.name,onChange:e=>u({...d,name:e.target.value}),disabled:!!i,placeholder:"finance_staff"}),i&&(0,l.createElement)("p",{className:"text-xs text-gray-400 mt-1"},"Slug tidak dapat diubah setelah dibuat."))),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2"},(0,l.createElement)(Ol,{size:14})," Hak Akses (Capabilities)"),(0,l.createElement)("div",{className:"grid grid-cols-2 gap-2 bg-gray-50 p-4 rounded-lg border border-gray-200 h-48 overflow-y-auto custom-scrollbar"},[{id:"read",label:"Read (Baca Data)"},{id:"edit_posts",label:"Edit Data"},{id:"upload_files",label:"Upload File"},{id:"manage_options",label:"Kelola Pengaturan"},{id:"manage_agents",label:"Kelola Agen"},{id:"manage_finance",label:"Kelola Keuangan"}].map(e=>(0,l.createElement)("label",{key:e.id,className:"flex items-center gap-2 cursor-pointer hover:bg-white p-2 rounded transition-colors"},(0,l.createElement)("input",{type:"checkbox",className:"rounded text-blue-600 focus:ring-blue-500",checked:!!d.capabilities?.[e.id],onChange:()=>{return t=e.id,void u(e=>({...e,capabilities:{...e.capabilities,[t]:!e.capabilities[t]}}));var t}}),(0,l.createElement)("span",{className:"text-sm text-gray-700"},e.label))))),(0,l.createElement)("div",{className:"flex justify-end gap-2 pt-4 border-t"},(0,l.createElement)("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded hover:bg-gray-200"},"Batal"),(0,l.createElement)("button",{type:"submit",className:"px-4 py-2 text-white bg-blue-600 rounded hover:bg-blue-700"},"Simpan Peran")))))},zl=De("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),ql=De("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Wl=De("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Jl=De("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Vl=De("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Zl=()=>{const[e,t]=(0,l.useState)({company_name:"Travel Umroh Berkah",currency_symbol:"Rp",currency_code:"IDR",email_notifications:!0,whatsapp_notifications:!0,default_departure_city:"Jakarta",maintenance_mode:!1}),a=(e,a)=>{t(t=>({...t,[e]:a}))};return(0,l.createElement)(Re,{title:"Pengaturan Sistem"},(0,l.createElement)("div",{className:"max-w-4xl mx-auto"},(0,l.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-6"},(0,l.createElement)("div",{className:"p-4 border-b border-gray-100 bg-gray-50 flex items-center gap-2"},(0,l.createElement)(zl,{className:"text-blue-600",size:20}),(0,l.createElement)("h3",{className:"font-bold text-gray-800"},"Umum")),(0,l.createElement)("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Nama Perusahaan Travel"),(0,l.createElement)("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",value:e.company_name,onChange:e=>a("company_name",e.target.value)}),(0,l.createElement)("p",{className:"text-xs text-gray-400 mt-1"},"Akan muncul di invoice dan header laporan.")),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Kota Keberangkatan Default"),(0,l.createElement)("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",value:e.default_departure_city,onChange:e=>a("default_departure_city",e.target.value)})))),(0,l.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-6"},(0,l.createElement)("div",{className:"p-4 border-b border-gray-100 bg-gray-50 flex items-center gap-2"},(0,l.createElement)(ql,{className:"text-green-600",size:20}),(0,l.createElement)("h3",{className:"font-bold text-gray-800"},"Keuangan")),(0,l.createElement)("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Simbol Mata Uang"),(0,l.createElement)("input",{type:"text",className:"w-24 px-3 py-2 border rounded-md",value:e.currency_symbol,onChange:e=>a("currency_symbol",e.target.value)})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Kode Mata Uang (ISO)"),(0,l.createElement)("input",{type:"text",className:"w-24 px-3 py-2 border rounded-md",value:e.currency_code,onChange:e=>a("currency_code",e.target.value)})))),(0,l.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-6"},(0,l.createElement)("div",{className:"p-4 border-b border-gray-100 bg-gray-50 flex items-center gap-2"},(0,l.createElement)(Wl,{className:"text-orange-600",size:20}),(0,l.createElement)("h3",{className:"font-bold text-gray-800"},"Notifikasi")),(0,l.createElement)("div",{className:"p-6 space-y-4"},(0,l.createElement)("div",{className:"flex items-center justify-between"},(0,l.createElement)("div",null,(0,l.createElement)("h4",{className:"font-semibold text-gray-700"},"Notifikasi Email"),(0,l.createElement)("p",{className:"text-xs text-gray-500"},"Kirim email saat ada pendaftaran jamaah baru.")),(0,l.createElement)("label",{className:"relative inline-flex items-center cursor-pointer"},(0,l.createElement)("input",{type:"checkbox",className:"sr-only peer",checked:e.email_notifications,onChange:e=>a("email_notifications",e.target.checked)}),(0,l.createElement)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"}))),(0,l.createElement)("hr",null),(0,l.createElement)("div",{className:"flex items-center justify-between"},(0,l.createElement)("div",null,(0,l.createElement)("h4",{className:"font-semibold text-gray-700 flex items-center gap-2"},(0,l.createElement)(Jl,{size:14})," Notifikasi WhatsApp"),(0,l.createElement)("p",{className:"text-xs text-gray-500"},"Integrasi WA Gateway untuk notifikasi tagihan.")),(0,l.createElement)("label",{className:"relative inline-flex items-center cursor-pointer"},(0,l.createElement)("input",{type:"checkbox",className:"sr-only peer",checked:e.whatsapp_notifications,onChange:e=>a("whatsapp_notifications",e.target.checked)}),(0,l.createElement)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"}))))),(0,l.createElement)("div",{className:"flex justify-end pb-10"},(0,l.createElement)("button",{onClick:()=>{ua.success("Pengaturan berhasil disimpan!")},className:"bg-blue-600 text-white px-6 py-3 rounded-lg shadow-lg hover:bg-blue-700 flex items-center gap-2 transform hover:-translate-y-1 transition-all"},(0,l.createElement)(Vl,{size:20})," Simpan Semua Pengaturan"))))},Fl=({title:e})=>(0,l.createElement)("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-50"},(0,l.createElement)("div",{className:"text-center p-8 bg-white rounded shadow-lg"},(0,l.createElement)("h2",{className:"text-2xl font-bold text-gray-800 mb-2"},e),(0,l.createElement)("p",{className:"text-gray-500"},"Halaman ini sedang dalam tahap pengembangan."))),Gl=()=>(0,l.createElement)(be,null,(0,l.createElement)(de,null,(0,l.createElement)(ie,{path:"/",element:(0,l.createElement)(Qe,null)}),(0,l.createElement)(ie,{path:"/dashboard",element:(0,l.createElement)(Qe,null)}),(0,l.createElement)(ie,{path:"/bookings/create",element:(0,l.createElement)(rt,null)}),(0,l.createElement)(ie,{path:"/bookings",element:(0,l.createElement)(dt,null)}),(0,l.createElement)(ie,{path:"/packages",element:(0,l.createElement)(kt,null)}),(0,l.createElement)(ie,{path:"/departures",element:(0,l.createElement)(Dt,null)}),(0,l.createElement)(ie,{path:"/hotels",element:(0,l.createElement)(Tt,null)}),(0,l.createElement)(ie,{path:"/package-categories",element:(0,l.createElement)(Ia,null)}),(0,l.createElement)(ie,{path:"/flights",element:(0,l.createElement)(Ka,null)}),(0,l.createElement)(ie,{path:"/jamaah",element:(0,l.createElement)(Ga,null)}),(0,l.createElement)(ie,{path:"/manifest",element:(0,l.createElement)(tl,null)}),(0,l.createElement)(ie,{path:"/rooming",element:(0,l.createElement)(al,null)}),(0,l.createElement)(ie,{path:"/logistics",element:(0,l.createElement)(sl,null)}),(0,l.createElement)(ie,{path:"/tasks",element:(0,l.createElement)(ol,null)}),(0,l.createElement)(ie,{path:"/finance",element:(0,l.createElement)(gl,null)}),(0,l.createElement)(ie,{path:"/hr",element:(0,l.createElement)(yl,null)}),(0,l.createElement)(ie,{path:"/hr/payroll",element:(0,l.createElement)(Cl,null)}),(0,l.createElement)(ie,{path:"/agents",element:(0,l.createElement)(Ll,null)}),(0,l.createElement)(ie,{path:"/marketing",element:(0,l.createElement)(Pl,null)}),(0,l.createElement)(ie,{path:"/masters",element:(0,l.createElement)(Ml,null)}),(0,l.createElement)(ie,{path:"/users",element:(0,l.createElement)(Hl,null)}),(0,l.createElement)(ie,{path:"/roles",element:(0,l.createElement)(Ul,null)}),(0,l.createElement)(ie,{path:"/settings",element:(0,l.createElement)(Zl,null)}),(0,l.createElement)(ie,{path:"*",element:(0,l.createElement)(Fl,{title:"Halaman Tidak Ditemukan (404)"})}))),Ql=()=>(0,l.createElement)(Pe,null,(0,l.createElement)(Gl,null)),Xl=document.getElementById("umh-app-root");Xl&&(0,n.H)(Xl).render((0,l.createElement)(Ql,null))})();